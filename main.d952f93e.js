parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KkZG":[function(require,module,exports) {
"use strict";function e(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}function t(e,t){var n=e.__state.conversionName.toString(),o=Math.round(e.r),i=Math.round(e.g),r=Math.round(e.b),s=e.a,a=Math.round(e.h),l=e.s.toFixed(1),d=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+o+","+i+","+r+")":"CSS_RGBA"===n?"rgba("+o+","+i+","+r+","+s+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+o+","+i+","+r+"]":"RGBA_ARRAY"===n?"["+o+","+i+","+r+","+s+"]":"RGB_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+"}":"RGBA_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+",a:"+s+"}":"HSV_OBJ"===n?"{h:"+a+",s:"+l+",v:"+d+"}":"HSVA_OBJ"===n?"{h:"+a+",s:"+l+",v:"+d+",a:"+s+"}":"unknown format"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.GUI=exports.gui=exports.dom=exports.controllers=exports.color=void 0;var n=Array.prototype.forEach,o=Array.prototype.slice,i={BREAK:{},extend:function(e){return this.each(o.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(o.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=o.call(arguments);return function(){for(var t=o.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,o){if(e)if(n&&e.forEach&&e.forEach===n)e.forEach(t,o);else if(e.length===e.length+0){var i,r=void 0;for(r=0,i=e.length;r<i;r++)if(r in e&&t.call(o,e[r],r)===this.BREAK)return}else for(var s in e)if(t.call(o,e[s],s)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var o=void 0;return function(){var i=this,r=arguments;var s=n||!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,r)},t),s&&e.apply(i,r)}},toArray:function(e){return e.toArray?e.toArray():o.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},r=[{litmus:i.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:t},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:t},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:t},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:t}}},{litmus:i.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:i.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:i.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(i.isNumber(e.r)&&i.isNumber(e.g)&&i.isNumber(e.b)&&i.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(i.isNumber(e.r)&&i.isNumber(e.g)&&i.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(i.isNumber(e.h)&&i.isNumber(e.s)&&i.isNumber(e.v)&&i.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(i.isNumber(e.h)&&i.isNumber(e.s)&&i.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],s=void 0,a=void 0,l=function(){a=!1;var e=arguments.length>1?i.toArray(arguments):arguments[0];return i.each(r,function(t){if(t.litmus(e))return i.each(t.conversions,function(t,n){if(s=t.read(e),!1===a&&!1!==s)return a=s,s.conversionName=n,s.conversion=t,i.BREAK}),i.BREAK}),a},d=void 0,c={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),r=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=[[n,a,r],[s,n,r],[r,n,a],[r,s,n],[a,r,n],[n,r,s]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),i=Math.max(e,t,n),r=i-o,s=void 0;return 0===i?{h:NaN,s:0,v:0}:(s=e===i?(t-n)/r:t===i?2+(n-e)/r:4+(e-t)/r,(s/=6)<0&&(s+=1),{h:360*s,s:r/i,v:i/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(d=8*t)|e&~(255<<d)}},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},m=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},g=function(){function e(){if(_(this,e),this.__state=l.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return h(e,[{key:"toString",value:function(){return t(this)}},{key:"toHexString",value:function(){return t(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function b(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(g.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(g.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function v(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(g.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(g.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}g.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=c.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");i.extend(e.__state,c.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},g.recalculateHSV=function(e){var t=c.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:t.s,v:t.v}),i.isNaN(t.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},g.COMPONENTS=["r","g","b","h","s","v","hex","a"],b(g.prototype,"r",2),b(g.prototype,"g",1),b(g.prototype,"b",0),v(g.prototype,"h"),v(g.prototype,"s"),v(g.prototype,"v"),Object.defineProperty(g.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(g.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=c.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var y=function(){function e(t,n){_(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return h(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),w={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},x={};i.each(w,function(e,t){i.each(e,function(e){x[e]=t})});var E=/(\d+(\.\d+)?)px/;function C(e){if("0"===e||i.isUndefined(e))return 0;var t=e.match(E);return i.isNull(t)?0:parseFloat(t[1])}var A={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var o=n,r=t;i.isUndefined(r)&&(r=!0),i.isUndefined(o)&&(o=!0),e.style.position="absolute",r&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var r=n||{},s=x[t];if(!s)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":var l=r.x||r.clientX||0,d=r.y||r.clientY||0;a.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,l,d,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=a.initKeyboardEvent||a.initKeyEvent;i.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(t,r.bubbles||!1,r.cancelable||!0)}i.defaults(a,o),e.dispatchEvent(a)},bind:function(e,t,n,o){var i=o||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),A},unbind:function(e,t,n,o){var i=o||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),A},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return A},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!==o&&(n.splice(o,1),e.className=n.join(" "))}else e.className=void 0;return A},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return C(t["border-left-width"])+C(t["border-right-width"])+C(t["padding-left"])+C(t["padding-right"])+C(t.width)},getHeight:function(e){var t=getComputedStyle(e);return C(t["border-top-width"])+C(t["border-bottom-width"])+C(t["padding-top"])+C(t["padding-bottom"])+C(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},k=function(e){function t(e,n){_(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;return o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox"),A.bind(o.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return f(t,y),h(t,[{key:"setValue",value:function(e){var n=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),S=function(e){function t(e,n,o){_(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=o,a=r;if(r.__select=document.createElement("select"),i.isArray(s)){var l={};i.each(s,function(e){l[e]=e}),s=l}return i.each(s,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),a.__select.appendChild(n)}),r.updateDisplay(),A.bind(r.__select,"change",function(){var e=this.options[this.selectedIndex].value;a.setValue(e)}),r.domElement.appendChild(r.__select),r}return f(t,y),h(t,[{key:"setValue",value:function(e){var n=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return A.isActive(this.__select)?this:(this.__select.value=this.getValue(),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),O=function(e){function t(e,n){_(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;function r(){i.setValue(i.__input.value)}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),A.bind(o.__input,"keyup",r),A.bind(o.__input,"change",r),A.bind(o.__input,"blur",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),A.bind(o.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return f(t,y),h(t,[{key:"updateDisplay",value:function(){return A.isActive(this.__input)||(this.__input.value=this.getValue()),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function T(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var L=function(e){function t(e,n,o){_(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=o||{};return r.__min=s.min,r.__max=s.max,r.__step=s.step,i.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=T(r.__impliedStep),r}return f(t,y),h(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=T(e),this}}]),t}();function R(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var B=function(e){function t(e,n,o){_(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));r.__truncationSuspended=!1;var s=r,a=void 0;function l(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function d(e){var t=a-e.clientY;s.setValue(s.getValue()+t*s.__impliedStep),a=e.clientY}function c(){A.unbind(window,"mousemove",d),A.unbind(window,"mouseup",c),l()}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),A.bind(r.__input,"change",function(){var e=parseFloat(s.__input.value);i.isNaN(e)||s.setValue(e)}),A.bind(r.__input,"blur",function(){l()}),A.bind(r.__input,"mousedown",function(e){A.bind(window,"mousemove",d),A.bind(window,"mouseup",c),a=e.clientY}),A.bind(r.__input,"keydown",function(e){13===e.keyCode&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1,l())}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return f(t,L),h(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():R(this.getValue(),this.__precision),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function N(e,t,n,o,i){return o+(e-t)/(n-t)*(i-o)}var H=function(e){function t(e,n,o,i,r){_(this,t);var s=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:o,max:i,step:r})),a=s;function l(e){e.preventDefault();var t=a.__background.getBoundingClientRect();return a.setValue(N(e.clientX,t.left,t.right,a.__min,a.__max)),!1}function d(){A.unbind(window,"mousemove",l),A.unbind(window,"mouseup",d),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function c(e){var t=e.touches[0].clientX,n=a.__background.getBoundingClientRect();a.setValue(N(t,n.left,n.right,a.__min,a.__max))}function u(){A.unbind(window,"touchmove",c),A.unbind(window,"touchend",u),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return s.__background=document.createElement("div"),s.__foreground=document.createElement("div"),A.bind(s.__background,"mousedown",function(e){document.activeElement.blur(),A.bind(window,"mousemove",l),A.bind(window,"mouseup",d),l(e)}),A.bind(s.__background,"touchstart",function(e){if(1!==e.touches.length)return;A.bind(window,"touchmove",c),A.bind(window,"touchend",u),c(e)}),A.addClass(s.__background,"slider"),A.addClass(s.__foreground,"slider-fg"),s.updateDisplay(),s.__background.appendChild(s.__foreground),s.domElement.appendChild(s.__background),s}return f(t,L),h(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),F=function(e){function t(e,n,o){_(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===o?"Fire":o,A.bind(i.__button,"click",function(e){return e.preventDefault(),r.fire(),!1}),A.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return f(t,y),h(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),P=function(e){function t(e,n){_(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.__color=new g(o.getValue()),o.__temp=new g(0);var r=o;o.domElement=document.createElement("div"),A.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",A.bind(o.__input,"keydown",function(e){13===e.keyCode&&h.call(this)}),A.bind(o.__input,"blur",h),A.bind(o.__selector,"mousedown",function(){A.addClass(this,"drag").bind(window,"mouseup",function(){A.removeClass(r.__selector,"drag")})}),A.bind(o.__selector,"touchstart",function(){A.addClass(this,"drag").bind(window,"touchend",function(){A.removeClass(r.__selector,"drag")})});var s=document.createElement("div");function a(e){f(e),A.bind(window,"mousemove",f),A.bind(window,"touchmove",f),A.bind(window,"mouseup",c),A.bind(window,"touchend",c)}function d(e){b(e),A.bind(window,"mousemove",b),A.bind(window,"touchmove",b),A.bind(window,"mouseup",u),A.bind(window,"touchend",u)}function c(){A.unbind(window,"mousemove",f),A.unbind(window,"touchmove",f),A.unbind(window,"mouseup",c),A.unbind(window,"touchend",c),p()}function u(){A.unbind(window,"mousemove",b),A.unbind(window,"touchmove",b),A.unbind(window,"mouseup",u),A.unbind(window,"touchend",u),p()}function h(){var e=l(this.value);!1!==e?(r.__color.__state=e,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function p(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}function f(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,o=n.clientX,i=n.clientY,s=(o-t.left)/(t.right-t.left),a=1-(i-t.top)/(t.bottom-t.top);return a>1?a=1:a<0&&(a=0),s>1?s=1:s<0&&(s=0),r.__color.v=a,r.__color.s=s,r.setValue(r.__color.toOriginal()),!1}function b(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),r.__color.h=360*n,r.setValue(r.__color.toOriginal()),!1}return i.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),i.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),i.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),i.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),i.extend(s.style,{width:"100%",height:"100%",background:"none"}),D(s,"top","rgba(0,0,0,0)","#000"),i.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),V(o.__hue_field),i.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),A.bind(o.__saturation_field,"mousedown",a),A.bind(o.__saturation_field,"touchstart",a),A.bind(o.__field_knob,"mousedown",a),A.bind(o.__field_knob,"touchstart",a),A.bind(o.__hue_field,"mousedown",d),A.bind(o.__hue_field,"touchstart",d),o.__saturation_field.appendChild(s),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay(),o}return f(t,y),h(t,[{key:"updateDisplay",value:function(){var e=l(this.getValue());if(!1!==e){var t=!1;i.each(g.COMPONENTS,function(n){if(!i.isUndefined(e[n])&&!i.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&i.extend(this.__color.__state,e)}i.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;i.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,D(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),i.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),t}(),j=["-moz-","-o-","-webkit-","-ms-",""];function D(e,t,n,o){e.style.background="",i.each(j,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "})}function V(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var I={load:function(e,t){var n=t||document,o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,n.getElementsByTagName("head")[0].appendChild(o)},inject:function(e,t){var n=t||document,o=document.createElement("style");o.type="text/css",o.innerHTML=e;var i=n.getElementsByTagName("head")[0];try{i.appendChild(o)}catch(r){}}},z='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',M=function(e,t){var n=e[t];return i.isArray(arguments[2])||i.isObject(arguments[2])?new S(e,t,arguments[2]):i.isNumber(n)?i.isNumber(arguments[2])&&i.isNumber(arguments[3])?i.isNumber(arguments[4])?new H(e,t,arguments[2],arguments[3],arguments[4]):new H(e,t,arguments[2],arguments[3]):i.isNumber(arguments[4])?new B(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new B(e,t,{min:arguments[2],max:arguments[3]}):i.isString(n)?new O(e,t):i.isFunction(n)?new F(e,t,""):i.isBoolean(n)?new k(e,t):null};function G(e){setTimeout(e,1e3/60)}var U=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||G,X=function(){function e(){_(this,e),this.backgroundElement=document.createElement("div"),i.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),A.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),i.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;A.bind(this.backgroundElement,"click",function(){t.hide()})}return h(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),i.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",A.unbind(e.domElement,"webkitTransitionEnd",t),A.unbind(e.domElement,"transitionend",t),A.unbind(e.domElement,"oTransitionEnd",t)};A.bind(this.domElement,"webkitTransitionEnd",t),A.bind(this.domElement,"transitionend",t),A.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-A.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-A.getHeight(this.domElement)/2+"px"}}]),e}(),K=e(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");I.inject(K);var Y="dg",J=72,W=20,Q="Default",q=function(){try{return!!window.localStorage}catch(e){return!1}}(),Z=void 0,$=!0,ee=void 0,te=!1,ne=[],oe=function e(t){var n=this,o=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),A.addClass(this.domElement,Y),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=i.defaults(o,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),o=i.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),i.isUndefined(o.load)?o.load={preset:Q}:o.preset&&(o.load.preset=o.preset),i.isUndefined(o.parent)&&o.hideable&&ne.push(this),o.resizable=i.isUndefined(o.parent)&&o.resizable,o.autoPlace&&i.isUndefined(o.scrollable)&&(o.scrollable=!0);var r,s=q&&"true"===localStorage.getItem(ce(this,"isLocal")),a=void 0,l=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,ge(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,fe(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,l&&(l.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(t){o.closed=t,o.closed?A.addClass(n.__ul,e.CLASS_CLOSED):A.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return s},set:function(e){q&&(s=e,e?A.bind(window,"unload",a):A.unbind(window,"unload",a),localStorage.setItem(ce(n,"isLocal"),e))}}}),i.isUndefined(o.parent)){if(this.closed=o.closed||!1,A.addClass(this.domElement,e.CLASS_MAIN),A.makeSelectable(this.domElement,!1),q&&s){n.useLocalStorage=!0;var d=localStorage.getItem(ce(this,"gui"));d&&(o.load=JSON.parse(d))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,A.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),o.closeOnTop?(A.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(A.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),A.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===o.closed&&(o.closed=!0);var c=document.createTextNode(o.name);A.addClass(c,"controller-name"),l=ie(n,c);A.addClass(this.__ul,e.CLASS_CLOSED),A.addClass(l,"title"),A.bind(l,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),o.closed||(this.closed=!1)}o.autoPlace&&(i.isUndefined(o.parent)&&($&&(ee=document.createElement("div"),A.addClass(ee,Y),A.addClass(ee,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ee),$=!1),ee.appendChild(this.domElement),A.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||fe(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},A.bind(window,"resize",this.__resizeHandler),A.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),A.bind(this.__ul,"transitionend",this.__resizeHandler),A.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&pe(this),a=function(){q&&"true"===localStorage.getItem(ce(n,"isLocal"))&&localStorage.setItem(ce(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,o.parent||((r=n.getRoot()).width+=1,i.defer(function(){r.width-=1}))};function ie(e,t,n){var o=document.createElement("li");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,n):e.__ul.appendChild(o),e.onResize(),o}function re(e){A.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&A.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function se(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function ae(e,t,n){if(n.__li=t,n.__gui=e,i.extend(n,{options:function(t){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),de(e,n.object,n.property,{before:o,factoryArgs:[i.toArray(arguments)]})}if(i.isArray(t)||i.isObject(t)){var r=n.__li.nextElementSibling;return n.remove(),de(e,n.object,n.property,{before:r,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof H){var o=new B(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});i.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(e){var t=n[e],i=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(o,e),t.apply(n,e)}}),A.addClass(t,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof B){var r=function(t){if(i.isNumber(n.__min)&&i.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,r=n.__gui.__listening.indexOf(n)>-1;n.remove();var s=de(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return s.name(o),r&&s.listen(),s}return t};n.min=i.compose(r,n.min),n.max=i.compose(r,n.max)}else n instanceof k?(A.bind(t,"click",function(){A.fakeEvent(n.__checkbox,"click")}),A.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof F?(A.bind(t,"click",function(){A.fakeEvent(n.__button,"click")}),A.bind(t,"mouseover",function(){A.addClass(n.__button,"hover")}),A.bind(t,"mouseout",function(){A.removeClass(n.__button,"hover")})):n instanceof P&&(A.addClass(t,"color"),n.updateDisplay=i.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=i.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&se(e.getRoot(),!0),t},n.setValue)}function le(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,s=void 0;if(r[e.preset])s=r[e.preset];else{if(!r[Q])return;s=r[Q]}if(s[o]&&void 0!==s[o][t.property]){var a=s[o][t.property];t.initialValue=a,t.setValue(a)}}}}function de(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var i=void 0;if(o.color)i=new P(t,n);else{var r=[t,n].concat(o.factoryArgs);i=M.apply(e,r)}o.before instanceof y&&(o.before=o.before.__li),le(e,i),A.addClass(i.domElement,"c");var s=document.createElement("span");A.addClass(s,"property-name"),s.innerHTML=i.property;var a=document.createElement("div");a.appendChild(s),a.appendChild(i.domElement);var l=ie(e,a,o.before);return A.addClass(l,oe.CLASS_CONTROLLER_ROW),i instanceof P?A.addClass(l,"color"):A.addClass(l,u(i.getValue())),ae(e,l,i),e.__controllers.push(i),i}function ce(e,t){return document.location.href+"."+t}function ue(e,t,n){var o=document.createElement("option");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function _e(e,t){t.style.display=e.useLocalStorage?"block":"none"}function he(e){var t=e.__save_row=document.createElement("li");A.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),A.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",A.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",A.addClass(o,"button"),A.addClass(o,"save");var r=document.createElement("span");r.innerHTML="New",A.addClass(r,"button"),A.addClass(r,"save-as");var s=document.createElement("span");s.innerHTML="Revert",A.addClass(s,"button"),A.addClass(s,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?i.each(e.load.remembered,function(t,n){ue(e,n,n===e.preset)}):ue(e,Q,!1),A.bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(s),q){var l=document.getElementById("dg-local-explain"),d=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(ce(e,"isLocal"))&&d.setAttribute("checked","checked"),_e(e,l),A.bind(d,"change",function(){e.useLocalStorage=!e.useLocalStorage,_e(e,l)})}var c=document.getElementById("dg-new-constructor");A.bind(c,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||Z.hide()}),A.bind(n,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),Z.show(),c.focus(),c.select()}),A.bind(o,"click",function(){e.save()}),A.bind(r,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),A.bind(s,"click",function(){e.revert()})}function pe(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function o(){A.removeClass(e.__closeButton,oe.CLASS_DRAG),A.unbind(window,"mousemove",n),A.unbind(window,"mouseup",o)}function r(i){return i.preventDefault(),t=i.clientX,A.addClass(e.__closeButton,oe.CLASS_DRAG),A.bind(window,"mousemove",n),A.bind(window,"mouseup",o),!1}e.__resize_handle=document.createElement("div"),i.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),A.bind(e.__resize_handle,"mousedown",r),A.bind(e.__closeButton,"mousedown",r),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function fe(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function me(e,t){var n={};return i.each(e.__rememberedObjects,function(o,r){var s={},a=e.__rememberedObjectIndecesToControllers[r];i.each(a,function(e,n){s[n]=t?e.initialValue:e.getValue()}),n[r]=s}),n}function ge(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function be(e){0!==e.length&&U.call(window,function(){be(e)}),i.each(e,function(e){e.updateDisplay()})}oe.toggleHide=function(){te=!te,i.each(ne,function(e){e.domElement.style.display=te?"none":""})},oe.CLASS_AUTO_PLACE="a",oe.CLASS_AUTO_PLACE_CONTAINER="ac",oe.CLASS_MAIN="main",oe.CLASS_CONTROLLER_ROW="cr",oe.CLASS_TOO_TALL="taller-than-window",oe.CLASS_CLOSED="closed",oe.CLASS_CLOSE_BUTTON="close-button",oe.CLASS_CLOSE_TOP="close-top",oe.CLASS_CLOSE_BOTTOM="close-bottom",oe.CLASS_DRAG="drag",oe.DEFAULT_WIDTH=245,oe.TEXT_CLOSED="Close Controls",oe.TEXT_OPEN="Open Controls",oe._keydownHandler=function(e){"text"===document.activeElement.type||e.which!==J&&e.keyCode!==J||oe.toggleHide()},A.bind(window,"keydown",oe._keydownHandler,!1),i.extend(oe.prototype,{add:function(e,t){return de(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return de(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;i.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ee.removeChild(this.domElement);var e=this;i.each(this.__folders,function(t){e.removeFolder(t)}),A.unbind(window,"keydown",oe._keydownHandler,!1),re(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new oe(t);this.__folders[e]=n;var o=ie(this,n.domElement);return A.addClass(o,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],re(e);var t=this;i.each(e.__folders,function(t){e.removeFolder(t)}),i.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=A.getOffset(e.__ul).top,n=0;i.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=A.getHeight(t))}),window.innerHeight-t-W<n?(A.addClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-W+"px"):(A.removeClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&i.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:i.debounce(function(){this.onResize()},50),remember:function(){if(i.isUndefined(Z)&&((Z=new X).domElement.innerHTML=z),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;i.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&he(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&fe(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=me(this)),e.folders={},i.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=me(this),se(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Q]=me(this,!0)),this.load.remembered[e]=me(this),this.preset=e,ue(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){i.each(this.__controllers,function(t){this.getRoot().load.remembered?le(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),i.each(this.__folders,function(e){e.revert(e)}),e||se(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&be(this.__listening)},updateDisplay:function(){i.each(this.__controllers,function(e){e.updateDisplay()}),i.each(this.__folders,function(e){e.updateDisplay()})}});var ve={Color:g,math:c,interpret:l};exports.color=ve;var ye={Controller:y,BooleanController:k,OptionController:S,StringController:O,NumberController:L,NumberControllerBox:B,NumberControllerSlider:H,FunctionController:F,ColorController:P};exports.controllers=ye;var we={dom:A};exports.dom=we;var xe={GUI:oe};exports.gui=xe;var Ee=oe;exports.GUI=Ee;var Ce={color:ve,controllers:ye,dom:we,gui:xe,GUI:Ee},Ae=Ce;exports.default=Ae;
},{}],"PxDr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=e,exports.toRadian=s,exports.equals=n,exports.RANDOM=exports.ARRAY_TYPE=exports.EPSILON=void 0;var t=1e-6;exports.EPSILON=t;var r="undefined"!=typeof Float32Array?Float32Array:Array;exports.ARRAY_TYPE=r;var a=Math.random;function e(t){exports.ARRAY_TYPE=r=t}exports.RANDOM=a;var o=Math.PI/180;function s(t){return t*o}function n(r,a){return Math.abs(r-a)<=t*Math.max(1,Math.abs(r),Math.abs(a))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});
},{}],"hSOw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.copy=a,exports.identity=u,exports.fromValues=s,exports.set=i,exports.transpose=c,exports.invert=p,exports.adjoint=f,exports.determinant=x,exports.multiply=l,exports.rotate=M,exports.scale=h,exports.fromRotation=v,exports.fromScaling=b,exports.str=m,exports.frob=d,exports.LDU=y,exports.add=P,exports.subtract=O,exports.exactEquals=A,exports.equals=E,exports.multiplyScalar=R,exports.multiplyScalarAndAdd=j,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;var e=r();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function i(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function c(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function p(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*a-o*n;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-o*u,t[3]=e*u,t):null}function f(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function x(t){return t[0]*t[3]-t[2]*t[1]}function l(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return t[0]=n*s+a*i,t[1]=o*s+u*i,t[2]=n*c+a*p,t[3]=o*c+u*p,t}function M(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=Math.sin(e),i=Math.cos(e);return t[0]=n*i+a*s,t[1]=o*i+u*s,t[2]=n*-s+a*i,t[3]=o*-s+u*i,t}function h(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1];return t[0]=n*s,t[1]=o*s,t[2]=a*i,t[3]=u*i,t}function v(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function m(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function d(t){return Math.hypot(t[0],t[1],t[2],t[3])}function y(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function P(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function O(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function A(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function E(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}function R(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function j(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}var Y=l;exports.mul=Y;var _=O;exports.sub=_;
},{"./common.js":"PxDr"}],"n7Ma":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=a,exports.copy=o,exports.identity=u,exports.fromValues=s,exports.set=i,exports.invert=c,exports.determinant=p,exports.multiply=f,exports.rotate=x,exports.scale=l,exports.translate=M,exports.fromRotation=h,exports.fromScaling=b,exports.fromTranslation=v,exports.str=m,exports.frob=P,exports.add=d,exports.subtract=y,exports.multiplyScalar=O,exports.multiplyScalarAndAdd=A,exports.exactEquals=E,exports.equals=R,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;var e=r();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=a?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(6);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[4]=0,r[5]=0),r[0]=1,r[3]=1,r}function a(r){var e=new t.ARRAY_TYPE(6);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(r,e,n,a,o,u){var s=new t.ARRAY_TYPE(6);return s[0]=r,s[1]=e,s[2]=n,s[3]=a,s[4]=o,s[5]=u,s}function i(t,r,e,n,a,o,u){return t[0]=r,t[1]=e,t[2]=n,t[3]=a,t[4]=o,t[5]=u,t}function c(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],u=r[4],s=r[5],i=e*o-n*a;return i?(i=1/i,t[0]=o*i,t[1]=-n*i,t[2]=-a*i,t[3]=e*i,t[4]=(a*s-o*u)*i,t[5]=(n*u-e*s)*i,t):null}function p(t){return t[0]*t[3]-t[1]*t[2]}function f(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],x=e[3],l=e[4],M=e[5];return t[0]=n*c+o*p,t[1]=a*c+u*p,t[2]=n*f+o*x,t[3]=a*f+u*x,t[4]=n*l+o*M+s,t[5]=a*l+u*M+i,t}function x(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=Math.sin(e),p=Math.cos(e);return t[0]=n*p+o*c,t[1]=a*p+u*c,t[2]=n*-c+o*p,t[3]=a*-c+u*p,t[4]=s,t[5]=i,t}function l(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n*c,t[1]=a*c,t[2]=o*p,t[3]=u*p,t[4]=s,t[5]=i,t}function M(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=u,t[4]=n*c+o*p+s,t[5]=a*c+u*p+i,t}function h(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function m(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function P(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function d(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t}function y(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}function O(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t}function A(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t}function E(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function R(r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],x=e[3],l=e[4],M=e[5];return Math.abs(n-c)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-p)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-f)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-x)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-M)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))}var S=f;exports.mul=S;var Y=y;exports.sub=Y;
},{"./common.js":"PxDr"}],"SRDq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.fromMat4=e,exports.clone=o,exports.copy=u,exports.fromValues=s,exports.set=i,exports.identity=c,exports.transpose=p,exports.invert=f,exports.adjoint=M,exports.determinant=x,exports.multiply=h,exports.translate=b,exports.rotate=l,exports.scale=m,exports.fromTranslation=v,exports.fromRotation=P,exports.fromScaling=O,exports.fromMat2d=d,exports.fromQuat=y,exports.normalFromMat4=E,exports.projection=S,exports.str=A,exports.frob=j,exports.add=I,exports.subtract=L,exports.multiplyScalar=N,exports.multiplyScalarAndAdd=R,exports.exactEquals=Y,exports.equals=_,exports.sub=exports.mul=void 0;var t=a(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function a(t){if(t&&t.__esModule)return t;var a=r();if(a&&a.has(t))return a.get(t);var n={};if(null!=t){var e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=e?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}}return n.default=t,a&&a.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(9);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function o(r){var a=new t.ARRAY_TYPE(9);return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function s(r,a,n,e,o,u,s,i,c){var p=new t.ARRAY_TYPE(9);return p[0]=r,p[1]=a,p[2]=n,p[3]=e,p[4]=o,p[5]=u,p[6]=s,p[7]=i,p[8]=c,p}function i(t,r,a,n,e,o,u,s,i,c){return t[0]=r,t[1]=a,t[2]=n,t[3]=e,t[4]=o,t[5]=u,t[6]=s,t[7]=i,t[8]=c,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function p(t,r){if(t===r){var a=r[1],n=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=a,t[5]=r[7],t[6]=n,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function f(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],p=r[8],f=p*u-s*c,M=-p*o+s*i,x=c*o-u*i,h=a*f+n*M+e*x;return h?(h=1/h,t[0]=f*h,t[1]=(-p*n+e*c)*h,t[2]=(s*n-e*u)*h,t[3]=M*h,t[4]=(p*a-e*i)*h,t[5]=(-s*a+e*o)*h,t[6]=x*h,t[7]=(-c*a+n*i)*h,t[8]=(u*a-n*o)*h,t):null}function M(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],p=r[8];return t[0]=u*p-s*c,t[1]=e*c-n*p,t[2]=n*s-e*u,t[3]=s*i-o*p,t[4]=a*p-e*i,t[5]=e*o-a*s,t[6]=o*c-u*i,t[7]=n*i-a*c,t[8]=a*u-n*o,t}function x(t){var r=t[0],a=t[1],n=t[2],e=t[3],o=t[4],u=t[5],s=t[6],i=t[7],c=t[8];return r*(c*o-u*i)+a*(-c*e+u*s)+n*(i*e-o*s)}function h(t,r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],p=r[7],f=r[8],M=a[0],x=a[1],h=a[2],b=a[3],l=a[4],m=a[5],v=a[6],P=a[7],O=a[8];return t[0]=M*n+x*u+h*c,t[1]=M*e+x*s+h*p,t[2]=M*o+x*i+h*f,t[3]=b*n+l*u+m*c,t[4]=b*e+l*s+m*p,t[5]=b*o+l*i+m*f,t[6]=v*n+P*u+O*c,t[7]=v*e+P*s+O*p,t[8]=v*o+P*i+O*f,t}function b(t,r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],p=r[7],f=r[8],M=a[0],x=a[1];return t[0]=n,t[1]=e,t[2]=o,t[3]=u,t[4]=s,t[5]=i,t[6]=M*n+x*u+c,t[7]=M*e+x*s+p,t[8]=M*o+x*i+f,t}function l(t,r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],p=r[7],f=r[8],M=Math.sin(a),x=Math.cos(a);return t[0]=x*n+M*u,t[1]=x*e+M*s,t[2]=x*o+M*i,t[3]=x*u-M*n,t[4]=x*s-M*e,t[5]=x*i-M*o,t[6]=c,t[7]=p,t[8]=f,t}function m(t,r,a){var n=a[0],e=a[1];return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function P(t,r){var a=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=a,t[2]=0,t[3]=-a,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function y(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=a+a,s=n+n,i=e+e,c=a*u,p=n*u,f=n*s,M=e*u,x=e*s,h=e*i,b=o*u,l=o*s,m=o*i;return t[0]=1-f-h,t[3]=p-m,t[6]=M+l,t[1]=p+m,t[4]=1-c-h,t[7]=x-b,t[2]=M-l,t[5]=x+b,t[8]=1-c-f,t}function E(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],p=r[8],f=r[9],M=r[10],x=r[11],h=r[12],b=r[13],l=r[14],m=r[15],v=a*s-n*u,P=a*i-e*u,O=a*c-o*u,d=n*i-e*s,y=n*c-o*s,E=e*c-o*i,S=p*b-f*h,A=p*l-M*h,j=p*m-x*h,I=f*l-M*b,L=f*m-x*b,N=M*m-x*l,R=v*N-P*L+O*I+d*j-y*A+E*S;return R?(R=1/R,t[0]=(s*N-i*L+c*I)*R,t[1]=(i*j-u*N-c*A)*R,t[2]=(u*L-s*j+c*S)*R,t[3]=(e*L-n*N-o*I)*R,t[4]=(a*N-e*j+o*A)*R,t[5]=(n*j-a*L-o*S)*R,t[6]=(b*E-l*y+m*d)*R,t[7]=(l*O-h*E-m*P)*R,t[8]=(h*y-b*O+m*v)*R,t):null}function S(t,r,a){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function A(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function I(t,r,a){return t[0]=r[0]+a[0],t[1]=r[1]+a[1],t[2]=r[2]+a[2],t[3]=r[3]+a[3],t[4]=r[4]+a[4],t[5]=r[5]+a[5],t[6]=r[6]+a[6],t[7]=r[7]+a[7],t[8]=r[8]+a[8],t}function L(t,r,a){return t[0]=r[0]-a[0],t[1]=r[1]-a[1],t[2]=r[2]-a[2],t[3]=r[3]-a[3],t[4]=r[4]-a[4],t[5]=r[5]-a[5],t[6]=r[6]-a[6],t[7]=r[7]-a[7],t[8]=r[8]-a[8],t}function N(t,r,a){return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=r[7]*a,t[8]=r[8]*a,t}function R(t,r,a,n){return t[0]=r[0]+a[0]*n,t[1]=r[1]+a[1]*n,t[2]=r[2]+a[2]*n,t[3]=r[3]+a[3]*n,t[4]=r[4]+a[4]*n,t[5]=r[5]+a[5]*n,t[6]=r[6]+a[6]*n,t[7]=r[7]+a[7]*n,t[8]=r[8]+a[8]*n,t}function Y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function _(r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],p=r[7],f=r[8],M=a[0],x=a[1],h=a[2],b=a[3],l=a[4],m=a[5],v=a[6],P=a[7],O=a[8];return Math.abs(n-M)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(e-x)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-b)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-m)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(c-v)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(p-P)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(f-O)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))}var w=h;exports.mul=w;var g=L;exports.sub=g;
},{"./common.js":"PxDr"}],"WdlT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=e,exports.copy=o,exports.fromValues=s,exports.set=u,exports.identity=h,exports.transpose=M,exports.invert=i,exports.adjoint=c,exports.determinant=p,exports.multiply=f,exports.translate=x,exports.scale=b,exports.rotate=l,exports.rotateX=v,exports.rotateY=m,exports.rotateZ=P,exports.fromTranslation=O,exports.fromScaling=E,exports.fromRotation=S,exports.fromXRotation=I,exports.fromYRotation=y,exports.fromZRotation=L,exports.fromRotationTranslation=N,exports.fromQuat2=R,exports.getTranslation=d,exports.getScaling=g,exports.getRotation=A,exports.fromRotationTranslationScale=Y,exports.fromRotationTranslationScaleOrigin=T,exports.fromQuat=w,exports.frustum=_,exports.perspective=q,exports.perspectiveFromFieldOfView=j,exports.ortho=D,exports.lookAt=k,exports.targetTo=F,exports.str=Q,exports.frob=V,exports.add=W,exports.subtract=X,exports.multiplyScalar=Z,exports.multiplyScalarAndAdd=z,exports.exactEquals=B,exports.equals=C,exports.sub=exports.mul=void 0;var t=r(require("./common.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function r(t){if(t&&t.__esModule)return t;var r=a();if(r&&r.has(t))return r.get(t);var n={};if(null!=t){var e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=e?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}}return n.default=t,r&&r.set(t,n),n}function n(){var a=new t.ARRAY_TYPE(16);return t.ARRAY_TYPE!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function e(a){var r=new t.ARRAY_TYPE(16);return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r}function o(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function s(a,r,n,e,o,s,u,h,M,i,c,p,f,x,b,l){var v=new t.ARRAY_TYPE(16);return v[0]=a,v[1]=r,v[2]=n,v[3]=e,v[4]=o,v[5]=s,v[6]=u,v[7]=h,v[8]=M,v[9]=i,v[10]=c,v[11]=p,v[12]=f,v[13]=x,v[14]=b,v[15]=l,v}function u(t,a,r,n,e,o,s,u,h,M,i,c,p,f,x,b,l){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=s,t[6]=u,t[7]=h,t[8]=M,t[9]=i,t[10]=c,t[11]=p,t[12]=f,t[13]=x,t[14]=b,t[15]=l,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,a){if(t===a){var r=a[1],n=a[2],e=a[3],o=a[6],s=a[7],u=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=e,t[13]=s,t[14]=u}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}function i(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],c=a[9],p=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15],m=r*u-n*s,P=r*h-e*s,O=r*M-o*s,E=n*h-e*u,S=n*M-o*u,I=e*M-o*h,y=i*b-c*x,L=i*l-p*x,N=i*v-f*x,R=c*l-p*b,d=c*v-f*b,g=p*v-f*l,A=m*g-P*d+O*R+E*N-S*L+I*y;return A?(A=1/A,t[0]=(u*g-h*d+M*R)*A,t[1]=(e*d-n*g-o*R)*A,t[2]=(b*I-l*S+v*E)*A,t[3]=(p*S-c*I-f*E)*A,t[4]=(h*N-s*g-M*L)*A,t[5]=(r*g-e*N+o*L)*A,t[6]=(l*O-x*I-v*P)*A,t[7]=(i*I-p*O+f*P)*A,t[8]=(s*d-u*N+M*y)*A,t[9]=(n*N-r*d-o*y)*A,t[10]=(x*S-b*O+v*m)*A,t[11]=(c*O-i*S-f*m)*A,t[12]=(u*L-s*R-h*y)*A,t[13]=(r*R-n*L+e*y)*A,t[14]=(b*P-x*E-l*m)*A,t[15]=(i*E-c*P+p*m)*A,t):null}function c(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],c=a[9],p=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15];return t[0]=u*(p*v-f*l)-c*(h*v-M*l)+b*(h*f-M*p),t[1]=-(n*(p*v-f*l)-c*(e*v-o*l)+b*(e*f-o*p)),t[2]=n*(h*v-M*l)-u*(e*v-o*l)+b*(e*M-o*h),t[3]=-(n*(h*f-M*p)-u*(e*f-o*p)+c*(e*M-o*h)),t[4]=-(s*(p*v-f*l)-i*(h*v-M*l)+x*(h*f-M*p)),t[5]=r*(p*v-f*l)-i*(e*v-o*l)+x*(e*f-o*p),t[6]=-(r*(h*v-M*l)-s*(e*v-o*l)+x*(e*M-o*h)),t[7]=r*(h*f-M*p)-s*(e*f-o*p)+i*(e*M-o*h),t[8]=s*(c*v-f*b)-i*(u*v-M*b)+x*(u*f-M*c),t[9]=-(r*(c*v-f*b)-i*(n*v-o*b)+x*(n*f-o*c)),t[10]=r*(u*v-M*b)-s*(n*v-o*b)+x*(n*M-o*u),t[11]=-(r*(u*f-M*c)-s*(n*f-o*c)+i*(n*M-o*u)),t[12]=-(s*(c*l-p*b)-i*(u*l-h*b)+x*(u*p-h*c)),t[13]=r*(c*l-p*b)-i*(n*l-e*b)+x*(n*p-e*c),t[14]=-(r*(u*l-h*b)-s*(n*l-e*b)+x*(n*h-e*u)),t[15]=r*(u*p-h*c)-s*(n*p-e*c)+i*(n*h-e*u),t}function p(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],s=t[5],u=t[6],h=t[7],M=t[8],i=t[9],c=t[10],p=t[11],f=t[12],x=t[13],b=t[14],l=t[15];return(a*s-r*o)*(c*l-p*b)-(a*u-n*o)*(i*l-p*x)+(a*h-e*o)*(i*b-c*x)+(r*u-n*s)*(M*l-p*f)-(r*h-e*s)*(M*b-c*f)+(n*h-e*u)*(M*x-i*f)}function f(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3];return t[0]=P*n+O*u+E*c+S*b,t[1]=P*e+O*h+E*p+S*l,t[2]=P*o+O*M+E*f+S*v,t[3]=P*s+O*i+E*x+S*m,P=r[4],O=r[5],E=r[6],S=r[7],t[4]=P*n+O*u+E*c+S*b,t[5]=P*e+O*h+E*p+S*l,t[6]=P*o+O*M+E*f+S*v,t[7]=P*s+O*i+E*x+S*m,P=r[8],O=r[9],E=r[10],S=r[11],t[8]=P*n+O*u+E*c+S*b,t[9]=P*e+O*h+E*p+S*l,t[10]=P*o+O*M+E*f+S*v,t[11]=P*s+O*i+E*x+S*m,P=r[12],O=r[13],E=r[14],S=r[15],t[12]=P*n+O*u+E*c+S*b,t[13]=P*e+O*h+E*p+S*l,t[14]=P*o+O*M+E*f+S*v,t[15]=P*s+O*i+E*x+S*m,t}function x(t,a,r){var n,e,o,s,u,h,M,i,c,p,f,x,b=r[0],l=r[1],v=r[2];return a===t?(t[12]=a[0]*b+a[4]*l+a[8]*v+a[12],t[13]=a[1]*b+a[5]*l+a[9]*v+a[13],t[14]=a[2]*b+a[6]*l+a[10]*v+a[14],t[15]=a[3]*b+a[7]*l+a[11]*v+a[15]):(n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],t[0]=n,t[1]=e,t[2]=o,t[3]=s,t[4]=u,t[5]=h,t[6]=M,t[7]=i,t[8]=c,t[9]=p,t[10]=f,t[11]=x,t[12]=n*b+u*l+c*v+a[12],t[13]=e*b+h*l+p*v+a[13],t[14]=o*b+M*l+f*v+a[14],t[15]=s*b+i*l+x*v+a[15]),t}function b(t,a,r){var n=r[0],e=r[1],o=r[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function l(a,r,n,e){var o,s,u,h,M,i,c,p,f,x,b,l,v,m,P,O,E,S,I,y,L,N,R,d,g=e[0],A=e[1],Y=e[2],T=Math.hypot(g,A,Y);return T<t.EPSILON?null:(g*=T=1/T,A*=T,Y*=T,o=Math.sin(n),u=1-(s=Math.cos(n)),h=r[0],M=r[1],i=r[2],c=r[3],p=r[4],f=r[5],x=r[6],b=r[7],l=r[8],v=r[9],m=r[10],P=r[11],O=g*g*u+s,E=A*g*u+Y*o,S=Y*g*u-A*o,I=g*A*u-Y*o,y=A*A*u+s,L=Y*A*u+g*o,N=g*Y*u+A*o,R=A*Y*u-g*o,d=Y*Y*u+s,a[0]=h*O+p*E+l*S,a[1]=M*O+f*E+v*S,a[2]=i*O+x*E+m*S,a[3]=c*O+b*E+P*S,a[4]=h*I+p*y+l*L,a[5]=M*I+f*y+v*L,a[6]=i*I+x*y+m*L,a[7]=c*I+b*y+P*L,a[8]=h*N+p*R+l*d,a[9]=M*N+f*R+v*d,a[10]=i*N+x*R+m*d,a[11]=c*N+b*R+P*d,r!==a&&(a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a)}function v(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[4],s=a[5],u=a[6],h=a[7],M=a[8],i=a[9],c=a[10],p=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*e+M*n,t[5]=s*e+i*n,t[6]=u*e+c*n,t[7]=h*e+p*n,t[8]=M*e-o*n,t[9]=i*e-s*n,t[10]=c*e-u*n,t[11]=p*e-h*n,t}function m(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[8],i=a[9],c=a[10],p=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e-M*n,t[1]=s*e-i*n,t[2]=u*e-c*n,t[3]=h*e-p*n,t[8]=o*n+M*e,t[9]=s*n+i*e,t[10]=u*n+c*e,t[11]=h*n+p*e,t}function P(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[4],i=a[5],c=a[6],p=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e+M*n,t[1]=s*e+i*n,t[2]=u*e+c*n,t[3]=h*e+p*n,t[4]=M*e-o*n,t[5]=i*e-s*n,t[6]=c*e-u*n,t[7]=p*e-h*n,t}function O(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function E(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(a,r,n){var e,o,s,u=n[0],h=n[1],M=n[2],i=Math.hypot(u,h,M);return i<t.EPSILON?null:(u*=i=1/i,h*=i,M*=i,e=Math.sin(r),s=1-(o=Math.cos(r)),a[0]=u*u*s+o,a[1]=h*u*s+M*e,a[2]=M*u*s-h*e,a[3]=0,a[4]=u*h*s-M*e,a[5]=h*h*s+o,a[6]=M*h*s+u*e,a[7]=0,a[8]=u*M*s+h*e,a[9]=h*M*s-u*e,a[10]=M*M*s+o,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function I(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=n+n,h=e+e,M=o+o,i=n*u,c=n*h,p=n*M,f=e*h,x=e*M,b=o*M,l=s*u,v=s*h,m=s*M;return t[0]=1-(f+b),t[1]=c+m,t[2]=p-v,t[3]=0,t[4]=c-m,t[5]=1-(i+b),t[6]=x+l,t[7]=0,t[8]=p+v,t[9]=x-l,t[10]=1-(i+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function R(a,r){var n=new t.ARRAY_TYPE(3),e=-r[0],o=-r[1],s=-r[2],u=r[3],h=r[4],M=r[5],i=r[6],c=r[7],p=e*e+o*o+s*s+u*u;return p>0?(n[0]=2*(h*u+c*e+M*s-i*o)/p,n[1]=2*(M*u+c*o+i*e-h*s)/p,n[2]=2*(i*u+c*s+h*o-M*e)/p):(n[0]=2*(h*u+c*e+M*s-i*o),n[1]=2*(M*u+c*o+i*e-h*s),n[2]=2*(i*u+c*s+h*o-M*e)),N(a,r,n),a}function d(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t}function g(t,a){var r=a[0],n=a[1],e=a[2],o=a[4],s=a[5],u=a[6],h=a[8],M=a[9],i=a[10];return t[0]=Math.hypot(r,n,e),t[1]=Math.hypot(o,s,u),t[2]=Math.hypot(h,M,i),t}function A(a,r){var n=new t.ARRAY_TYPE(3);g(n,r);var e=1/n[0],o=1/n[1],s=1/n[2],u=r[0]*e,h=r[1]*o,M=r[2]*s,i=r[4]*e,c=r[5]*o,p=r[6]*s,f=r[8]*e,x=r[9]*o,b=r[10]*s,l=u+c+b,v=0;return l>0?(v=2*Math.sqrt(l+1),a[3]=.25*v,a[0]=(p-x)/v,a[1]=(f-M)/v,a[2]=(h-i)/v):u>c&&u>b?(v=2*Math.sqrt(1+u-c-b),a[3]=(p-x)/v,a[0]=.25*v,a[1]=(h+i)/v,a[2]=(f+M)/v):c>b?(v=2*Math.sqrt(1+c-u-b),a[3]=(f-M)/v,a[0]=(h+i)/v,a[1]=.25*v,a[2]=(p+x)/v):(v=2*Math.sqrt(1+b-u-c),a[3]=(h-i)/v,a[0]=(f+M)/v,a[1]=(p+x)/v,a[2]=.25*v),a}function Y(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=a[3],h=e+e,M=o+o,i=s+s,c=e*h,p=e*M,f=e*i,x=o*M,b=o*i,l=s*i,v=u*h,m=u*M,P=u*i,O=n[0],E=n[1],S=n[2];return t[0]=(1-(x+l))*O,t[1]=(p+P)*O,t[2]=(f-m)*O,t[3]=0,t[4]=(p-P)*E,t[5]=(1-(c+l))*E,t[6]=(b+v)*E,t[7]=0,t[8]=(f+m)*S,t[9]=(b-v)*S,t[10]=(1-(c+x))*S,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function T(t,a,r,n,e){var o=a[0],s=a[1],u=a[2],h=a[3],M=o+o,i=s+s,c=u+u,p=o*M,f=o*i,x=o*c,b=s*i,l=s*c,v=u*c,m=h*M,P=h*i,O=h*c,E=n[0],S=n[1],I=n[2],y=e[0],L=e[1],N=e[2],R=(1-(b+v))*E,d=(f+O)*E,g=(x-P)*E,A=(f-O)*S,Y=(1-(p+v))*S,T=(l+m)*S,w=(x+P)*I,_=(l-m)*I,q=(1-(p+b))*I;return t[0]=R,t[1]=d,t[2]=g,t[3]=0,t[4]=A,t[5]=Y,t[6]=T,t[7]=0,t[8]=w,t[9]=_,t[10]=q,t[11]=0,t[12]=r[0]+y-(R*y+A*L+w*N),t[13]=r[1]+L-(d*y+Y*L+_*N),t[14]=r[2]+N-(g*y+T*L+q*N),t[15]=1,t}function w(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=r+r,u=n+n,h=e+e,M=r*s,i=n*s,c=n*u,p=e*s,f=e*u,x=e*h,b=o*s,l=o*u,v=o*h;return t[0]=1-c-x,t[1]=i+v,t[2]=p-l,t[3]=0,t[4]=i-v,t[5]=1-M-x,t[6]=f+b,t[7]=0,t[8]=p+l,t[9]=f-b,t[10]=1-M-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,a,r,n,e,o,s){var u=1/(r-a),h=1/(e-n),M=1/(o-s);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*h,t[6]=0,t[7]=0,t[8]=(r+a)*u,t[9]=(e+n)*h,t[10]=(s+o)*M,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*M,t[15]=0,t}function q(t,a,r,n,e){var o,s=1/Math.tan(a/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(n-e),t[10]=(e+n)*o,t[14]=2*e*n*o):(t[10]=-1,t[14]=-2*n),t}function j(t,a,r,n){var e=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),s=Math.tan(a.leftDegrees*Math.PI/180),u=Math.tan(a.rightDegrees*Math.PI/180),h=2/(s+u),M=2/(e+o);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M,t[6]=0,t[7]=0,t[8]=-(s-u)*h*.5,t[9]=(e-o)*M*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function D(t,a,r,n,e,o,s){var u=1/(a-r),h=1/(n-e),M=1/(o-s);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*M,t[11]=0,t[12]=(a+r)*u,t[13]=(e+n)*h,t[14]=(s+o)*M,t[15]=1,t}function k(a,r,n,e){var o,s,u,M,i,c,p,f,x,b,l=r[0],v=r[1],m=r[2],P=e[0],O=e[1],E=e[2],S=n[0],I=n[1],y=n[2];return Math.abs(l-S)<t.EPSILON&&Math.abs(v-I)<t.EPSILON&&Math.abs(m-y)<t.EPSILON?h(a):(p=l-S,f=v-I,x=m-y,o=O*(x*=b=1/Math.hypot(p,f,x))-E*(f*=b),s=E*(p*=b)-P*x,u=P*f-O*p,(b=Math.hypot(o,s,u))?(o*=b=1/b,s*=b,u*=b):(o=0,s=0,u=0),M=f*u-x*s,i=x*o-p*u,c=p*s-f*o,(b=Math.hypot(M,i,c))?(M*=b=1/b,i*=b,c*=b):(M=0,i=0,c=0),a[0]=o,a[1]=M,a[2]=p,a[3]=0,a[4]=s,a[5]=i,a[6]=f,a[7]=0,a[8]=u,a[9]=c,a[10]=x,a[11]=0,a[12]=-(o*l+s*v+u*m),a[13]=-(M*l+i*v+c*m),a[14]=-(p*l+f*v+x*m),a[15]=1,a)}function F(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=n[0],h=n[1],M=n[2],i=e-r[0],c=o-r[1],p=s-r[2],f=i*i+c*c+p*p;f>0&&(i*=f=1/Math.sqrt(f),c*=f,p*=f);var x=h*p-M*c,b=M*i-u*p,l=u*c-h*i;return(f=x*x+b*b+l*l)>0&&(x*=f=1/Math.sqrt(f),b*=f,l*=f),t[0]=x,t[1]=b,t[2]=l,t[3]=0,t[4]=c*l-p*b,t[5]=p*x-i*l,t[6]=i*b-c*x,t[7]=0,t[8]=i,t[9]=c,t[10]=p,t[11]=0,t[12]=e,t[13]=o,t[14]=s,t[15]=1,t}function Q(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.hypot(t[0],t[1],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function W(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t}function X(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t}function Z(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t}function z(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t[9]=a[9]+r[9]*n,t[10]=a[10]+r[10]*n,t[11]=a[11]+r[11]*n,t[12]=a[12]+r[12]*n,t[13]=a[13]+r[13]*n,t[14]=a[14]+r[14]*n,t[15]=a[15]+r[15]*n,t}function B(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]}function C(a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],c=a[8],p=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3],I=r[4],y=r[5],L=r[6],N=r[7],R=r[8],d=r[9],g=r[10],A=r[11],Y=r[12],T=r[13],w=r[14],_=r[15];return Math.abs(n-P)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(e-O)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(O))&&Math.abs(o-E)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(s-S)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-I)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(h-y)<=t.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(M-L)<=t.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(i-N)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(N))&&Math.abs(c-R)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(p-d)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(d))&&Math.abs(f-g)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(x-A)<=t.EPSILON*Math.max(1,Math.abs(x),Math.abs(A))&&Math.abs(b-Y)<=t.EPSILON*Math.max(1,Math.abs(b),Math.abs(Y))&&Math.abs(l-T)<=t.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(v-w)<=t.EPSILON*Math.max(1,Math.abs(v),Math.abs(w))&&Math.abs(m-_)<=t.EPSILON*Math.max(1,Math.abs(m),Math.abs(_))}var G=f;exports.mul=G;var H=X;exports.sub=H;
},{"./common.js":"PxDr"}],"Ijz7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.clone=o,exports.length=a,exports.fromValues=s,exports.copy=u,exports.set=i,exports.add=c,exports.subtract=p,exports.multiply=f,exports.divide=x,exports.ceil=h,exports.floor=M,exports.min=v,exports.max=l,exports.round=d,exports.scale=m,exports.scaleAndAdd=b,exports.distance=P,exports.squaredDistance=O,exports.squaredLength=y,exports.negate=A,exports.inverse=q,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=Y,exports.hermite=_,exports.bezier=j,exports.random=w,exports.transformMat4=D,exports.transformMat3=L,exports.transformQuat=I,exports.rotateX=N,exports.rotateY=T,exports.rotateZ=z,exports.angle=S,exports.zero=k,exports.str=W,exports.exactEquals=F,exports.equals=Q,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=n(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;var n=r();if(n&&n.has(t))return n.get(t);var e={};if(null!=t){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(e,a,s):e[a]=t[a]}}return e.default=t,n&&n.set(t,e),e}function e(){var r=new t.ARRAY_TYPE(3);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function o(r){var n=new t.ARRAY_TYPE(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function a(t){var r=t[0],n=t[1],e=t[2];return Math.hypot(r,n,e)}function s(r,n,e){var o=new t.ARRAY_TYPE(3);return o[0]=r,o[1]=n,o[2]=e,o}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function i(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t}function c(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function p(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function f(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function x(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function h(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function M(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function v(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t}function l(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t}function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function m(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function b(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t}function P(t,r){var n=r[0]-t[0],e=r[1]-t[1],o=r[2]-t[2];return Math.hypot(n,e,o)}function O(t,r){var n=r[0]-t[0],e=r[1]-t[1],o=r[2]-t[2];return n*n+e*e+o*o}function y(t){var r=t[0],n=t[1],e=t[2];return r*r+n*n+e*e}function A(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function q(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function g(t,r){var n=r[0],e=r[1],o=r[2],a=n*n+e*e+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function R(t,r,n){var e=r[0],o=r[1],a=r[2],s=n[0],u=n[1],i=n[2];return t[0]=o*i-a*u,t[1]=a*s-e*i,t[2]=e*u-o*s,t}function Y(t,r,n,e){var o=r[0],a=r[1],s=r[2];return t[0]=o+e*(n[0]-o),t[1]=a+e*(n[1]-a),t[2]=s+e*(n[2]-s),t}function _(t,r,n,e,o,a){var s=a*a,u=s*(2*a-3)+1,i=s*(a-2)+a,c=s*(a-1),p=s*(3-2*a);return t[0]=r[0]*u+n[0]*i+e[0]*c+o[0]*p,t[1]=r[1]*u+n[1]*i+e[1]*c+o[1]*p,t[2]=r[2]*u+n[2]*i+e[2]*c+o[2]*p,t}function j(t,r,n,e,o,a){var s=1-a,u=s*s,i=a*a,c=u*s,p=3*a*u,f=3*i*s,x=i*a;return t[0]=r[0]*c+n[0]*p+e[0]*f+o[0]*x,t[1]=r[1]*c+n[1]*p+e[1]*f+o[1]*x,t[2]=r[2]*c+n[2]*p+e[2]*f+o[2]*x,t}function w(r,n){n=n||1;var e=2*t.RANDOM()*Math.PI,o=2*t.RANDOM()-1,a=Math.sqrt(1-o*o)*n;return r[0]=Math.cos(e)*a,r[1]=Math.sin(e)*a,r[2]=o*n,r}function D(t,r,n){var e=r[0],o=r[1],a=r[2],s=n[3]*e+n[7]*o+n[11]*a+n[15];return s=s||1,t[0]=(n[0]*e+n[4]*o+n[8]*a+n[12])/s,t[1]=(n[1]*e+n[5]*o+n[9]*a+n[13])/s,t[2]=(n[2]*e+n[6]*o+n[10]*a+n[14])/s,t}function L(t,r,n){var e=r[0],o=r[1],a=r[2];return t[0]=e*n[0]+o*n[3]+a*n[6],t[1]=e*n[1]+o*n[4]+a*n[7],t[2]=e*n[2]+o*n[5]+a*n[8],t}function I(t,r,n){var e=n[0],o=n[1],a=n[2],s=n[3],u=r[0],i=r[1],c=r[2],p=o*c-a*i,f=a*u-e*c,x=e*i-o*u,h=o*x-a*f,M=a*p-e*x,v=e*f-o*p,l=2*s;return p*=l,f*=l,x*=l,h*=2,M*=2,v*=2,t[0]=u+p+h,t[1]=i+f+M,t[2]=c+x+v,t}function N(t,r,n,e){var o=[],a=[];return o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2],a[0]=o[0],a[1]=o[1]*Math.cos(e)-o[2]*Math.sin(e),a[2]=o[1]*Math.sin(e)+o[2]*Math.cos(e),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function T(t,r,n,e){var o=[],a=[];return o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2],a[0]=o[2]*Math.sin(e)+o[0]*Math.cos(e),a[1]=o[1],a[2]=o[2]*Math.cos(e)-o[0]*Math.sin(e),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function z(t,r,n,e){var o=[],a=[];return o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2],a[0]=o[0]*Math.cos(e)-o[1]*Math.sin(e),a[1]=o[0]*Math.sin(e)+o[1]*Math.cos(e),a[2]=o[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function S(t,r){var n=s(t[0],t[1],t[2]),e=s(r[0],r[1],r[2]);g(n,n),g(e,e);var o=E(n,e);return o>1?0:o<-1?Math.PI:Math.acos(o)}function k(t){return t[0]=0,t[1]=0,t[2]=0,t}function W(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function F(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function Q(r,n){var e=r[0],o=r[1],a=r[2],s=n[0],u=n[1],i=n[2];return Math.abs(e-s)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-u)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-i)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))}var V=p;exports.sub=V;var X=f;exports.mul=X;var Z=x;exports.div=Z;var B=P;exports.dist=B;var C=O;exports.sqrDist=C;var G=a;exports.len=G;var H=y;exports.sqrLen=H;var J=function(){var t=e();return function(r,n,e,o,a,s){var u,i;for(n||(n=3),e||(e=0),i=o?Math.min(o*n+e,r.length):r.length,u=e;u<i;u+=n)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],a(t,t,s),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2];return r}}();exports.forEach=J;
},{"./common.js":"PxDr"}],"QGfo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=c,exports.multiply=p,exports.divide=f,exports.ceil=x,exports.floor=h,exports.min=M,exports.max=l,exports.round=v,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=O,exports.length=A,exports.squaredLength=P,exports.negate=y,exports.inverse=R,exports.normalize=q,exports.dot=E,exports.cross=g,exports.lerp=w,exports.random=D,exports.transformMat4=N,exports.transformQuat=Y,exports.zero=_,exports.str=j,exports.exactEquals=L,exports.equals=I,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=e(require("./common.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;var e=r();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}}return n.default=t,e&&e.set(t,n),n}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function c(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function p(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function M(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t}function v(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function d(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return Math.hypot(e,n,o,a)}function O(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return e*e+n*n+o*o+a*a}function A(t){var r=t[0],e=t[1],n=t[2],o=t[3];return Math.hypot(r,e,n,o)}function P(t){var r=t[0],e=t[1],n=t[2],o=t[3];return r*r+e*e+n*n+o*o}function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function R(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function q(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*e+n*n+o*o+a*a;return u>0&&(u=1/Math.sqrt(u)),t[0]=e*u,t[1]=n*u,t[2]=o*u,t[3]=a*u,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function g(t,r,e,n){var o=e[0]*n[1]-e[1]*n[0],a=e[0]*n[2]-e[2]*n[0],u=e[0]*n[3]-e[3]*n[0],s=e[1]*n[2]-e[2]*n[1],i=e[1]*n[3]-e[3]*n[1],c=e[2]*n[3]-e[3]*n[2],p=r[0],f=r[1],x=r[2],h=r[3];return t[0]=f*c-x*i+h*s,t[1]=-p*c+x*u-h*a,t[2]=p*i-f*u+h*o,t[3]=-p*s+f*a-x*o,t}function w(t,r,e,n){var o=r[0],a=r[1],u=r[2],s=r[3];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=u+n*(e[2]-u),t[3]=s+n*(e[3]-s),t}function D(r,e){var n,o,a,u,s,i;e=e||1;do{s=(n=2*t.RANDOM()-1)*n+(o=2*t.RANDOM()-1)*o}while(s>=1);do{i=(a=2*t.RANDOM()-1)*a+(u=2*t.RANDOM()-1)*u}while(i>=1);var c=Math.sqrt((1-s)/i);return r[0]=e*n,r[1]=e*o,r[2]=e*a*c,r[3]=e*u*c,r}function N(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3];return t[0]=e[0]*n+e[4]*o+e[8]*a+e[12]*u,t[1]=e[1]*n+e[5]*o+e[9]*a+e[13]*u,t[2]=e[2]*n+e[6]*o+e[10]*a+e[14]*u,t[3]=e[3]*n+e[7]*o+e[11]*a+e[15]*u,t}function Y(t,r,e){var n=r[0],o=r[1],a=r[2],u=e[0],s=e[1],i=e[2],c=e[3],p=c*n+s*a-i*o,f=c*o+i*n-u*a,x=c*a+u*o-s*n,h=-u*n-s*o-i*a;return t[0]=p*c+h*-u+f*-i-x*-s,t[1]=f*c+h*-s+x*-u-p*-i,t[2]=x*c+h*-i+p*-s-f*-u,t[3]=r[3],t}function _(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function j(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function L(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function I(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}var S=c;exports.sub=S;var T=p;exports.mul=T;var k=f;exports.div=k;var z=b;exports.dist=z;var W=O;exports.sqrDist=W;var F=A;exports.len=F;var Q=P;exports.sqrLen=Q;var V=function(){var t=n();return function(r,e,n,o,a,u){var s,i;for(e||(e=4),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],t[2]=r[s+2],t[3]=r[s+3],a(t,t,u),r[s]=t[0],r[s+1]=t[1],r[s+2]=t[2],r[s+3]=t[3];return r}}();exports.forEach=V;
},{"./common.js":"PxDr"}],"PXH2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=s,exports.identity=u,exports.setAxisAngle=p,exports.getAxisAngle=c,exports.getAngle=i,exports.multiply=x,exports.rotateX=l,exports.rotateY=v,exports.rotateZ=h,exports.calculateW=M,exports.exp=f,exports.ln=q,exports.pow=d,exports.slerp=m,exports.random=g,exports.invert=P,exports.conjugate=A,exports.fromMat3=y,exports.fromEuler=O,exports.str=j,exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0;var r=n(require("./common.js")),t=n(require("./mat3.js")),e=n(require("./vec3.js")),o=n(require("./vec4.js"));function a(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return a=function(){return r},r}function n(r){if(r&&r.__esModule)return r;var t=a();if(t&&t.has(r))return t.get(r);var e={};if(null!=r){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var s=o?Object.getOwnPropertyDescriptor(r,n):null;s&&(s.get||s.set)?Object.defineProperty(e,n,s):e[n]=r[n]}}return e.default=r,t&&t.set(r,e),e}function s(){var t=new r.ARRAY_TYPE(4);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function u(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function p(r,t,e){e*=.5;var o=Math.sin(e);return r[0]=o*t[0],r[1]=o*t[1],r[2]=o*t[2],r[3]=Math.cos(e),r}function c(t,e){var o=2*Math.acos(e[3]),a=Math.sin(o/2);return a>r.EPSILON?(t[0]=e[0]/a,t[1]=e[1]/a,t[2]=e[2]/a):(t[0]=1,t[1]=0,t[2]=0),o}function i(r,t){var e=D(r,t);return Math.acos(2*e*e-1)}function x(r,t,e){var o=t[0],a=t[1],n=t[2],s=t[3],u=e[0],p=e[1],c=e[2],i=e[3];return r[0]=o*i+s*u+a*c-n*p,r[1]=a*i+s*p+n*u-o*c,r[2]=n*i+s*c+o*p-a*u,r[3]=s*i-o*u-a*p-n*c,r}function l(r,t,e){e*=.5;var o=t[0],a=t[1],n=t[2],s=t[3],u=Math.sin(e),p=Math.cos(e);return r[0]=o*p+s*u,r[1]=a*p+n*u,r[2]=n*p-a*u,r[3]=s*p-o*u,r}function v(r,t,e){e*=.5;var o=t[0],a=t[1],n=t[2],s=t[3],u=Math.sin(e),p=Math.cos(e);return r[0]=o*p-n*u,r[1]=a*p+s*u,r[2]=n*p+o*u,r[3]=s*p-a*u,r}function h(r,t,e){e*=.5;var o=t[0],a=t[1],n=t[2],s=t[3],u=Math.sin(e),p=Math.cos(e);return r[0]=o*p+a*u,r[1]=a*p-o*u,r[2]=n*p+s*u,r[3]=s*p-n*u,r}function M(r,t){var e=t[0],o=t[1],a=t[2];return r[0]=e,r[1]=o,r[2]=a,r[3]=Math.sqrt(Math.abs(1-e*e-o*o-a*a)),r}function f(r,t){var e=t[0],o=t[1],a=t[2],n=t[3],s=Math.sqrt(e*e+o*o+a*a),u=Math.exp(n),p=s>0?u*Math.sin(s)/s:0;return r[0]=e*p,r[1]=o*p,r[2]=a*p,r[3]=u*Math.cos(s),r}function q(r,t){var e=t[0],o=t[1],a=t[2],n=t[3],s=Math.sqrt(e*e+o*o+a*a),u=s>0?Math.atan2(s,n)/s:0;return r[0]=e*u,r[1]=o*u,r[2]=a*u,r[3]=.5*Math.log(e*e+o*o+a*a+n*n),r}function d(r,t,e){return q(r,t),_(r,r,e),f(r,r),r}function m(t,e,o,a){var n,s,u,p,c,i=e[0],x=e[1],l=e[2],v=e[3],h=o[0],M=o[1],f=o[2],q=o[3];return(s=i*h+x*M+l*f+v*q)<0&&(s=-s,h=-h,M=-M,f=-f,q=-q),1-s>r.EPSILON?(n=Math.acos(s),u=Math.sin(n),p=Math.sin((1-a)*n)/u,c=Math.sin(a*n)/u):(p=1-a,c=a),t[0]=p*i+c*h,t[1]=p*x+c*M,t[2]=p*l+c*f,t[3]=p*v+c*q,t}function g(t){var e=r.RANDOM(),o=r.RANDOM(),a=r.RANDOM(),n=Math.sqrt(1-e),s=Math.sqrt(e);return t[0]=n*Math.sin(2*Math.PI*o),t[1]=n*Math.cos(2*Math.PI*o),t[2]=s*Math.sin(2*Math.PI*a),t[3]=s*Math.cos(2*Math.PI*a),t}function P(r,t){var e=t[0],o=t[1],a=t[2],n=t[3],s=e*e+o*o+a*a+n*n,u=s?1/s:0;return r[0]=-e*u,r[1]=-o*u,r[2]=-a*u,r[3]=n*u,r}function A(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r}function y(r,t){var e,o=t[0]+t[4]+t[8];if(o>0)e=Math.sqrt(o+1),r[3]=.5*e,e=.5/e,r[0]=(t[5]-t[7])*e,r[1]=(t[6]-t[2])*e,r[2]=(t[1]-t[3])*e;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var n=(a+1)%3,s=(a+2)%3;e=Math.sqrt(t[3*a+a]-t[3*n+n]-t[3*s+s]+1),r[a]=.5*e,e=.5/e,r[3]=(t[3*n+s]-t[3*s+n])*e,r[n]=(t[3*n+a]+t[3*a+n])*e,r[s]=(t[3*s+a]+t[3*a+s])*e}return r}function O(r,t,e,o){var a=.5*Math.PI/180;t*=a,e*=a,o*=a;var n=Math.sin(t),s=Math.cos(t),u=Math.sin(e),p=Math.cos(e),c=Math.sin(o),i=Math.cos(o);return r[0]=n*p*i-s*u*c,r[1]=s*u*i+n*p*c,r[2]=s*p*c-n*u*i,r[3]=s*p*i+n*u*c,r}function j(r){return"quat("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}var E=o.clone;exports.clone=E;var I=o.fromValues;exports.fromValues=I;var b=o.copy;exports.copy=b;var L=o.set;exports.set=L;var R=o.add;exports.add=R;var w=x;exports.mul=w;var _=o.scale;exports.scale=_;var D=o.dot;exports.dot=D;var N=o.lerp;exports.lerp=N;var V=o.length;exports.length=V;var Y=V;exports.len=Y;var z=o.squaredLength;exports.squaredLength=z;var T=z;exports.sqrLen=T;var W=o.normalize;exports.normalize=W;var k=o.exactEquals;exports.exactEquals=k;var S=o.equals;exports.equals=S;var F=function(){var r=e.create(),t=e.fromValues(1,0,0),o=e.fromValues(0,1,0);return function(a,n,s){var u=e.dot(n,s);return u<-.999999?(e.cross(r,t,n),e.len(r)<1e-6&&e.cross(r,o,n),e.normalize(r,r),p(a,r,Math.PI),a):u>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(e.cross(r,n,s),a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=1+u,W(a,a))}}();exports.rotationTo=F;var X=function(){var r=s(),t=s();return function(e,o,a,n,s,u){return m(r,o,s,u),m(t,a,n,u),m(e,r,t,2*u*(1-u)),e}}();exports.sqlerp=X;var Z=function(){var r=t.create();return function(t,e,o,a){return r[0]=o[0],r[3]=o[1],r[6]=o[2],r[1]=a[0],r[4]=a[1],r[7]=a[2],r[2]=-e[0],r[5]=-e[1],r[8]=-e[2],W(t,y(t,r))}}();exports.setAxes=Z;
},{"./common.js":"PxDr","./mat3.js":"SRDq","./vec3.js":"Ijz7","./vec4.js":"QGfo"}],"BYXr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=o,exports.clone=s,exports.fromValues=u,exports.fromRotationTranslationValues=p,exports.fromRotationTranslation=i,exports.fromTranslation=x,exports.fromRotation=c,exports.fromMat4=f,exports.copy=h,exports.identity=l,exports.set=v,exports.getDual=b,exports.setDual=m,exports.getTranslation=R,exports.translate=d,exports.rotateX=O,exports.rotateY=g,exports.rotateZ=y,exports.rotateByQuatAppend=A,exports.rotateByQuatPrepend=E,exports.rotateAroundAxis=L,exports.add=Y,exports.multiply=q,exports.scale=j,exports.lerp=w,exports.invert=I,exports.conjugate=N,exports.normalize=Q,exports.str=V,exports.exactEquals=W,exports.equals=X,exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.dot=exports.mul=exports.setReal=exports.getReal=void 0;var t=n(require("./common.js")),r=n(require("./quat.js")),e=n(require("./mat4.js"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function n(t){if(t&&t.__esModule)return t;var r=a();if(r&&r.has(t))return r.get(t);var e={};if(null!=t){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(e,o,s):e[o]=t[o]}}return e.default=t,r&&r.set(t,e),e}function o(){var r=new t.ARRAY_TYPE(8);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0),r[3]=1,r}function s(r){var e=new t.ARRAY_TYPE(8);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e}function u(r,e,a,n,o,s,u,p){var i=new t.ARRAY_TYPE(8);return i[0]=r,i[1]=e,i[2]=a,i[3]=n,i[4]=o,i[5]=s,i[6]=u,i[7]=p,i}function p(r,e,a,n,o,s,u){var p=new t.ARRAY_TYPE(8);p[0]=r,p[1]=e,p[2]=a,p[3]=n;var i=.5*o,x=.5*s,c=.5*u;return p[4]=i*n+x*a-c*e,p[5]=x*n+c*r-i*a,p[6]=c*n+i*e-x*r,p[7]=-i*r-x*e-c*a,p}function i(t,r,e){var a=.5*e[0],n=.5*e[1],o=.5*e[2],s=r[0],u=r[1],p=r[2],i=r[3];return t[0]=s,t[1]=u,t[2]=p,t[3]=i,t[4]=a*i+n*p-o*u,t[5]=n*i+o*s-a*p,t[6]=o*i+a*u-n*s,t[7]=-a*s-n*u-o*p,t}function x(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function c(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function f(a,n){var o=r.create();e.getRotation(o,n);var s=new t.ARRAY_TYPE(3);return e.getTranslation(s,n),i(a,o,s),a}function h(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function l(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function v(t,r,e,a,n,o,s,u,p){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=s,t[6]=u,t[7]=p,t}var M=r.copy;function b(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}exports.getReal=M;var P=r.copy;function m(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function R(t,r){var e=r[4],a=r[5],n=r[6],o=r[7],s=-r[0],u=-r[1],p=-r[2],i=r[3];return t[0]=2*(e*i+o*s+a*p-n*u),t[1]=2*(a*i+o*u+n*s-e*p),t[2]=2*(n*i+o*p+e*u-a*s),t}function d(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=.5*e[0],p=.5*e[1],i=.5*e[2],x=r[4],c=r[5],f=r[6],h=r[7];return t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=s*u+n*i-o*p+x,t[5]=s*p+o*u-a*i+c,t[6]=s*i+a*p-n*u+f,t[7]=-a*u-n*p-o*i+h,t}function O(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],x=e[6],c=e[7],f=p*u+c*n+i*s-x*o,h=i*u+c*o+x*n-p*s,l=x*u+c*s+p*o-i*n,v=c*u-p*n-i*o-x*s;return r.rotateX(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=f*u+v*n+h*s-l*o,t[5]=h*u+v*o+l*n-f*s,t[6]=l*u+v*s+f*o-h*n,t[7]=v*u-f*n-h*o-l*s,t}function g(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],x=e[6],c=e[7],f=p*u+c*n+i*s-x*o,h=i*u+c*o+x*n-p*s,l=x*u+c*s+p*o-i*n,v=c*u-p*n-i*o-x*s;return r.rotateY(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=f*u+v*n+h*s-l*o,t[5]=h*u+v*o+l*n-f*s,t[6]=l*u+v*s+f*o-h*n,t[7]=v*u-f*n-h*o-l*s,t}function y(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],x=e[6],c=e[7],f=p*u+c*n+i*s-x*o,h=i*u+c*o+x*n-p*s,l=x*u+c*s+p*o-i*n,v=c*u-p*n-i*o-x*s;return r.rotateZ(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=f*u+v*n+h*s-l*o,t[5]=h*u+v*o+l*n-f*s,t[6]=l*u+v*s+f*o-h*n,t[7]=v*u-f*n-h*o-l*s,t}function A(t,r,e){var a=e[0],n=e[1],o=e[2],s=e[3],u=r[0],p=r[1],i=r[2],x=r[3];return t[0]=u*s+x*a+p*o-i*n,t[1]=p*s+x*n+i*a-u*o,t[2]=i*s+x*o+u*n-p*a,t[3]=x*s-u*a-p*n-i*o,u=r[4],p=r[5],i=r[6],x=r[7],t[4]=u*s+x*a+p*o-i*n,t[5]=p*s+x*n+i*a-u*o,t[6]=i*s+x*o+u*n-p*a,t[7]=x*s-u*a-p*n-i*o,t}function E(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[0],p=e[1],i=e[2],x=e[3];return t[0]=a*x+s*u+n*i-o*p,t[1]=n*x+s*p+o*u-a*i,t[2]=o*x+s*i+a*p-n*u,t[3]=s*x-a*u-n*p-o*i,u=e[4],p=e[5],i=e[6],x=e[7],t[4]=a*x+s*u+n*i-o*p,t[5]=n*x+s*p+o*u-a*i,t[6]=o*x+s*i+a*p-n*u,t[7]=s*x-a*u-n*p-o*i,t}function L(r,e,a,n){if(Math.abs(n)<t.EPSILON)return h(r,e);var o=Math.hypot(a[0],a[1],a[2]);n*=.5;var s=Math.sin(n),u=s*a[0]/o,p=s*a[1]/o,i=s*a[2]/o,x=Math.cos(n),c=e[0],f=e[1],l=e[2],v=e[3];r[0]=c*x+v*u+f*i-l*p,r[1]=f*x+v*p+l*u-c*i,r[2]=l*x+v*i+c*p-f*u,r[3]=v*x-c*u-f*p-l*i;var M=e[4],b=e[5],P=e[6],m=e[7];return r[4]=M*x+m*u+b*i-P*p,r[5]=b*x+m*p+P*u-M*i,r[6]=P*x+m*i+M*p-b*u,r[7]=m*x-M*u-b*p-P*i,r}function Y(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t}function q(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[4],p=e[5],i=e[6],x=e[7],c=r[4],f=r[5],h=r[6],l=r[7],v=e[0],M=e[1],b=e[2],P=e[3];return t[0]=a*P+s*v+n*b-o*M,t[1]=n*P+s*M+o*v-a*b,t[2]=o*P+s*b+a*M-n*v,t[3]=s*P-a*v-n*M-o*b,t[4]=a*x+s*u+n*i-o*p+c*P+l*v+f*b-h*M,t[5]=n*x+s*p+o*u-a*i+f*P+l*M+h*v-c*b,t[6]=o*x+s*i+a*p-n*u+h*P+l*b+c*M-f*v,t[7]=s*x-a*u-n*p-o*i+l*P-c*v-f*M-h*b,t}exports.setReal=P;var T=q;function j(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t}exports.mul=T;var _=r.dot;function w(t,r,e,a){var n=1-a;return _(r,e)<0&&(a=-a),t[0]=r[0]*n+e[0]*a,t[1]=r[1]*n+e[1]*a,t[2]=r[2]*n+e[2]*a,t[3]=r[3]*n+e[3]*a,t[4]=r[4]*n+e[4]*a,t[5]=r[5]*n+e[5]*a,t[6]=r[6]*n+e[6]*a,t[7]=r[7]*n+e[7]*a,t}function I(t,r){var e=k(r);return t[0]=-r[0]/e,t[1]=-r[1]/e,t[2]=-r[2]/e,t[3]=r[3]/e,t[4]=-r[4]/e,t[5]=-r[5]/e,t[6]=-r[6]/e,t[7]=r[7]/e,t}function N(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}exports.dot=_;var S=r.length;exports.length=S;var D=S;exports.len=D;var k=r.squaredLength;exports.squaredLength=k;var B=k;function Q(t,r){var e=k(r);if(e>0){e=Math.sqrt(e);var a=r[0]/e,n=r[1]/e,o=r[2]/e,s=r[3]/e,u=r[4],p=r[5],i=r[6],x=r[7],c=a*u+n*p+o*i+s*x;t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=(u-a*c)/e,t[5]=(p-n*c)/e,t[6]=(i-o*c)/e,t[7]=(x-s*c)/e}return t}function V(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function W(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function X(r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=r[4],p=r[5],i=r[6],x=r[7],c=e[0],f=e[1],h=e[2],l=e[3],v=e[4],M=e[5],b=e[6],P=e[7];return Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(n-f)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(u-v)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(p-M)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(i-b)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(x-P)<=t.EPSILON*Math.max(1,Math.abs(x),Math.abs(P))}exports.sqrLen=B;
},{"./common.js":"PxDr","./quat.js":"PXH2","./mat4.js":"WdlT"}],"cHtt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=c,exports.multiply=p,exports.divide=f,exports.ceil=x,exports.floor=v,exports.min=h,exports.max=M,exports.round=l,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=P,exports.length=y,exports.squaredLength=q,exports.negate=A,exports.inverse=O,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=Y,exports.random=_,exports.transformMat2=j,exports.transformMat2d=w,exports.transformMat3=D,exports.transformMat4=L,exports.rotate=I,exports.angle=T,exports.zero=N,exports.str=k,exports.exactEquals=z,exports.equals=S,exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0;var r=e(require("./common.js"));function t(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return t=function(){return r},r}function e(r){if(r&&r.__esModule)return r;var e=t();if(e&&e.has(r))return e.get(r);var n={};if(null!=r){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var u=o?Object.getOwnPropertyDescriptor(r,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=r[a]}}return n.default=r,e&&e.set(r,n),n}function n(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function u(r,t){return r[0]=t[0],r[1]=t[1],r}function s(r,t,e){return r[0]=t,r[1]=e,r}function i(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function c(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function p(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}function f(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}function x(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r}function v(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r}function h(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function M(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}function l(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r}function d(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function m(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function b(r,t){var e=t[0]-r[0],n=t[1]-r[1];return Math.hypot(e,n)}function P(r,t){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function y(r){var t=r[0],e=r[1];return Math.hypot(t,e)}function q(r){var t=r[0],e=r[1];return t*t+e*e}function A(r,t){return r[0]=-t[0],r[1]=-t[1],r}function O(r,t){return r[0]=1/t[0],r[1]=1/t[1],r}function g(r,t){var e=t[0],n=t[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o)),r[0]=t[0]*o,r[1]=t[1]*o,r}function E(r,t){return r[0]*t[0]+r[1]*t[1]}function R(r,t,e){var n=t[0]*e[1]-t[1]*e[0];return r[0]=r[1]=0,r[2]=n,r}function Y(r,t,e,n){var o=t[0],a=t[1];return r[0]=o+n*(e[0]-o),r[1]=a+n*(e[1]-a),r}function _(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function j(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[2]*o,r[1]=e[1]*n+e[3]*o,r}function w(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[2]*o+e[4],r[1]=e[1]*n+e[3]*o+e[5],r}function D(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[3]*o+e[6],r[1]=e[1]*n+e[4]*o+e[7],r}function L(r,t,e){var n=t[0],o=t[1];return r[0]=e[0]*n+e[4]*o+e[12],r[1]=e[1]*n+e[5]*o+e[13],r}function I(r,t,e,n){var o=t[0]-e[0],a=t[1]-e[1],u=Math.sin(n),s=Math.cos(n);return r[0]=o*s-a*u+e[0],r[1]=o*u+a*s+e[1],r}function T(r,t){var e=r[0],n=r[1],o=t[0],a=t[1],u=e*e+n*n;u>0&&(u=1/Math.sqrt(u));var s=o*o+a*a;s>0&&(s=1/Math.sqrt(s));var i=(e*o+n*a)*u*s;return i>1?0:i<-1?Math.PI:Math.acos(i)}function N(r){return r[0]=0,r[1]=0,r}function k(r){return"vec2("+r[0]+", "+r[1]+")"}function z(r,t){return r[0]===t[0]&&r[1]===t[1]}function S(t,e){var n=t[0],o=t[1],a=e[0],u=e[1];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}var W=y;exports.len=W;var F=c;exports.sub=F;var V=p;exports.mul=V;var B=f;exports.div=B;var C=b;exports.dist=C;var G=P;exports.sqrDist=G;var H=q;exports.sqrLen=H;var J=function(){var r=n();return function(t,e,n,o,a,u){var s,i;for(e||(e=2),n||(n=0),i=o?Math.min(o*e+n,t.length):t.length,s=n;s<i;s+=e)r[0]=t[s],r[1]=t[s+1],a(r,r,u),t[s]=r[0],t[s+1]=r[1];return t}}();exports.forEach=J;
},{"./common.js":"PxDr"}],"CPlc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var e=c(require("./common.js"));exports.glMatrix=e;var r=c(require("./mat2.js"));exports.mat2=r;var t=c(require("./mat2d.js"));exports.mat2d=t;var a=c(require("./mat3.js"));exports.mat3=a;var o=c(require("./mat4.js"));exports.mat4=o;var s=c(require("./quat.js"));exports.quat=s;var p=c(require("./quat2.js"));exports.quat2=p;var u=c(require("./vec2.js"));exports.vec2=u;var i=c(require("./vec3.js"));exports.vec3=i;var v=c(require("./vec4.js"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function c(e){if(e&&e.__esModule)return e;var r=n();if(r&&r.has(e))return r.get(e);var t={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(t,o,s):t[o]=e[o]}}return t.default=e,r&&r.set(e,t),t}exports.vec4=v;
},{"./common.js":"PxDr","./mat2.js":"hSOw","./mat2d.js":"n7Ma","./mat3.js":"SRDq","./mat4.js":"WdlT","./quat.js":"PXH2","./quat2.js":"BYXr","./vec2.js":"cHtt","./vec3.js":"Ijz7","./vec4.js":"QGfo"}],"pBRx":[function(require,module,exports) {
var define;
var e;!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof e&&e.amd?e([],t):"object"==typeof exports?exports.twgl=t():r.twgl=t()}("undefined"!=typeof self?self:this,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(n,a,function(r){return e[r]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s="./src/twgl-full.js")}({"./src/attributes.js":function(e,r,t){"use strict";r.__esModule=!0,r.createAttribsFromArrays=b,r.createBuffersFromArrays=function(e,r){var t={};Object.keys(r).forEach(function(n){t[n]=E(e,r[n],n)}),r.indices?(t.numElements=r.indices.length,t.elementType=n.getGLTypeForTypedArray(d(r.indices),"indices")):t.numElements=function(e){var r,t;for(t=0;t<v.length&&!((r=v[t])in e);++t);t===v.length&&(r=Object.keys(e)[0]);var n=e[r],a=c(n).length,o=y(n,r),i=a/o;if(a%o>0)throw new Error("numComponents ".concat(o," not correct for length ").concat(a));return i}(r);return t},r.createBufferFromArray=E,r.createBufferFromTypedArray=f,r.createBufferInfoFromArrays=function(e,r,t){var a=b(e,r),o=Object.assign({},t||{});o.attribs=Object.assign({},t?t.attribs:{},a);var u=r.indices;if(u){var s=d(u,"indices");o.indices=f(e,s,e.ELEMENT_ARRAY_BUFFER),o.numElements=s.length,o.elementType=n.getGLTypeForTypedArray(s)}else o.numElements||(o.numElements=function(e,r){var t,n;for(n=0;n<v.length&&!((t=v[n])in r)&&!((t=i.attribPrefix+t)in r);++n);n===v.length&&(t=Object.keys(r)[0]);var a=r[t];e.bindBuffer(e.ARRAY_BUFFER,a.buffer);var o=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var u=function(e,r){return r===e.BYTE?1:r===e.UNSIGNED_BYTE?1:r===e.SHORT?2:r===e.UNSIGNED_SHORT?2:r===e.INT?4:r===e.UNSIGNED_INT?4:r===e.FLOAT?4:0}(e,a.type),f=o/u,s=a.numComponents||a.size,c=f/s;if(c%1!=0)throw new Error("numComponents ".concat(s," not correct for length ").concat(length));return c}(e,o.attribs));return o},r.setAttribInfoBufferFromArray=function(e,r,t,n){t=d(t),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,t)):u(e,e.ARRAY_BUFFER,r.buffer,t,r.drawType)},r.setAttributePrefix=function(e){i.attribPrefix=e},r.setAttributeDefaults_=function(e){a.copyExistingProperties(e,i)},r.getNumComponents_=y,r.getArray_=c;var n=o(t("./src/typedarrays.js")),a=o(t("./src/helper.js"));function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i={attribPrefix:""};function u(e,r,t,n,a){e.bindBuffer(r,t),e.bufferData(r,n,a||e.STATIC_DRAW)}function f(e,r,t,n){if(a.isBuffer(e,r))return r;t=t||e.ARRAY_BUFFER;var o=e.createBuffer();return u(e,t,o,r,n),o}function s(e){return"indices"===e}function c(e){return e.length?e:e.data}var l=/coord|texture/i,p=/color|colour/i;function m(e,r){var t;if(r%(t=l.test(e)?2:p.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(t," but ").concat(r," values is not evenly divisible by ").concat(t,". You should specify it."));return t}function y(e,r){return e.numComponents||e.size||m(r,c(e).length)}function d(e,r){if(n.isArrayBuffer(e))return e;if(n.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var t=e.type;return t||(t=s(r)?Uint16Array:Float32Array),new t(e.data)}function b(e,r){var t={};return Object.keys(r).forEach(function(a){if(!s(a)){var o=r[a],u=o.attrib||o.name||o.attribName||i.attribPrefix+a;if(o.value){if(!Array.isArray(o.value)&&!n.isArrayBuffer(o.value))throw new Error("array.value is not array or typedarray");t[u]={value:o.value}}else{var c,l,p,b;if(o.buffer&&o.buffer instanceof WebGLBuffer)c=o.buffer,b=o.numComponents||o.size,l=o.type,p=o.normalize;else if("number"==typeof o||"number"==typeof o.data){var v=o.data||o,E=o.type||Float32Array,h=v*E.BYTES_PER_ELEMENT;l=n.getGLTypeForTypedArrayType(E),p=void 0!==o.normalize?o.normalize:(_=E)===Int8Array||_===Uint8Array,b=o.numComponents||o.size||m(a,v),c=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,h,o.drawType||e.STATIC_DRAW)}else{var A=d(o,a);c=f(e,A,void 0,o.drawType),l=n.getGLTypeForTypedArray(A),p=void 0!==o.normalize?o.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(A),b=y(o,a)}t[u]={buffer:c,numComponents:b,type:l,normalize:p,stride:o.stride||0,offset:o.offset||0,divisor:void 0===o.divisor?void 0:o.divisor,drawType:o.drawType}}}var _}),e.bindBuffer(e.ARRAY_BUFFER,null),t}var v=["position","positions","a_position"];function E(e,r,t){var n="indices"===t?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return f(e,d(r,t),n)}},"./src/draw.js":function(e,r,t){"use strict";r.__esModule=!0,r.drawBufferInfo=a,r.drawObjectList=function(e,r){var t=null,o=null;r.forEach(function(r){if(!1!==r.active){var i=r.programInfo,u=r.vertexArrayInfo||r.bufferInfo,f=!1,s=void 0===r.type?e.TRIANGLES:r.type;i!==t&&(t=i,e.useProgram(i.program),f=!0),(f||u!==o)&&(o&&o.vertexArrayObject&&!u.vertexArrayObject&&e.bindVertexArray(null),o=u,n.setBuffersAndAttributes(e,i,u)),n.setUniforms(i,r.uniforms),a(e,u,s,r.count,r.offset,r.instanceCount)}}),o.vertexArrayObject&&e.bindVertexArray(null)};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t("./src/programs.js"));function a(e,r,t,n,a,o){t=void 0===t?e.TRIANGLES:t;var i=r.indices,u=r.elementType,f=void 0===n?r.numElements:n;a=void 0===a?0:a,u||i?void 0!==o?e.drawElementsInstanced(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a,o):e.drawElements(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a):void 0!==o?e.drawArraysInstanced(t,a,f,o):e.drawArrays(t,a,f)}},"./src/framebuffers.js":function(e,r,t){"use strict";r.__esModule=!0,r.bindFramebufferInfo=function(e,r,t){t=t||e.FRAMEBUFFER,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},r.createFramebufferInfo=function(e,r,t,o){var c=e.FRAMEBUFFER,l=e.createFramebuffer();e.bindFramebuffer(c,l),t=t||e.drawingBufferWidth,o=o||e.drawingBufferHeight;var p=0,m={framebuffer:l,attachments:[],width:t,height:o};return(r=r||u).forEach(function(r){var u=r.attachment,l=r.format,y=function(e){return f[e]}(l);if(y||(y=i+p++),!u)if(function(e){return s[e]}(l))u=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u),e.renderbufferStorage(e.RENDERBUFFER,l,t,o);else{var d=Object.assign({},r);d.width=t,d.height=o,void 0===d.auto&&(d.auto=!1,d.min=d.min||d.minMag||e.LINEAR,d.mag=d.mag||d.minMag||e.LINEAR,d.wrapS=d.wrapS||d.wrap||e.CLAMP_TO_EDGE,d.wrapT=d.wrapT||d.wrap||e.CLAMP_TO_EDGE),u=n.createTexture(e,d)}if(a.isRenderbuffer(e,u))e.framebufferRenderbuffer(c,y,e.RENDERBUFFER,u);else{if(!a.isTexture(e,u))throw new Error("unknown attachment type");void 0!==r.layer?e.framebufferTextureLayer(c,y,u,r.level||0,r.layer):e.framebufferTexture2D(c,y,r.texTarget||e.TEXTURE_2D,u,r.level||0)}m.attachments.push(u)}),m},r.resizeFramebufferInfo=function(e,r,t,o,i){o=o||e.drawingBufferWidth,i=i||e.drawingBufferHeight,r.width=o,r.height=i,(t=t||u).forEach(function(t,u){var f=r.attachments[u],s=t.format;if(a.isRenderbuffer(e,f))e.bindRenderbuffer(e.RENDERBUFFER,f),e.renderbufferStorage(e.RENDERBUFFER,s,o,i);else{if(!a.isTexture(e,f))throw new Error("unknown attachment type");n.resizeTexture(e,f,t,o,i)}})};var n=o(t("./src/textures.js")),a=o(t("./src/helper.js"));function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i=36064,u=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],f={};f[34041]=33306,f[6401]=36128,f[36168]=36128,f[6402]=36096,f[33189]=36096;var s={};s[32854]=!0,s[32855]=!0,s[36194]=!0,s[34041]=!0,s[33189]=!0,s[6401]=!0,s[36168]=!0},"./src/helper.js":function(e,r,t){"use strict";r.__esModule=!0,r.copyExistingProperties=function(e,r){Object.keys(r).forEach(function(t){r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t])})},r.copyNamedProperties=function(e,r,t){e.forEach(function(e){var n=r[e];void 0!==n&&(t[e]=n)})},r.isBuffer=function(e,r){return"undefined"!=typeof WebGLBuffer&&r instanceof WebGLBuffer},r.isRenderbuffer=function(e,r){return"undefined"!=typeof WebGLRenderbuffer&&r instanceof WebGLRenderbuffer},r.isShader=function(e,r){return"undefined"!=typeof WebGLShader&&r instanceof WebGLShader},r.isTexture=function(e,r){return"undefined"!=typeof WebGLTexture&&r instanceof WebGLTexture},r.isSampler=function(e,r){return"undefined"!=typeof WebGLSampler&&r instanceof WebGLSampler},r.warn=r.error=void 0;var n="undefined"!=typeof console&&console.error&&"function"==typeof console.error?console.error.bind(console):function(){};r.error=n;var a="undefined"!=typeof console&&console.warn&&"function"==typeof console.warn?console.warn.bind(console):function(){};r.warn=a},"./src/m4.js":function(e,r,t){"use strict";r.__esModule=!0,r.axisRotate=function(e,r,t,n){n=n||new a(16);var o=r[0],i=r[1],u=r[2],f=Math.sqrt(o*o+i*i+u*u),s=(o/=f)*o,c=(i/=f)*i,l=(u/=f)*u,p=Math.cos(t),m=Math.sin(t),y=1-p,d=s+(1-s)*p,b=o*i*y+u*m,v=o*u*y-i*m,E=o*i*y-u*m,h=c+(1-c)*p,A=i*u*y+o*m,_=o*u*y+i*m,T=i*u*y-o*m,x=l+(1-l)*p,g=e[0],R=e[1],P=e[2],F=e[3],w=e[4],U=e[5],O=e[6],B=e[7],I=e[8],S=e[9],C=e[10],M=e[11];n[0]=d*g+b*w+v*I,n[1]=d*R+b*U+v*S,n[2]=d*P+b*O+v*C,n[3]=d*F+b*B+v*M,n[4]=E*g+h*w+A*I,n[5]=E*R+h*U+A*S,n[6]=E*P+h*O+A*C,n[7]=E*F+h*B+A*M,n[8]=_*g+T*w+x*I,n[9]=_*R+T*U+x*S,n[10]=_*P+T*O+x*C,n[11]=_*F+T*B+x*M,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n},r.axisRotation=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=Math.sqrt(n*n+o*o+i*i),f=(n/=u)*n,s=(o/=u)*o,c=(i/=u)*i,l=Math.cos(r),p=Math.sin(r),m=1-l;return t[0]=f+(1-f)*l,t[1]=n*o*m+i*p,t[2]=n*i*m-o*p,t[3]=0,t[4]=n*o*m-i*p,t[5]=s+(1-s)*l,t[6]=o*i*m+n*p,t[7]=0,t[8]=n*i*m+o*p,t[9]=o*i*m-n*p,t[10]=c+(1-c)*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.copy=f,r.frustum=function(e,r,t,n,o,i,u){u=u||new a(16);var f=r-e,s=n-t,c=o-i;return u[0]=2*o/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*o/s,u[6]=0,u[7]=0,u[8]=(e+r)/f,u[9]=(n+t)/s,u[10]=i/c,u[11]=-1,u[12]=0,u[13]=0,u[14]=o*i/c,u[15]=0,u},r.getAxis=function(e,r,t){t=t||n.create();var a=4*r;return t[0]=e[a+0],t[1]=e[a+1],t[2]=e[a+2],t},r.getTranslation=function(e,r){return(r=r||n.create())[0]=e[12],r[1]=e[13],r[2]=e[14],r},r.identity=s,r.inverse=c,r.lookAt=function(e,r,t,f){f=f||new a(16);var s=o,c=i,l=u;return n.normalize(n.subtract(e,r,l),l),n.normalize(n.cross(t,l,s),s),n.normalize(n.cross(l,s,c),c),f[0]=s[0],f[1]=s[1],f[2]=s[2],f[3]=0,f[4]=c[0],f[5]=c[1],f[6]=c[2],f[7]=0,f[8]=l[0],f[9]=l[1],f[10]=l[2],f[11]=0,f[12]=e[0],f[13]=e[1],f[14]=e[2],f[15]=1,f},r.multiply=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],p=e[8],m=e[9],y=e[10],d=e[11],b=e[12],v=e[13],E=e[14],h=e[15],A=r[0],_=r[1],T=r[2],x=r[3],g=r[4],R=r[5],P=r[6],F=r[7],w=r[8],U=r[9],O=r[10],B=r[11],I=r[12],S=r[13],C=r[14],M=r[15];return t[0]=n*A+f*_+p*T+b*x,t[1]=o*A+s*_+m*T+v*x,t[2]=i*A+c*_+y*T+E*x,t[3]=u*A+l*_+d*T+h*x,t[4]=n*g+f*R+p*P+b*F,t[5]=o*g+s*R+m*P+v*F,t[6]=i*g+c*R+y*P+E*F,t[7]=u*g+l*R+d*P+h*F,t[8]=n*w+f*U+p*O+b*B,t[9]=o*w+s*U+m*O+v*B,t[10]=i*w+c*U+y*O+E*B,t[11]=u*w+l*U+d*O+h*B,t[12]=n*I+f*S+p*C+b*M,t[13]=o*I+s*S+m*C+v*M,t[14]=i*I+c*S+y*C+E*M,t[15]=u*I+l*S+d*C+h*M,t},r.negate=function(e,r){return(r=r||new a(16))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=-e[7],r[8]=-e[8],r[9]=-e[9],r[10]=-e[10],r[11]=-e[11],r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=-e[15],r},r.ortho=function(e,r,t,n,o,i,u){return(u=u||new a(16))[0]=2/(r-e),u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2/(n-t),u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2/(o-i),u[11]=0,u[12]=(r+e)/(e-r),u[13]=(n+t)/(t-n),u[14]=(i+o)/(o-i),u[15]=1,u},r.perspective=function(e,r,t,n,o){o=o||new a(16);var i=Math.tan(.5*Math.PI-.5*e),u=1/(t-n);return o[0]=i/r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(t+n)*u,o[11]=-1,o[12]=0,o[13]=0,o[14]=t*n*u*2,o[15]=0,o},r.rotateX=function(e,r,t){t=t||new a(16);var n=e[4],o=e[5],i=e[6],u=e[7],f=e[8],s=e[9],c=e[10],l=e[11],p=Math.cos(r),m=Math.sin(r);t[4]=p*n+m*f,t[5]=p*o+m*s,t[6]=p*i+m*c,t[7]=p*u+m*l,t[8]=p*f-m*n,t[9]=p*s-m*o,t[10]=p*c-m*i,t[11]=p*l-m*u,e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateY=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=e[3],f=e[8],s=e[9],c=e[10],l=e[11],p=Math.cos(r),m=Math.sin(r);t[0]=p*n-m*f,t[1]=p*o-m*s,t[2]=p*i-m*c,t[3]=p*u-m*l,t[8]=p*f+m*n,t[9]=p*s+m*o,t[10]=p*c+m*i,t[11]=p*l+m*u,e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateZ=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],p=Math.cos(r),m=Math.sin(r);t[0]=p*n+m*f,t[1]=p*o+m*s,t[2]=p*i+m*c,t[3]=p*u+m*l,t[4]=p*f-m*n,t[5]=p*s-m*o,t[6]=p*c-m*i,t[7]=p*l-m*u,e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotationX=function(e,r){r=r||new a(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationY=function(e,r){r=r||new a(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationZ=function(e,r){r=r||new a(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=t,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.scale=function(e,r,t){t=t||new a(16);var n=r[0],o=r[1],i=r[2];t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=n*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=o*e[6],t[7]=o*e[7],t[8]=i*e[8],t[9]=i*e[9],t[10]=i*e[10],t[11]=i*e[11],e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.scaling=function(e,r){return(r=r||new a(16))[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.setAxis=function(e,r,t,n){n!==e&&(n=f(e,n));var a=4*t;return n[a+0]=r[0],n[a+1]=r[1],n[a+2]=r[2],n},r.setDefaultType=function(e){var r=a;return a=e,r},r.setTranslation=function(e,r,t){t=t||s(),e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]);return t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},r.transformDirection=function(e,r,t){t=t||n.create();var a=r[0],o=r[1],i=r[2];return t[0]=a*e[0]+o*e[4]+i*e[8],t[1]=a*e[1]+o*e[5]+i*e[9],t[2]=a*e[2]+o*e[6]+i*e[10],t},r.transformNormal=function(e,r,t){t=t||n.create();var a=c(e),o=r[0],i=r[1],u=r[2];return t[0]=o*a[0]+i*a[1]+u*a[2],t[1]=o*a[4]+i*a[5]+u*a[6],t[2]=o*a[8]+i*a[9]+u*a[10],t},r.transformPoint=function(e,r,t){t=t||n.create();var a=r[0],o=r[1],i=r[2],u=a*e[3]+o*e[7]+i*e[11]+e[15];return t[0]=(a*e[0]+o*e[4]+i*e[8]+e[12])/u,t[1]=(a*e[1]+o*e[5]+i*e[9]+e[13])/u,t[2]=(a*e[2]+o*e[6]+i*e[10]+e[14])/u,t},r.translate=function(e,r,t){t=t||new a(16);var n=r[0],o=r[1],i=r[2],u=e[0],f=e[1],s=e[2],c=e[3],l=e[4],p=e[5],m=e[6],y=e[7],d=e[8],b=e[9],v=e[10],E=e[11],h=e[12],A=e[13],_=e[14],T=e[15];e!==t&&(t[0]=u,t[1]=f,t[2]=s,t[3]=c,t[4]=l,t[5]=p,t[6]=m,t[7]=y,t[8]=d,t[9]=b,t[10]=v,t[11]=E);return t[12]=u*n+l*o+d*i+h,t[13]=f*n+p*o+b*i+A,t[14]=s*n+m*o+v*i+_,t[15]=c*n+y*o+E*i+T,t},r.translation=function(e,r){return(r=r||new a(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},r.transpose=function(e,r){if((r=r||new a(16))===e){var t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,r}var n=e[0],o=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],p=e[8],m=e[9],y=e[10],d=e[11],b=e[12],v=e[13],E=e[14],h=e[15];return r[0]=n,r[1]=f,r[2]=p,r[3]=b,r[4]=o,r[5]=s,r[6]=m,r[7]=v,r[8]=i,r[9]=c,r[10]=y,r[11]=E,r[12]=u,r[13]=l,r[14]=d,r[15]=h,r};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t("./src/v3.js"));var a=Float32Array,o=n.create(),i=n.create(),u=n.create();function f(e,r){return(r=r||new a(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function s(e){return(e=e||new a(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,r){r=r||new a(16);var t=e[0],n=e[1],o=e[2],i=e[3],u=e[4],f=e[5],s=e[6],c=e[7],l=e[8],p=e[9],m=e[10],y=e[11],d=e[12],b=e[13],v=e[14],E=e[15],h=m*E,A=v*y,_=s*E,T=v*c,x=s*y,g=m*c,R=o*E,P=v*i,F=o*y,w=m*i,U=o*c,O=s*i,B=l*b,I=d*p,S=u*b,C=d*f,M=u*p,j=l*f,D=t*b,L=d*n,N=t*p,k=l*n,G=t*f,z=u*n,X=h*f+T*p+x*b-(A*f+_*p+g*b),V=A*n+R*p+w*b-(h*n+P*p+F*b),W=_*n+P*f+U*b-(T*n+R*f+O*b),Y=g*n+F*f+O*p-(x*n+w*f+U*p),K=1/(t*X+u*V+l*W+d*Y);return r[0]=K*X,r[1]=K*V,r[2]=K*W,r[3]=K*Y,r[4]=K*(A*u+_*l+g*d-(h*u+T*l+x*d)),r[5]=K*(h*t+P*l+F*d-(A*t+R*l+w*d)),r[6]=K*(T*t+R*u+O*d-(_*t+P*u+U*d)),r[7]=K*(x*t+w*u+U*l-(g*t+F*u+O*l)),r[8]=K*(B*c+C*y+M*E-(I*c+S*y+j*E)),r[9]=K*(I*i+D*y+k*E-(B*i+L*y+N*E)),r[10]=K*(S*i+L*c+G*E-(C*i+D*c+z*E)),r[11]=K*(j*i+N*c+z*y-(M*i+k*c+G*y)),r[12]=K*(S*m+j*v+I*s-(M*v+B*s+C*m)),r[13]=K*(N*v+B*o+L*m-(D*m+k*v+I*o)),r[14]=K*(D*s+z*v+C*o-(G*v+S*o+L*s)),r[15]=K*(G*m+M*o+k*s-(N*s+z*m+j*o)),r}},"./src/primitives.js":function(e,r,t){"use strict";r.__esModule=!0,r.create3DFVertices=F,r.createAugmentedTypedArray=p,r.createCubeVertices=g,r.createPlaneVertices=_,r.createSphereVertices=T,r.createTruncatedConeVertices=R,r.createXYQuadVertices=A,r.createCrescentVertices=w,r.createCylinderVertices=U,r.createTorusVertices=O,r.createDiscVertices=B,r.deindexVertices=function(e){var r=e.indices,t={},n=r.length;return Object.keys(e).filter(m).forEach(function(a){for(var o=e[a],i=o.numComponents,u=p(i,n,o.constructor),f=0;f<n;++f)for(var s=r[f],c=s*i,l=0;l<i;++l)u.push(o[c+l]);t[a]=u}),t},r.flattenNormals=function(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var r=e.normal,t=r.length,n=0;n<t;n+=9){var a=r[n+0],o=r[n+1],i=r[n+2],u=r[n+3],f=r[n+4],s=r[n+5],c=r[n+6],l=r[n+7],p=r[n+8],m=a+u+c,y=o+f+l,d=i+s+p,b=Math.sqrt(m*m+y*y+d*d);m/=b,y/=b,d/=b,r[n+0]=m,r[n+1]=y,r[n+2]=d,r[n+3]=m,r[n+4]=y,r[n+5]=d,r[n+6]=m,r[n+7]=y,r[n+8]=d}return e},r.makeRandomVertexColors=function(e,r){r=r||{};var t=e.position.numElements,n=p(4,t,Uint8Array),a=r.rand||function(e,r){return r<3?(t=256,Math.random()*t|0):255;var t};if(e.color=n,e.indices)for(var o=0;o<t;++o)n.push(a(o,0),a(o,1),a(o,2),a(o,3));else for(var i=r.vertsPerColor||3,u=t/i,f=0;f<u;++f)for(var s=[a(f,0),a(f,1),a(f,2),a(f,3)],c=0;c<i;++c)n.push(s);return e},r.reorientDirections=b,r.reorientNormals=v,r.reorientPositions=E,r.reorientVertices=h,r.concatVertices=function(e){for(var r,t={},n=function(n){var a=e[n];Object.keys(a).forEach(function(e){t[e]||(t[e]=[]),r||"indices"===e||(r=e);var n=a[e],o=c(n,e),i=s(n),u=i.length/o;t[e].push(u)})},a=0;a<e.length;++a)n(a);var o=t[r],i={};return Object.keys(t).forEach(function(r){var t=function(r){for(var t,n=0,a=0;a<e.length;++a){var o=e[a],i=o[r],u=s(i);n+=u.length,t&&!i.data||(t=i)}return{length:n,spec:t}}(r),n=j(t.spec,t.length);!function(r,t,n){for(var a=0,o=0,i=0;i<e.length;++i){var u=e[i],f=u[r],c=s(f);"indices"===r?(M(c,n,o,a),a+=t[i]):M(c,n,o),o+=c.length}}(r,o,s(n)),i[r]=n}),i},r.duplicateVertices=function(e){var r={};return Object.keys(e).forEach(function(t){var n=e[t],a=s(n),o=j(n,a.length);M(a,s(o),0),r[t]=o}),r},r.createDiscBuffers=r.createDiscBufferInfo=r.createTorusBuffers=r.createTorusBufferInfo=r.createCylinderBuffers=r.createCylinderBufferInfo=r.createCrescentBuffers=r.createCrescentBufferInfo=r.createCresentVertices=r.createCresentBuffers=r.createCresentBufferInfo=r.createXYQuadBuffers=r.createXYQuadBufferInfo=r.createTruncatedConeBuffers=r.createTruncatedConeBufferInfo=r.createSphereBuffers=r.createSphereBufferInfo=r.createPlaneBuffers=r.createPlaneBufferInfo=r.createCubeBuffers=r.createCubeBufferInfo=r.create3DFBuffers=r.create3DFBufferInfo=void 0;var n=f(t("./src/attributes.js")),a=f(t("./src/helper.js")),o=f(t("./src/typedarrays.js")),i=f(t("./src/m4.js")),u=f(t("./src/v3.js"));function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var s=n.getArray_,c=n.getNumComponents_;function l(e,r){var t=0;return e.push=function(){for(var r=0;r<arguments.length;++r){var n=arguments[r];if(n instanceof Array||o.isArrayBuffer(n))for(var a=0;a<n.length;++a)e[t++]=n[a];else e[t++]=n}},e.reset=function(e){t=e||0},e.numComponents=r,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function p(e,r,t){return l(new(t||Float32Array)(e*r),e)}function m(e){return"indices"!==e}function y(e,r,t){for(var n=e.length,a=new Float32Array(3),o=0;o<n;o+=3)t(r,[e[o],e[o+1],e[o+2]],a),e[o]=a[0],e[o+1]=a[1],e[o+2]=a[2]}function d(e,r,t){t=t||u.create();var n=r[0],a=r[1],o=r[2];return t[0]=n*e[0]+a*e[1]+o*e[2],t[1]=n*e[4]+a*e[5]+o*e[6],t[2]=n*e[8]+a*e[9]+o*e[10],t}function b(e,r){return y(e,r,i.transformDirection),e}function v(e,r){return y(e,i.inverse(r),d),e}function E(e,r){return y(e,r,i.transformPoint),e}function h(e,r){return Object.keys(e).forEach(function(t){var n=e[t];t.indexOf("pos")>=0?E(n,r):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?b(n,r):t.indexOf("norm")>=0&&v(n,r)}),e}function A(e,r,t){return e=e||2,{position:{numComponents:2,data:[(r=r||0)+-1*(e*=.5),(t=t||0)+-1*e,r+1*e,t+-1*e,r+-1*e,t+1*e,r+1*e,t+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function _(e,r,t,n,a){e=e||1,r=r||1,t=t||1,n=n||1,a=a||i.identity();for(var o=(t+1)*(n+1),u=p(3,o),f=p(3,o),s=p(2,o),c=0;c<=n;c++)for(var l=0;l<=t;l++){var m=l/t,y=c/n;u.push(e*m-.5*e,0,r*y-.5*r),f.push(0,1,0),s.push(m,y)}for(var d=t+1,b=p(3,t*n*2,Uint16Array),v=0;v<n;v++)for(var E=0;E<t;E++)b.push((v+0)*d+E,(v+1)*d+E,(v+0)*d+E+1),b.push((v+1)*d+E,(v+1)*d+E+1,(v+0)*d+E+1);return h({position:u,normal:f,texcoord:s,indices:b},a)}function T(e,r,t,n,a,o,i){if(r<=0||t<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,o=o||0;for(var u=(a=a||Math.PI)-n,f=(i=i||2*Math.PI)-o,s=(r+1)*(t+1),c=p(3,s),l=p(3,s),m=p(2,s),y=0;y<=t;y++)for(var d=0;d<=r;d++){var b=d/r,v=y/t,E=f*b+o,h=u*v+n,A=Math.sin(E),_=Math.cos(E),T=Math.sin(h),x=_*T,g=Math.cos(h),R=A*T;c.push(e*x,e*g,e*R),l.push(x,g,R),m.push(1-b,v)}for(var P=r+1,F=p(3,r*t*2,Uint16Array),w=0;w<r;w++)for(var U=0;U<t;U++)F.push((U+0)*P+w,(U+0)*P+w+1,(U+1)*P+w),F.push((U+1)*P+w,(U+0)*P+w+1,(U+1)*P+w+1);return{position:c,normal:l,texcoord:m,indices:F}}var x=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function g(e){for(var r=(e=e||1)/2,t=[[-r,-r,-r],[+r,-r,-r],[-r,+r,-r],[+r,+r,-r],[-r,-r,+r],[+r,-r,+r],[-r,+r,+r],[+r,+r,+r]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],a=[[1,0],[0,0],[0,1],[1,1]],o=p(3,24),i=p(3,24),u=p(2,24),f=p(3,12,Uint16Array),s=0;s<6;++s){for(var c=x[s],l=0;l<4;++l){var m=t[c[l]],y=n[s],d=a[l];o.push(m),i.push(y),u.push(d)}var b=4*s;f.push(b+0,b+1,b+2),f.push(b+0,b+2,b+3)}return{position:o,normal:i,texcoord:u,indices:f}}function R(e,r,t,n,a,o,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(a<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var u=void 0===o||o,f=void 0===i||i,s=(u?2:0)+(f?2:0),c=(n+1)*(a+1+s),l=p(3,c),m=p(3,c),y=p(2,c),d=p(3,n*(a+s)*2,Uint16Array),b=n+1,v=Math.atan2(e-r,t),E=Math.cos(v),h=Math.sin(v),A=a+(f?2:0),_=u?-2:0;_<=A;++_){var T=_/a,x=t*T,g=void 0;_<0?(x=0,T=1,g=e):_>a?(x=t,T=1,g=r):g=e+_/a*(r-e),-2!==_&&_!==a+2||(g=0,T=0),x-=t/2;for(var R=0;R<b;++R){var P=Math.sin(R*Math.PI*2/n),F=Math.cos(R*Math.PI*2/n);l.push(P*g,x,F*g),m.push(_<0||_>a?0:P*E,_<0?-1:_>a?1:h,_<0||_>a?0:F*E),y.push(R/n,1-T)}}for(var w=0;w<a+s;++w)for(var U=0;U<n;++U)d.push(b*(w+0)+0+U,b*(w+0)+1+U,b*(w+1)+1+U),d.push(b*(w+0)+0+U,b*(w+1)+1+U,b*(w+1)+0+U);return{position:l,normal:m,texcoord:y,indices:d}}function P(e,r){r=r||[];for(var t=[],n=0;n<e.length;n+=4){var a=e[n],o=e.slice(n+1,n+4);o.push.apply(o,r);for(var i=0;i<a;++i)t.push.apply(t,o)}return t}function F(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=P([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),t=P([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,a={position:p(3,n),texcoord:p(2,n),normal:p(3,n),color:p(4,n,Uint8Array),indices:p(3,n/3,Uint16Array)};a.position.push(e),a.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),a.normal.push(r),a.color.push(t);for(var o=0;o<n;++o)a.indices.push(o);return a}function w(e,r,t,n,a,o,i){if(a<=0)throw new Error("subdivisionDown must be > 0");var f=2,s=(i=i||1)-(o=o||0),c=2*(a+1)*(2+f),l=p(3,c),m=p(3,c),y=p(2,c);function d(e,r,t){return e+(r-e)*t}function b(r,t,i,c,p,b){for(var v=0;v<=a;v++){var E=t/(f-1),h=v/a,A=2*(E-.5),_=(o+h*s)*Math.PI,T=Math.sin(_),x=Math.cos(_),g=d(e,r,T),R=A*n,P=x*e,F=T*g;l.push(R,P,F);var w=u.add(u.multiply([0,T,x],i),c);m.push(w),y.push(E*p+b,h)}}for(var v=0;v<f;v++){var E=2*(v/(f-1)-.5);b(r,v,[1,1,1],[0,0,0],1,0),b(r,v,[0,0,0],[E,0,0],0,0),b(t,v,[1,1,1],[0,0,0],1,0),b(t,v,[0,0,0],[E,0,0],0,1)}var h=p(3,2*a*(2+f),Uint16Array);function A(e,r){for(var t=0;t<a;++t)h.push(e+t+0,e+t+1,r+t+0),h.push(e+t+1,r+t+1,r+t+0)}var _=a+1;return A(0*_,4*_),A(5*_,7*_),A(6*_,2*_),A(3*_,1*_),{position:l,normal:m,texcoord:y,indices:h}}function U(e,r,t,n,a,o){return R(e,e,r,t,n,a,o)}function O(e,r,t,n,a,o){if(t<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");a=a||0;for(var i=(o=o||2*Math.PI)-a,u=t+1,f=n+1,s=u*f,c=p(3,s),l=p(3,s),m=p(2,s),y=p(3,t*n*2,Uint16Array),d=0;d<f;++d)for(var b=d/n,v=b*Math.PI*2,E=Math.sin(v),h=e+E*r,A=Math.cos(v),_=A*r,T=0;T<u;++T){var x=T/t,g=a+x*i,R=Math.sin(g),P=Math.cos(g),F=R*h,w=P*h,U=R*E,O=P*E;c.push(F,_,w),l.push(U,A,O),m.push(x,1-b)}for(var B=0;B<n;++B)for(var I=0;I<t;++I){var S=1+I,C=1+B;y.push(u*B+I,u*C+I,u*B+S),y.push(u*C+I,u*C+S,u*B+S)}return{position:c,normal:l,texcoord:m,indices:y}}function B(e,r,t,n,a){if(r<3)throw new Error("divisions must be at least 3");a=a||1,n=n||0;for(var o=(r+1)*((t=t||1)+1),i=p(3,o),u=p(3,o),f=p(2,o),s=p(3,t*r*2,Uint16Array),c=0,l=e-n,m=r+1,y=0;y<=t;++y){for(var d=n+l*Math.pow(y/t,a),b=0;b<=r;++b){var v=2*Math.PI*b/r,E=d*Math.cos(v),h=d*Math.sin(v);if(i.push(E,0,h),u.push(0,1,0),f.push(1-b/r,y/t),y>0&&b!==r){var A=c+(b+1),_=c+b,T=c+b-m,x=c+(b+1)-m;s.push(A,_,T),s.push(A,T,x)}}c+=r+1}return{position:i,normal:u,texcoord:f,indices:s}}function I(e){return function(r){var t=e.apply(this,Array.prototype.slice.call(arguments,1));return n.createBuffersFromArrays(r,t)}}function S(e){return function(r){var t=e.apply(null,Array.prototype.slice.call(arguments,1));return n.createBufferInfoFromArrays(r,t)}}var C=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function M(e,r,t,n){n=n||0;for(var a=e.length,o=0;o<a;++o)r[t+o]=e[o]+n}function j(e,r){var t=s(e),n=new t.constructor(r),o=n;return t.numComponents&&t.numElements&&l(n,t.numComponents),e.data&&(o={data:n},a.copyNamedProperties(C,e,o)),o}var D=S(F);r.create3DFBufferInfo=D;var L=I(F);r.create3DFBuffers=L;var N=S(g);r.createCubeBufferInfo=N;var k=I(g);r.createCubeBuffers=k;var G=S(_);r.createPlaneBufferInfo=G;var z=I(_);r.createPlaneBuffers=z;var X=S(T);r.createSphereBufferInfo=X;var V=I(T);r.createSphereBuffers=V;var W=S(R);r.createTruncatedConeBufferInfo=W;var Y=I(R);r.createTruncatedConeBuffers=Y;var K=S(A);r.createXYQuadBufferInfo=K;var H=I(A);r.createXYQuadBuffers=H;var q=S(w);r.createCrescentBufferInfo=q;var Z=I(w);r.createCrescentBuffers=Z;var Q=S(U);r.createCylinderBufferInfo=Q;var $=I(U);r.createCylinderBuffers=$;var J=S(O);r.createTorusBufferInfo=J;var ee=I(O);r.createTorusBuffers=ee;var re=S(B);r.createDiscBufferInfo=re;var te=I(B);r.createDiscBuffers=te;var ne=q;r.createCresentBufferInfo=ne;var ae=Z;r.createCresentBuffers=ae;var oe=w;r.createCresentVertices=oe},"./src/programs.js":function(e,r,t){"use strict";r.__esModule=!0,r.createAttributeSetters=k,r.createProgram=U,r.createProgramFromScripts=function(e,r,t,n,a){for(var o=R(t,n,a),i=[],u=0;u<r.length;++u){var f=O(e,r[u],e[P[u]],o.errorCallback);if(!f)return null;i.push(f)}return U(e,i,o)},r.createProgramFromSources=B,r.createProgramInfo=function(e,r,t,n,a){var o=R(t,n,a),i=!0;if(r=r.map(function(e){if(e.indexOf("\n")<0){var r=f(e);r?e=r.text:(o.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var u=B(e,r,o);if(!u)return null;return z(e,u)},r.createProgramInfoFromProgram=z,r.createUniformSetters=S,r.createUniformBlockSpecFromProgram=j,r.createUniformBlockInfoFromProgram=L,r.createUniformBlockInfo=function(e,r,t){return L(e,r.program,r.uniformBlockSpec,t)},r.createTransformFeedback=function(e,r,t){var n=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n),e.useProgram(r.program),M(e,r,t),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),n},r.createTransformFeedbackInfo=C,r.bindTransformFeedbackInfo=M,r.setAttributes=G,r.setBuffersAndAttributes=function(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(G(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indices))},r.setUniforms=function e(r,t){var n=r.uniformSetters||r;var a=arguments.length;for(var o=1;o<a;++o){var i=arguments[o];if(Array.isArray(i))for(var u=i.length,f=0;f<u;++f)e(n,i[f]);else for(var s in i){var c=n[s];c&&c(i[s])}}},r.setUniformBlock=function(e,r,t){N(e,r,t)&&e.bufferData(e.UNIFORM_BUFFER,t.array,e.DYNAMIC_DRAW)},r.setBlockUniforms=function(e,r){var t=e.uniforms;for(var n in r){var a=t[n];if(a){var o=r[n];o.length?a.set(o):a[0]=o}}},r.bindUniformBlock=N;var n=o(t("./src/utils.js")),a=o(t("./src/helper.js"));function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i=a.error,u=a.warn,f="undefined"!=typeof document&&document.getElementById?document.getElementById.bind(document):function(){return null},s={};function c(e,r){return s[r].bindPoint}function l(e,r){return function(t){e.uniform1i(r,t)}}function p(e,r){return function(t){e.uniform1iv(r,t)}}function m(e,r){return function(t){e.uniform2iv(r,t)}}function y(e,r){return function(t){e.uniform3iv(r,t)}}function d(e,r){return function(t){e.uniform4iv(r,t)}}function b(e,r,t,o){var i=c(0,r);return n.isWebGL2(e)?function(r){var n,u;a.isTexture(e,r)?(n=r,u=null):(n=r.texture,u=r.sampler),e.uniform1i(o,t),e.activeTexture(e.TEXTURE0+t),e.bindTexture(i,n),e.bindSampler(t,u)}:function(r){e.uniform1i(o,t),e.activeTexture(e.TEXTURE0+t),e.bindTexture(i,r)}}function v(e,r,t,o,i){for(var u=c(0,r),f=new Int32Array(i),s=0;s<i;++s)f[s]=t+s;return n.isWebGL2(e)?function(r){e.uniform1iv(o,f),r.forEach(function(r,n){var o,i;e.activeTexture(e.TEXTURE0+f[n]),a.isTexture(e,r)?(o=r,i=null):(o=r.texture,i=r.sampler),e.bindSampler(t,i),e.bindTexture(u,o)})}:function(r){e.uniform1iv(o,f),r.forEach(function(r,t){e.activeTexture(e.TEXTURE0+f[t]),e.bindTexture(u,r)})}}function E(e,r){return function(t){if(t.value)switch(e.disableVertexAttribArray(r),t.value.length){case 4:e.vertexAttrib4fv(r,t.value);break;case 3:e.vertexAttrib3fv(r,t.value);break;case 2:e.vertexAttrib2fv(r,t.value);break;case 1:e.vertexAttrib1fv(r,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,t.numComponents||t.size,t.type||e.FLOAT,t.normalize||!1,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function h(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(r,t.value)}else e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||e.INT,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function A(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(r,t.value)}else e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||e.UNSIGNED_INT,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function _(e,r,t){var n=t.size,a=t.count;return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer);for(var o=t.size||t.numComponents||n,i=o/a,u=t.type||e.FLOAT,f=s[u].size*o,c=t.normalize||!1,l=t.offset||0,p=f/a,m=0;m<a;++m)e.enableVertexAttribArray(r+m),e.vertexAttribPointer(r+m,i,u,c,f,l+p*m),void 0!==t.divisor&&e.vertexAttribDivisor(r+m,t.divisor)}}s[5126]={Type:Float32Array,size:4,setter:function(e,r){return function(t){e.uniform1f(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1fv(r,t)}}},s[35664]={Type:Float32Array,size:8,setter:function(e,r){return function(t){e.uniform2fv(r,t)}}},s[35665]={Type:Float32Array,size:12,setter:function(e,r){return function(t){e.uniform3fv(r,t)}}},s[35666]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniform4fv(r,t)}}},s[5124]={Type:Int32Array,size:4,setter:l,arraySetter:p},s[35667]={Type:Int32Array,size:8,setter:m},s[35668]={Type:Int32Array,size:12,setter:y},s[35669]={Type:Int32Array,size:16,setter:d},s[5125]={Type:Uint32Array,size:4,setter:function(e,r){return function(t){e.uniform1ui(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1uiv(r,t)}}},s[36294]={Type:Uint32Array,size:8,setter:function(e,r){return function(t){e.uniform2uiv(r,t)}}},s[36295]={Type:Uint32Array,size:12,setter:function(e,r){return function(t){e.uniform3uiv(r,t)}}},s[36296]={Type:Uint32Array,size:16,setter:function(e,r){return function(t){e.uniform4uiv(r,t)}}},s[35670]={Type:Uint32Array,size:4,setter:l,arraySetter:p},s[35671]={Type:Uint32Array,size:8,setter:m},s[35672]={Type:Uint32Array,size:12,setter:y},s[35673]={Type:Uint32Array,size:16,setter:d},s[35674]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniformMatrix2fv(r,!1,t)}}},s[35675]={Type:Float32Array,size:36,setter:function(e,r){return function(t){e.uniformMatrix3fv(r,!1,t)}}},s[35676]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4fv(r,!1,t)}}},s[35685]={Type:Float32Array,size:24,setter:function(e,r){return function(t){e.uniformMatrix2x3fv(r,!1,t)}}},s[35686]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2x4fv(r,!1,t)}}},s[35687]={Type:Float32Array,size:24,setter:function(e,r){return function(t){e.uniformMatrix3x2fv(r,!1,t)}}},s[35688]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3x4fv(r,!1,t)}}},s[35689]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix4x2fv(r,!1,t)}}},s[35690]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix4x3fv(r,!1,t)}}},s[35678]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:3553},s[35680]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:34067},s[35679]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:32879},s[35682]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:3553},s[36289]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:35866},s[36292]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:35866},s[36293]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:34067},s[36298]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:3553},s[36299]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:32879},s[36300]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:34067},s[36303]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:35866},s[36306]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:3553},s[36307]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:32879},s[36308]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:34067},s[36311]={Type:null,size:0,setter:b,arraySetter:v,bindPoint:35866};var T={};T[5126]={size:4,setter:E},T[35664]={size:8,setter:E},T[35665]={size:12,setter:E},T[35666]={size:16,setter:E},T[5124]={size:4,setter:h},T[35667]={size:8,setter:h},T[35668]={size:12,setter:h},T[35669]={size:16,setter:h},T[5125]={size:4,setter:A},T[36294]={size:8,setter:A},T[36295]={size:12,setter:A},T[36296]={size:16,setter:A},T[35670]={size:4,setter:h},T[35671]={size:8,setter:h},T[35672]={size:12,setter:h},T[35673]={size:16,setter:h},T[35674]={size:4,setter:_,count:2},T[35675]={size:9,setter:_,count:3},T[35676]={size:16,setter:_,count:4};var x=/^[ \t]*\n/;function g(e,r,t,n){var a=n||i,o=e.createShader(t),u=0;if(x.test(r)&&(u=1,r=r.replace(x,"")),e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var f=e.getShaderInfoLog(o);return a(function(e,r){return r=r||0,++r,e.split("\n").map(function(e,t){return t+r+": "+e}).join("\n")}(r,u)+"\n*** Error compiling shader: "+f),e.deleteShader(o),null}return o}function R(e,r,t){var n;if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var a=e;t=a.errorCallback,e=a.attribLocations,n=a.transformFeedbackVaryings}var o={errorCallback:t||i,transformFeedbackVaryings:n};if(e){var u={};Array.isArray(e)?e.forEach(function(e,t){u[e]=r?r[t]:t}):u=e,o.attribLocations=u}return o}var P=["VERTEX_SHADER","FRAGMENT_SHADER"];function F(e,r){return r.indexOf("frag")>=0?e.FRAGMENT_SHADER:r.indexOf("vert")>=0?e.VERTEX_SHADER:void 0}function w(e,r){r.forEach(function(r){e.deleteShader(r)})}function U(e,r,t,n,o){for(var i=R(t,n,o),u=[],s=[],c=0;c<r.length;++c){var l=r[c];if("string"==typeof l){var p=f(l),m=p?p.text:l,y=e[P[c]];p&&p.type&&(y=F(e,p.type)||y),l=g(e,m,y,i.errorCallback),s.push(l)}a.isShader(e,l)&&u.push(l)}if(u.length!==r.length)return i.errorCallback("not enough shaders for program"),w(e,s),null;var d=e.createProgram();u.forEach(function(r){e.attachShader(d,r)}),i.attribLocations&&Object.keys(i.attribLocations).forEach(function(r){e.bindAttribLocation(d,i.attribLocations[r],r)});var b=i.transformFeedbackVaryings;if(b&&(b.attribs&&(b=b.attribs),Array.isArray(b)||(b=Object.keys(b)),e.transformFeedbackVaryings(d,b,i.transformFeedbackMode||e.SEPARATE_ATTRIBS)),e.linkProgram(d),!e.getProgramParameter(d,e.LINK_STATUS)){var v=e.getProgramInfoLog(d);return i.errorCallback("Error in program linking:"+v),e.deleteProgram(d),w(e,s),null}return d}function O(e,r,t,n){var a,o=f(r);if(!o)throw new Error("unknown script element: ".concat(r));a=o.text;var i=t||F(e,o.type);if(!i)throw new Error("unknown shader type");return g(e,a,i,n)}function B(e,r,t,n,a){for(var o=R(t,n,a),i=[],u=0;u<r.length;++u){var f=g(e,r[u],e[P[u]],o.errorCallback);if(!f)return null;i.push(f)}return U(e,i,o)}function I(e){var r=e.name;return r.startsWith("gl_")||r.startsWith("webgl_")}function S(e,r){var t=0;function n(r,n){var a,o=e.getUniformLocation(r,n.name),i=n.size>1&&"[0]"===n.name.substr(-3),u=n.type,f=s[u];if(!f)throw new Error("unknown type: 0x".concat(u.toString(16)));if(f.bindPoint){var c=t;t+=n.size,a=i?f.arraySetter(e,u,c,o,n.size):f.setter(e,u,c,o,n.size)}else a=f.arraySetter&&i?f.arraySetter(e,o):f.setter(e,o);return a.location=o,a}for(var a={},o=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<o;++i){var u=e.getActiveUniform(r,i);if(!I(u)){var f=u.name;"[0]"===f.substr(-3)&&(f=f.substr(0,f.length-3));var c=n(r,u);a[f]=c}}return a}function C(e,r){for(var t={},n=e.getProgramParameter(r,e.TRANSFORM_FEEDBACK_VARYINGS),a=0;a<n;++a){var o=e.getTransformFeedbackVarying(r,a);t[o.name]={index:a,type:o.type,size:o.size}}return t}function M(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var a=r[n];if(a){var o=t[n];o.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer,o.offset,o.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer)}}}function j(e,r){for(var t=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),n=[],a=[],o=0;o<t;++o){a.push(o),n.push({});var i=e.getActiveUniform(r,o);if(I(i))break;n[o].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var o=t[0],i=t[1];e.getActiveUniforms(r,a,e[o]).forEach(function(e,r){n[r][i]=e})});for(var u={},f=e.getProgramParameter(r,e.ACTIVE_UNIFORM_BLOCKS),s=0;s<f;++s){var c=e.getActiveUniformBlockName(r,s),l={index:s,usedByVertexShader:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};l.used=l.usedByVertexShader||l.usedByFragmentShader,u[c]=l}return{blockSpecs:u,uniformData:n}}var D=/\[\d+\]\.$/;function L(e,r,t,n){var a=t.blockSpecs,o=t.uniformData,i=a[n];if(!i)return u("no uniform block object named:",n),{name:n,uniforms:{}};var f=new ArrayBuffer(i.size),c=e.createBuffer(),l=i.index;e.bindBuffer(e.UNIFORM_BUFFER,c),e.uniformBlockBinding(r,i.index,l);var p=n+".";D.test(p)&&(p=p.replace(D,"."));var m={};return i.uniformIndices.forEach(function(e){var r=o[e],t=s[r.type],n=t.Type,a=r.size*t.size,i=r.name;i.substr(0,p.length)===p&&(i=i.substr(p.length)),m[i]=new n(f,r.offset,a/n.BYTES_PER_ELEMENT)}),{name:n,array:f,asFloat:new Float32Array(f),buffer:c,uniforms:m}}function N(e,r,t){var n=(r.uniformBlockSpec||r).blockSpecs[t.name];if(n){var a=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,a,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function k(e,r){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),a=0;a<n;++a){var o=e.getActiveAttrib(r,a);if(!I(o)){var i=e.getAttribLocation(r,o.name),u=T[o.type],f=u.setter(e,i,u);f.location=i,t[o.name]=f}}return t}function G(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function z(e,r){var t={program:r,uniformSetters:S(e,r),attribSetters:k(e,r)};return n.isWebGL2(e)&&(t.uniformBlockSpec=j(e,r),t.transformFeedbackInfo=C(e,r)),t}},"./src/textures.js":function(e,r,t){"use strict";r.__esModule=!0,r.setTextureDefaults_=function(e){o.copyExistingProperties(e,u),e.textureColor&&x(e.textureColor)},r.createSampler=I,r.createSamplers=function(e,r){var t={};return Object.keys(r).forEach(function(n){t[n]=I(e,r[n])}),t},r.setSamplerParameters=B,r.createTexture=H,r.setEmptyTexture=K,r.setTextureFromArray=Y,r.loadTextureFromUrl=X,r.setTextureFromElement=D,r.setTextureFilteringForSize=S,r.setTextureParameters=O,r.setDefaultTextureColor=x,r.createTextures=function(e,r,t){t=t||L;var n=0,a=[],o={},i={};function u(){0===n&&setTimeout(function(){t(a.length?a:void 0,o,i)},0)}return Object.keys(r).forEach(function(t){var f,s,c=r[t];("string"==typeof(s=c.src)||Array.isArray(s)&&"string"==typeof s[0])&&(f=function(e,r,o){i[t]=o,--n,e&&a.push(e),u()},++n),o[t]=H(e,c,f)}),u(),o},r.resizeTexture=function(e,r,t,n,a){n=n||t.width,a=a||t.height;var o=t.target||e.TEXTURE_2D;e.bindTexture(o,r);var i,u=t.level||0,s=t.internalFormat||t.format||e.RGBA,c=v(s),l=t.format||c.format,p=t.src;i=p&&(f(p)||Array.isArray(p)&&"number"==typeof p[0])?t.type||_(e,p,c.type):t.type||c.type;if(o===e.TEXTURE_CUBE_MAP)for(var m=0;m<6;++m)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,u,s,n,a,0,l,i,null);else e.texImage2D(o,u,s,n,a,0,l,i,null)},r.canGenerateMipmap=h,r.canFilter=A,r.getNumComponentsForFormat=function(e){var r=p[e];if(!r)throw"unknown format: "+e;return r.numColorComponents},r.getBytesPerElementForInternalFormat=b,r.getFormatAndTypeForInternalFormat=v;var n=i(t("./src/utils.js")),a=i(t("./src/typedarrays.js")),o=i(t("./src/helper.js"));function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var u={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},f=a.isArrayBuffer,s="undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null,c=6407,l=33319,p={},m=p;m[6406]={numColorComponents:1},m[6409]={numColorComponents:1},m[6410]={numColorComponents:2},m[c]={numColorComponents:3},m[6408]={numColorComponents:4},m[6403]={numColorComponents:1},m[36244]={numColorComponents:1},m[l]={numColorComponents:2},m[33320]={numColorComponents:2},m[c]={numColorComponents:3},m[36248]={numColorComponents:3},m[6408]={numColorComponents:4},m[36249]={numColorComponents:4},m[6402]={numColorComponents:1},m[34041]={numColorComponents:2};var y={},d=y;function b(e,r){var t=y[e];if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function v(e){var r=y[e];if(!r)throw"unknown internal format";return{format:r.textureFormat,type:r.type[0]}}function E(e){return 0==(e&e-1)}function h(e,r,t,a){if(!n.isWebGL2(e))return E(r)&&E(t);var o=y[a];if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function A(e){var r=y[e];if(!r)throw"unknown internal format";return r.textureFilterable}function _(e,r,t){return f(r)?a.getGLTypeForTypedArray(r):t||e.UNSIGNED_BYTE}function T(e,r,t,n,a){if(a%1!=0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=a/n)%1)throw"can't guess dimensions"}else if((n=a/t)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(a/(r===e.TEXTURE_CUBE_MAP?6:1));o%1==0?(t=o,n=o):(t=a,n=1)}return{width:t,height:n}}function x(e){u.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}d[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},d[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},d[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]},d[c]={textureFormat:c,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},d[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},d[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},d[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},d[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},d[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},d[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},d[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},d[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},d[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},d[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},d[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},d[33323]={textureFormat:l,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},d[36757]={textureFormat:l,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},d[33327]={textureFormat:l,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},d[33328]={textureFormat:l,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},d[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},d[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},d[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},d[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},d[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},d[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},d[32849]={textureFormat:c,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},d[35905]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},d[36194]={textureFormat:c,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},d[36758]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},d[35898]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},d[35901]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},d[34843]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},d[34837]={textureFormat:c,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},d[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},d[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},d[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},d[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},d[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},d[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},d[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},d[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},d[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},d[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},d[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},d[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},d[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},d[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},d[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},d[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},d[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},d[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},d[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},d[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},d[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},d[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},d[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},d[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},d[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},d[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(d).forEach(function(e){var r=d[e];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(e,t){var n=r.type[t];r.bytesPerElementMap[n]=e})});var g={};function R(e,r){void 0!==r.colorspaceConversion&&(g.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.colorspaceConversion)),void 0!==r.premultiplyAlpha&&(g.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha)),void 0!==r.flipY&&(g.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY))}function P(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,g.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,g.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,g.flipY)}function F(e){g.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),n.isWebGL2(e)&&(g.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),g.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),g.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),g.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),g.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function w(e){e.pixelStorei(e.UNPACK_ALIGNMENT,g.unpackAlignment),n.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,g.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,g.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,g.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,g.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,g.unpackSkipImages))}function U(e,r,t,n){n.minMag&&(t.call(e,r,e.TEXTURE_MIN_FILTER,n.minMag),t.call(e,r,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&t.call(e,r,e.TEXTURE_MIN_FILTER,n.min),n.mag&&t.call(e,r,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(t.call(e,r,e.TEXTURE_WRAP_S,n.wrap),t.call(e,r,e.TEXTURE_WRAP_T,n.wrap),(r===e.TEXTURE_3D||o.isSampler(e,r))&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&t.call(e,r,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&t.call(e,r,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&t.call(e,r,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&t.call(e,r,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&t.call(e,r,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&t.call(e,r,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function O(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r),U(e,n,e.texParameteri,t)}function B(e,r,t){U(e,r,e.samplerParameteri,t)}function I(e,r){var t=e.createSampler();return B(e,t,r),t}function S(e,r,t,n,a,o,i){t=t||u.textureOptions,o=o||e.RGBA,i=i||e.UNSIGNED_BYTE;var f=t.target||e.TEXTURE_2D;if(n=n||t.width,a=a||t.height,e.bindTexture(f,r),h(e,n,a,o))e.generateMipmap(f);else{var s=A(o)?e.LINEAR:e.NEAREST;e.texParameteri(f,e.TEXTURE_MIN_FILTER,s),e.texParameteri(f,e.TEXTURE_MAG_FILTER,s),e.texParameteri(f,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(f,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function C(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function M(e,r){return(r=r||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function j(e,r){var t=M(e,r).map(function(e,r){return{face:e,ndx:r}});return t.sort(function(e,r){return e.face-r.face}),t}function D(e,r,t,n){var a=(n=n||u.textureOptions).target||e.TEXTURE_2D,o=n.level||0,i=t.width,f=t.height,c=n.internalFormat||n.format||e.RGBA,l=v(c),p=n.format||l.format,m=n.type||l.type;if(R(e,n),e.bindTexture(a,r),a===e.TEXTURE_CUBE_MAP){var y,d,b=t.width,E=t.height;if(b/6===E)y=E,d=[0,0,1,0,2,0,3,0,4,0,5,0];else if(E/6===b)y=b,d=[0,0,0,1,0,2,0,3,0,4,0,5];else if(b/3==E/2)y=b/3,d=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(b/2!=E/3)throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);y=b/2,d=[0,0,1,0,0,1,1,1,0,2,1,2]}s?(s.canvas.width=y,s.canvas.height=y,i=y,f=y,j(e,n).forEach(function(r){var n=d[2*r.ndx+0]*y,a=d[2*r.ndx+1]*y;s.drawImage(t,n,a,y,y,0,0,y,y),e.texImage2D(r.face,o,c,p,m,s.canvas)}),s.canvas.width=1,s.canvas.height=1):"undefined"!=typeof createImageBitmap&&(i=y,f=y,j(e,n).forEach(function(u){var s=d[2*u.ndx+0]*y,l=d[2*u.ndx+1]*y;e.texImage2D(u.face,o,c,y,y,0,p,m,null),createImageBitmap(t,s,l,y,y,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(t){R(e,n),e.bindTexture(a,r),e.texImage2D(u.face,o,c,p,m,t),P(e,n),C(n)&&S(e,r,n,i,f,c,m)})}))}else if(a===e.TEXTURE_3D||a===e.TEXTURE_2D_ARRAY){var h=Math.min(t.width,t.height),A=Math.max(t.width,t.height),_=A/h;if(_%1!=0)throw"can not compute 3D dimensions of element";var T=t.width===A?1:0,x=t.height===A?1:0;F(e),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.pixelStorei(e.UNPACK_ROW_LENGTH,t.width),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),e.pixelStorei(e.UNPACK_SKIP_IMAGES,0),e.texImage3D(a,o,c,h,h,h,0,p,m,null);for(var g=0;g<_;++g){var U=g*h*T,B=g*h*x;e.pixelStorei(e.UNPACK_SKIP_PIXELS,U),e.pixelStorei(e.UNPACK_SKIP_ROWS,B),e.texSubImage3D(a,o,0,0,g,h,h,1,p,m,t)}w(e)}else e.texImage2D(a,o,c,p,m,t);P(e,n),C(n)&&S(e,r,n,i,f,c,m),O(e,r,n)}function L(){}function N(e,r){return void 0!==r||function(e){if("undefined"!=typeof document){var r=document.createElement("a");return r.href=e,r.hostname===location.hostname&&r.port===location.port&&r.protocol===location.protocol}var t=new URL(location.href).origin;return new URL(e,location.href).origin===t}(e)?r:"anonymous"}function k(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function G(e,r,t){return k(e)?(setTimeout(function(){t(null,e)}),e):function(e,r,t){var n;if(t=t||L,r=void 0!==r?r:u.crossOrigin,r=N(e,r),"undefined"!=typeof Image){n=new Image,void 0!==r&&(n.crossOrigin=r);var a=function(){n.removeEventListener("error",i),n.removeEventListener("load",f),n=null},i=function(){var r="couldn't load image: "+e;o.error(r),t(r,n),a()},f=function(){t(null,n),a()};return n.addEventListener("error",i),n.addEventListener("load",f),n.src=e,n}if("undefined"!=typeof ImageBitmap){var s,c,l=function(){t(s,c)},p={};r&&(p.mode="cors"),fetch(e,p).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){c=e,setTimeout(l)}).catch(function(e){s=e,setTimeout(l)}),n=null}return n}(e,r,t)}function z(e,r,t){var n=(t=t||u.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(n,r),!1!==t.color){var a=function(e){return e=e||u.textureColor,f(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(t.color);if(n===e.TEXTURE_CUBE_MAP)for(var o=0;o<6;++o)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);else n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a)}}function X(e,r,t,n){return n=n||L,t=t||u.textureOptions,z(e,r,t),G((t=Object.assign({},t)).src,t.crossOrigin,function(a,o){a?n(a,r,o):(D(e,r,o,t),n(null,r,o))})}function V(e,r,t,n){n=n||L;var a=t.src;if(6!==a.length)throw"there must be 6 urls for a cubemap";var o=t.level||0,i=t.internalFormat||t.format||e.RGBA,u=v(i),f=t.format||u.format,s=t.type||e.UNSIGNED_BYTE,c=t.target||e.TEXTURE_2D;if(c!==e.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";z(e,r,t),t=Object.assign({},t);var l,p=6,m=[],y=M(e,t);l=a.map(function(a,u){return G(a,t.crossOrigin,(d=y[u],function(a,u){--p,a?m.push(a):u.width!==u.height?m.push("cubemap face img is not a square: "+u.src):(R(e,t),e.bindTexture(c,r),5===p?M(e).forEach(function(r){e.texImage2D(r,o,i,f,s,u)}):e.texImage2D(d,o,i,f,s,u),P(e,t),C(t)&&e.generateMipmap(c)),0===p&&n(m.length?m:void 0,r,l)}));var d})}function W(e,r,t,n){n=n||L;var a=t.src,o=t.internalFormat||t.format||e.RGBA,i=v(o),u=t.format||i.format,f=t.type||e.UNSIGNED_BYTE,c=t.target||e.TEXTURE_2D_ARRAY;if(c!==e.TEXTURE_3D&&c!==e.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";z(e,r,t),t=Object.assign({},t);var l,p=a.length,m=[],y=t.level||0,d=t.width,b=t.height,E=a.length,h=!0;l=a.map(function(a,i){return G(a,t.crossOrigin,(v=i,function(a,i){if(--p,a)m.push(a);else{if(R(e,t),e.bindTexture(c,r),h){h=!1,d=t.width||i.width,b=t.height||i.height,e.texImage3D(c,y,o,d,b,E,0,u,f,null);for(var A=0;A<E;++A)e.texSubImage3D(c,y,0,0,A,d,b,1,u,f,i)}else{var _=i;i.width===d&&i.height===b||(_=s.canvas,s.canvas.width=d,s.canvas.height=b,s.drawImage(i,0,0,d,b)),e.texSubImage3D(c,y,0,0,v,d,b,1,u,f,_),_===s.canvas&&(s.canvas.width=0,s.canvas.height=0)}P(e,t),C(t)&&e.generateMipmap(c)}0===p&&n(m.length?m:void 0,r,l)}));var v})}function Y(e,r,t,o){var i=(o=o||u.textureOptions).target||e.TEXTURE_2D;e.bindTexture(i,r);var s=o.width,c=o.height,l=o.depth,p=o.level||0,m=o.internalFormat||o.format||e.RGBA,y=v(m),d=o.format||y.format,E=o.type||_(e,t,y.type);if(f(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{var h=a.getTypedArrayTypeForGLType(E);t=new h(t)}var A,x=b(m,E),g=t.byteLength/x;if(g%1)throw"length wrong size for format: "+n.glEnumToString(e,d);if(i===e.TEXTURE_3D)if(s||c||l)!s||c&&l?!c||s&&l?(A=T(e,i,s,c,g/l),s=A.width,c=A.height):(A=T(e,i,s,l,g/c),s=A.width,l=A.height):(A=T(e,i,c,l,g/s),c=A.width,l=A.height);else{var U=Math.cbrt(g);if(U%1!=0)throw"can't guess cube size of array of numElements: "+g;s=U,c=U,l=U}else A=T(e,i,s,c,g),s=A.width,c=A.height;if(F(e),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment||1),R(e,o),i===e.TEXTURE_CUBE_MAP){var O=g/6*(x/t.BYTES_PER_ELEMENT);j(e,o).forEach(function(r){var n=O*r.ndx,a=t.subarray(n,n+O);e.texImage2D(r.face,p,m,s,c,0,d,E,a)})}else i===e.TEXTURE_3D?e.texImage3D(i,p,m,s,c,l,0,d,E,t):e.texImage2D(i,p,m,s,c,0,d,E,t);return P(e,o),w(e),{width:s,height:c,depth:l,type:E}}function K(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r);var a=t.level||0,o=t.internalFormat||t.format||e.RGBA,i=v(o),u=t.format||i.format,f=t.type||i.type;if(R(e,t),n===e.TEXTURE_CUBE_MAP)for(var s=0;s<6;++s)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,a,o,t.width,t.height,0,u,f,null);else n===e.TEXTURE_3D?e.texImage3D(n,a,o,t.width,t.height,t.depth,0,u,f,null):e.texImage2D(n,a,o,t.width,t.height,0,u,f,null);P(e,t)}function H(e,r,t){t=t||L,r=r||u.textureOptions;var n=e.createTexture(),a=r.target||e.TEXTURE_2D,o=r.width||1,i=r.height||1,s=r.internalFormat||e.RGBA,c=v(s),l=r.type||c.type;e.bindTexture(a,n),a===e.TEXTURE_CUBE_MAP&&(e.texParameteri(a,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(a,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var p=r.src;if(p)if("function"==typeof p&&(p=p(e,r)),"string"==typeof p)X(e,n,r,t);else if(f(p)||Array.isArray(p)&&("number"==typeof p[0]||Array.isArray(p[0])||f(p[0]))){var m=Y(e,n,p,r);o=m.width,i=m.height,l=m.type}else if(Array.isArray(p)&&("string"==typeof p[0]||k(p[0])))a===e.TEXTURE_CUBE_MAP?V(e,n,r,t):W(e,n,r,t);else{if(!k(p))throw"unsupported src type";D(e,n,p,r),o=p.width,i=p.height}else K(e,n,r);return C(r)&&S(e,n,r,o,i,s,l),O(e,n,r),n}},"./src/twgl-full.js":function(e,r,t){"use strict";r.__esModule=!0;var n={m4:!0,v3:!0,primitives:!0};r.primitives=r.v3=r.m4=void 0;var a=f(t("./src/m4.js"));r.m4=a;var o=f(t("./src/v3.js"));r.v3=o;var i=f(t("./src/primitives.js"));r.primitives=i;var u=t("./src/twgl.js");function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))})},"./src/twgl.js":function(e,r,t){"use strict";r.__esModule=!0;var n={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};r.addExtensionsToContext=E,r.getContext=function(e,r){return function(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){y.addExtensionsToContext&&E(n);break}return n}(e,r)},r.getWebGLContext=function(e,r){return function(e,r){for(var t=["webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){y.addExtensionsToContext&&E(n);break}return n}(e,r)},r.resizeCanvasToDisplaySize=function(e,r){r=r||1,r=Math.max(0,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;if(e.width!==t||e.height!==n)return e.width=t,e.height=n,!0;return!1},r.setDefaults=function(e){i.copyExistingProperties(e,y),a.setAttributeDefaults_(e),o.setTextureDefaults_(e)},r.vertexArrays=r.typedarrays=r.programs=r.framebuffers=r.draw=r.utils=r.textures=r.attributes=void 0;var a=m(t("./src/attributes.js"));r.attributes=a,Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=a[e]))});var o=m(t("./src/textures.js"));r.textures=o,Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=o[e]))});var i=m(t("./src/helper.js")),u=m(t("./src/utils.js"));r.utils=u,Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))});var f=m(t("./src/draw.js"));r.draw=f,Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=f[e]))});var s=m(t("./src/framebuffers.js"));r.framebuffers=s,Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=s[e]))});var c=m(t("./src/programs.js"));r.programs=c,Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=c[e]))});var l=m(t("./src/typedarrays.js"));r.typedarrays=l,Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=l[e]))});var p=m(t("./src/vertex-arrays.js"));function m(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}r.vertexArrays=p,Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=p[e]))});var y={addExtensionsToContext:!0};var d=/^(.*?)_/;function b(e,r){u.glEnumToString(e,0);var t=e.getExtension(r);if(t){var n={},a=d.exec(r)[1],o="_"+a;for(var f in t){var s=t[f],c="function"==typeof s,l=c?a:o,p=f;f.endsWith(l)&&(p=f.substring(0,f.length-l.length)),void 0!==e[p]?c||e[p]===s||i.warn(p,e[p],s,f):c?e[p]=function(e){return function(){return e.apply(t,arguments)}}(s):(e[p]=s,n[p]=s)}n.constructor={name:t.constructor.name},u.glEnumToString(n,0)}return t}var v=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function E(e){for(var r=0;r<v.length;++r)b(e,v[r])}},"./src/typedarrays.js":function(e,r,t){"use strict";r.__esModule=!0,r.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return a;if(e instanceof Uint8ClampedArray)return a;if(e instanceof Int16Array)return o;if(e instanceof Uint16Array)return i;if(e instanceof Int32Array)return u;if(e instanceof Uint32Array)return f;if(e instanceof Float32Array)return s;throw new Error("unsupported typed array type")},r.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return n;if(e===Uint8Array)return a;if(e===Uint8ClampedArray)return a;if(e===Int16Array)return o;if(e===Uint16Array)return i;if(e===Int32Array)return u;if(e===Uint32Array)return f;if(e===Float32Array)return s;throw new Error("unsupported typed array type")},r.getTypedArrayTypeForGLType=function(e){var r=c[e];if(!r)throw new Error("unknown gl type");return r},r.isArrayBuffer=void 0;var n=5120,a=5121,o=5122,i=5123,u=5124,f=5125,s=5126,c={},l=c;l[n]=Int8Array,l[a]=Uint8Array,l[o]=Int16Array,l[i]=Uint16Array,l[u]=Int32Array,l[f]=Uint32Array,l[s]=Float32Array,l[32819]=Uint16Array,l[32820]=Uint16Array,l[33635]=Uint16Array,l[5131]=Uint16Array,l[33640]=Uint32Array,l[35899]=Uint32Array,l[35902]=Uint32Array,l[36269]=Uint32Array,l[34042]=Uint32Array;var p="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};r.isArrayBuffer=p},"./src/utils.js":function(e,r,t){"use strict";r.__esModule=!0,r.isWebGL1=function(e){return!e.texStorage2D},r.isWebGL2=function(e){return!!e.texStorage2D},r.glEnumToString=void 0;var n=function(){var e={},r={};return function(t,n){return function(t){var n=t.constructor.name;if(!e[n]){for(var a in t)if("number"==typeof t[a]){var o=r[t[a]];r[t[a]]=o?"".concat(o," | ").concat(a):a}e[n]=!0}}(t),r[n]||"0x"+n.toString(16)}}();r.glEnumToString=n},"./src/v3.js":function(e,r,t){"use strict";r.__esModule=!0,r.add=function(e,r,t){return(t=t||new n(3))[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},r.copy=function(e,r){return(r=r||new n(3))[0]=e[0],r[1]=e[1],r[2]=e[2],r},r.create=function(e,r,t){var a=new n(3);e&&(a[0]=e);r&&(a[1]=r);t&&(a[2]=t);return a},r.cross=function(e,r,t){t=t||new n(3);var a=e[2]*r[0]-e[0]*r[2],o=e[0]*r[1]-e[1]*r[0];return t[0]=e[1]*r[2]-e[2]*r[1],t[1]=a,t[2]=o,t},r.distance=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return Math.sqrt(t*t+n*n+a*a)},r.distanceSq=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return t*t+n*n+a*a},r.divide=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},r.divScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r,t},r.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},r.lerp=function(e,r,t,a){return(a=a||new n(3))[0]=e[0]+t*(r[0]-e[0]),a[1]=e[1]+t*(r[1]-e[1]),a[2]=e[2]+t*(r[2]-e[2]),a},r.lerpV=function(e,r,t,a){return(a=a||new n(3))[0]=e[0]+t[0]*(r[0]-e[0]),a[1]=e[1]+t[1]*(r[1]-e[1]),a[2]=e[2]+t[2]*(r[2]-e[2]),a},r.length=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},r.lengthSq=function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},r.max=function(e,r,t){return(t=t||new n(3))[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},r.min=function(e,r,t){return(t=t||new n(3))[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},r.mulScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},r.multiply=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},r.negate=function(e,r){return(r=r||new n(3))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r},r.normalize=function(e,r){r=r||new n(3);var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=Math.sqrt(t);a>1e-5?(r[0]=e[0]/a,r[1]=e[1]/a,r[2]=e[2]/a):(r[0]=0,r[1]=0,r[2]=0);return r},r.setDefaultType=function(e){var r=n;return n=e,r},r.subtract=function(e,r,t){return(t=t||new n(3))[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t};var n=Float32Array},"./src/vertex-arrays.js":function(e,r,t){"use strict";r.__esModule=!0,r.createVertexArrayInfo=function(e,r,t){var a=e.createVertexArray();e.bindVertexArray(a),r.length||(r=[r]);return r.forEach(function(r){n.setBuffersAndAttributes(e,r,t)}),e.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:a}},r.createVAOAndSetAttributes=a,r.createVAOFromBufferInfo=function(e,r,t){return a(e,r.attribSetters||r,t.attribs,t.indices)};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t("./src/programs.js"));function a(e,r,t,a){var o=e.createVertexArray();return e.bindVertexArray(o),n.setAttributes(r,t),a&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bindVertexArray(null),o}}})});
},{}],"Oth3":[function(require,module,exports) {
module.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform int maxSteps;\nuniform float minDist;\nuniform float maxDist;\nuniform float epsilon;\nuniform vec2 resolution;\nuniform int subSamples;\nuniform float FOV;\nuniform vec3 cameraPos;\nuniform mat4 rotationMatrix;\nuniform vec3 lightPos;\nuniform vec3 objectPos;\nuniform vec3 objectColour;\nuniform vec3 worldColour;\nuniform float worldColourFactor;\nuniform float diffuseFactor;\nuniform float specularFactor;\nuniform float ambientMin;\nuniform float specularPower;\nuniform bool renderFractal;\nuniform int maxIterations;\nuniform float fractalPower;\nuniform float sphereRadius;\n\nfloat planeSDF(vec3 samplePoint, float height) {\n  return dot(samplePoint + vec3(0.0, -height, 0.0), vec3(0.0, 1.0, 0.0));\n}\n\nfloat sphereSDF(vec3 samplePoint) {\n  return length(samplePoint - objectPos) - sphereRadius;\n}\n\nfloat mandelbulbSDF(vec3 samplePoint) {\n  vec3 c = samplePoint - objectPos;\n  vec3 z = c;\n  float dr = 1.0;\n  float r = 0.0;\n\n  for (int i = 0; i < 10000; i++) {\n    if (i == maxIterations) break;\n    r = length(z);\n    if (r > 2.0) break;\n    float theta = acos(z.z / r);\n    float phi = atan(z.y, z.x);\n    dr = pow(r, fractalPower - 1.0) * fractalPower * dr + 1.0;\n\n    float zr = pow(r, fractalPower);\n    theta = theta * fractalPower;\n    phi = phi * fractalPower;\n\n    z = zr * vec3(sin(theta) * cos(phi), sin(phi) * sin(theta), cos(theta));\n    z += c;\n  }\n  return 0.5 * log(r) * r / dr;\n}\n\nfloat sceneSDF(vec3 samplePoint) {\n  if (renderFractal) {\n    return mandelbulbSDF(samplePoint);\n  } else {\n    float plane = planeSDF(samplePoint, -sphereRadius);\n    float sphere = sphereSDF(samplePoint);\n    return min(plane, sphere);\n  }\n}\n\nfloat distToScene(vec3 dir) {\n  float depth = minDist;\n  for (int i = 0; i < 10000; i++) {\n    if (i == maxSteps) return maxDist;\n    float dist = sceneSDF(cameraPos + depth * dir);\n    if (dist < epsilon) return depth;\n    depth += dist;\n    if (depth >= maxDist) return maxDist;\n  }\n}\n\nvec3 calcDir(vec2 pixelPos) {\n  vec2 point = 2.0 * (pixelPos / resolution) - 1.0;\n  point *= tan(radians(FOV / 2.0)) * vec2(resolution.x / resolution.y, 1);\n  vec3 dir = vec3(point, -1.0);\n  vec4 dirRotated = rotationMatrix * vec4(dir, 1.0);\n  return normalize(dirRotated.xyz);\n}\n\nvec3 estimateNormal(vec3 p) {\n  return normalize(vec3(\n    sceneSDF(vec3(p.x + epsilon, p.y, p.z)) - sceneSDF(vec3(p.x - epsilon, p.y, p.z)),\n    sceneSDF(vec3(p.x, p.y + epsilon, p.z)) - sceneSDF(vec3(p.x, p.y - epsilon, p.z)),\n    sceneSDF(vec3(p.x, p.y, p.z + epsilon)) - sceneSDF(vec3(p.x, p.y, p.z - epsilon))\n  ));\n}\n\nvec3 calcPhong(vec3 hitPoint) {\n  vec3 normal = estimateNormal(hitPoint);\n  vec3 toLight = normalize(lightPos - hitPoint);\n  vec3 toCamera = normalize(cameraPos - hitPoint);\n  vec3 lightReflected = 2.0 * dot(normal, toLight) * normal - toLight;\n  float diffuse = diffuseFactor * clamp(dot(normal, toLight), ambientMin, 1.0);\n  float specular = specularFactor * pow(clamp(dot(toCamera, lightReflected), 0.0, 1.0), specularPower);\n  return (objectColour / vec3(255)) * diffuse + vec3(1.0) * specular;\n}\n\nvec3 rayMarch(vec2 pixelPos) {\n  vec3 dir = calcDir(pixelPos);\n  float dist = distToScene(dir);\n  if (dist >= maxDist) {\n    return worldColourFactor * worldColour / vec3(255);\n  } else {\n    vec3 hitPoint = cameraPos + dist * dir;\n    return calcPhong(hitPoint);\n  }\n}\n\nvoid main() {\n  vec3 colour = vec3(0.0);\n  vec2 pixelSize = vec2(1, resolution.x / resolution.y);\n  for (int i = 0; i < 10000; i++) {\n    if (i == subSamples) break;\n    colour += rayMarch(gl_FragCoord.xy + vec2(i) * (pixelSize / vec2(subSamples + 1)));\n  }\n  gl_FragColor = vec4(colour / vec3(subSamples), 1.0);\n}\n\n";
},{}],"dpJa":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = position;\n}\n";
},{}],"ZCfc":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("dat.gui")),o=require("gl-matrix"),a=e(require("twgl.js")),s=t(require("./shader/fragment.glsl")),n=t(require("./shader/vertex.glsl")),i=document.createElement("canvas"),c=i.getContext("webgl");document.body.appendChild(i);var d=a.createProgramInfo(c,[n.default,s.default]),l=[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0],u={position:l},m=a.createBufferInfoFromArrays(c,u),v={isMoving:!1,isRotating:!1,highRes:!1,movingScale:6,xRotMax:90,mouseSens:.0015,movementSpeed:.05,keyStates:{w:!1,a:!1,s:!1,d:!1},rotation:o.vec2.create(),controllers:[]},h={maxSteps:200,minDist:0,maxDist:50,epsilon:1e-4,resolution:o.vec2.create(),subSamples:4,FOV:45,cameraPos:o.vec3.fromValues(0,0,0),rotationMatrix:o.mat4.create(),lightPos:o.vec3.fromValues(5,5,5),objectPos:o.vec3.fromValues(0,0,-3),objectColour:[246,189,120],worldColour:[72,92,120],worldColourFactor:.5,diffuseFactor:1,specularFactor:.2,ambientMin:.2,specularPower:10,renderFractal:!0,maxIterations:10,fractalPower:8,sphereRadius:.6};function f(){var e=o.mat4.create(),t=o.mat4.create();o.mat4.fromXRotation(e,v.rotation[0]),o.mat4.fromYRotation(t,v.rotation[1]),o.mat4.multiply(h.rotationMatrix,t,e)}function p(){var e=o.vec3.fromValues(0,0,-1),t=o.vec3.create(),r=o.vec3.create();o.vec3.transformMat4(e,e,h.rotationMatrix),o.vec3.cross(t,e,[0,1,0]),o.vec3.cross(r,t,e),o.vec3.normalize(e,e),o.vec3.normalize(t,t),o.vec3.scale(e,e,v.movementSpeed),o.vec3.scale(t,t,v.movementSpeed),v.keyStates.w&&o.vec3.add(h.cameraPos,h.cameraPos,e),v.keyStates.a&&o.vec3.subtract(h.cameraPos,h.cameraPos,t),v.keyStates.s&&o.vec3.subtract(h.cameraPos,h.cameraPos,e),v.keyStates.d&&o.vec3.add(h.cameraPos,h.cameraPos,t),o.vec3.multiply(h.cameraPos,h.cameraPos,[1,0,1])}function g(){w(),requestAnimationFrame(g)}function w(){v.isMoving||v.isRotating?(v.highRes&&(P(v.movingScale),v.highRes=!1),f(),p(),S()):v.highRes||(P(1),S(),v.highRes=!0)}function S(){c.viewport(0,0,c.canvas.width,c.canvas.height),c.useProgram(d.program),a.setBuffersAndAttributes(c,d,m),a.setUniforms(d,h),a.drawBufferInfo(c,m)}function P(e){var t=window.innerWidth,r=window.innerHeight;i.width=h.renderFractal?t/e:t,i.height=h.renderFractal?r/e:r,h.resolution=o.vec2.fromValues(i.width,i.height),i.style.width="100vw",i.style.height="100vh"}function F(){var e=new r.GUI,t=e.addFolder("Control");t.add(v,"xRotMax",1,90),t.add(v,"mouseSens",0,.005),t.add(v,"movementSpeed",0,.5);var o=e.addFolder("Rendering");v.controllers.push(o.add(v,"movingScale",1,10,1)),v.controllers.push(o.add(h,"maxSteps",1,1e3,1)),v.controllers.push(o.add(h,"maxDist",1,200,1)),v.controllers.push(o.add(h,"subSamples",1,10,1)),v.controllers.push(o.add(h,"FOV",1,179));var a=e.addFolder("Shading");v.controllers.push(a.addColor(h,"objectColour")),v.controllers.push(a.addColor(h,"worldColour")),v.controllers.push(a.add(h,"worldColourFactor",0,1)),v.controllers.push(a.add(h,"diffuseFactor",0,1)),v.controllers.push(a.add(h,"specularFactor",0,1)),v.controllers.push(a.add(h,"ambientMin",0,1)),v.controllers.push(a.add(h,"specularPower",1,50));var s=e.addFolder("SDF");v.controllers.push(s.add(h,"renderFractal")),v.controllers.push(s.add(h,"maxIterations",1,100,1)),v.controllers.push(s.add(h,"fractalPower",1,20)),v.controllers.push(s.add(h,"sphereRadius",0,5));for(var n=0,i=v.controllers;n<i.length;n++){i[n].onFinishChange(S)}}function y(e){if(!e.repeat){v.isMoving=!1;for(var t=0,r=Object.keys(v.keyStates);t<r.length;t++){var o=r[t];e.key===o&&(v.keyStates[o]=!v.keyStates[o]),v.isMoving=v.isMoving||!0===v.keyStates[o]}}}function M(){i.requestPointerLock()}function x(e){if(document.pointerLockElement===i){v.isRotating=!(0===e.movementX&&0===e.movementY);var t=o.vec2.fromValues(-e.movementY,-e.movementX),r=v.mouseSens*h.FOV*(Math.PI/180);o.vec2.scale(t,t,r),o.vec2.add(v.rotation,v.rotation,t);var a=v.xRotMax*(Math.PI/180);v.rotation[0]=Math.min(Math.max(-a,v.rotation[0]),a)}}function R(){v.highRes=!1,P(v.movingScale),w()}document.addEventListener("keydown",y),document.addEventListener("keyup",y),document.addEventListener("mousemove",x),window.addEventListener("resize",R),i.addEventListener("click",M),F(),requestAnimationFrame(g);
},{"dat.gui":"KkZG","gl-matrix":"CPlc","twgl.js":"pBRx","./shader/fragment.glsl":"Oth3","./shader/vertex.glsl":"dpJa"}]},{},["ZCfc"], null)
//# sourceMappingURL=/RayMarching/main.d952f93e.js.map
{"version":3,"sources":["../src/dat/index.js","../src/dat/color/toString.js","../src/dat/utils/common.js","../src/dat/color/interpret.js","../src/dat/color/math.js","../src/dat/color/Color.js","../src/dat/controllers/Controller.js","../src/dat/dom/dom.js","../src/dat/controllers/BooleanController.js","../src/dat/controllers/OptionController.js","../src/dat/controllers/StringController.js","../src/dat/controllers/NumberController.js","../src/dat/controllers/NumberControllerBox.js","../src/dat/controllers/NumberControllerSlider.js","../src/dat/controllers/FunctionController.js","../src/dat/controllers/ColorController.js","../src/dat/utils/css.js","../src/dat/gui/saveDialogue.html.js","../src/dat/controllers/ControllerFactory.js","../src/dat/utils/requestAnimationFrame.js","../src/dat/dom/CenteredDiv.js","../src/dat/gui/GUI.js","../node_modules/gl-matrix/esm/common.js","../node_modules/gl-matrix/esm/mat2.js","../node_modules/gl-matrix/esm/mat2d.js","../node_modules/gl-matrix/esm/mat3.js","../node_modules/gl-matrix/esm/mat4.js","../node_modules/gl-matrix/esm/vec3.js","../node_modules/gl-matrix/esm/vec4.js","../node_modules/gl-matrix/esm/quat.js","../node_modules/gl-matrix/esm/quat2.js","../node_modules/gl-matrix/esm/vec2.js","../node_modules/gl-matrix/esm/index.js","../node_modules/twgl.js/dist/4.x/twgl-full.module.js","shader/fragment.glsl","shader/vertex.glsl","main.ts"],"names":["color","forceCSSHex","colorFormat","__state","conversionName","toString","r","Math","round","g","b","a","h","s","toFixed","v","str","hex","length","ARR_EACH","Array","prototype","forEach","ARR_SLICE","slice","Common","target","each","call","arguments","obj","isObject","Object","keys","key","isUndefined","bind","toCall","args","i","apply","itr","scope","l","BREAK","fnc","func","threshold","callImmediately","timeout","callNow","setTimeout","delayed","toArray","undefined","isNaN","isArray","constructor","Function","INTERPRETATIONS","common","isString","original","test","match","parseInt","parseFloat","isNumber","result","toReturn","interpret","family","litmus","conversions","conversion","read","tmpComponent","ColorMath","hi","floor","f","p","q","t","c","min","max","delta","NaN","hex_with_component","componentIndex","value","Color","Error","colorToString","write","defineRGBComponent","component","componentHexIndex","defineProperty","space","recalculateRGB","defineHSVComponent","recalculateHSV","math","component_from_hex","extend","hsv_to_rgb","rgb_to_hsv","COMPONENTS","rgb_to_hex","Controller","object","property","initialValue","domElement","document","createElement","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP","EVENT_MAP_INV","k","e","CSS_VALUE_PIXELS","cssValueToPixels","val","isNull","dom","elem","selectable","style","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","hor","vert","vertical","horizontal","position","left","right","top","bottom","eventType","pars","aux","params","className","evt","createEvent","clientX","x","clientY","y","initMouseEvent","bubbles","cancelable","window","clickCount","init","initKeyboardEvent","initKeyEvent","defaults","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode","initEvent","dispatchEvent","event","newBool","bool","addEventListener","attachEvent","removeEventListener","detachEvent","classes","split","indexOf","push","join","replace","removeAttribute","index","splice","RegExp","getComputedStyle","width","height","el","offset","offsetParent","offsetLeft","offsetTop","activeElement","type","href","BooleanController","_this","__prev","__checkbox","setAttribute","onChange","setValue","appendChild","checked","OptionController","opts","options","__select","map","element","opt","innerHTML","desiredValue","selectedIndex","isActive","StringController","__input","onBlur","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","pow","log","abs","LN10","__precision","_v","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","onMouseUp","unbind","attempted","onMouseDown","i1","i2","o1","o2","NumberControllerSlider","preventDefault","bgRect","__background","getBoundingClientRect","onTouchMove","touches","onTouchEnd","__foreground","onTouchStart","addClass","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","makeSelectable","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","removeClass","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","mismatch","flip","_flip","toHexString","marginTop","vendors","linearGradient","background","vendor","cssText","hueGradient","css","url","indoc","doc","link","rel","getElementsByTagName","cssContent","injected","head","saveDialogContents","ControllerFactory","isFunction","isBoolean","requestAnimationFrame","callback","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","makeFullscreen","body","hide","display","opacity","webkitTransform","layout","defer","innerWidth","getWidth","innerHeight","getHeight","inject","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","DEFAULT_WIDTH","autoPlace","load","preset","parent","hideable","resizable","scrollable","useLocalStorage","root","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","defineProperties","closeOnTop","getRoot","revert","name","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","stringify","getSaveObject","saveToLocalStorageIfPossible","gui","newDom","liBefore","li","removeListeners","markPresetModified","modified","__preset_select","augmentController","controller","__li","__gui","nextSibling","nextElementSibling","add","remove","firstElementChild","listen","box","method","pc","pb","returned","oldName","wasListening","newController","compose","fakeEvent","stopPropagation","borderLeftColor","isModified","recallSavedValue","matchedIndex","controllerMap","remembered","presetMap","factoryArgs","concat","before","container","CLASS_CONTROLLER_ROW","location","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","__save_row","firstChild","gears","button","button2","button3","select","getElementById","localStorageCheckBox","newConstructorTextArea","which","show","focus","save","presetName","prompt","saveAs","addResizeHandle","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","setWidth","w","getCurrentPreset","useInitialValues","savedValues","setPresetSelectIndex","updateDisplays","controllerArray","toggleHide","CLASS_TOO_TALL","_keydownHandler","removeChild","subfolder","removeFolder","newGuiParams","folders","folder","parentElement","getOffset","node","offsetHeight","debounce","saveDialogueContents","controllers","domImport","GUIImport","EPSILON","ARRAY_TYPE","Float32Array","RANDOM","random","setMatrixArrayType","degree","PI","toRadian","equals","hypot","sqrt","create","out","glMatrix","clone","copy","identity","fromValues","m00","m01","m10","m11","set","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","sin","cos","scale","v0","v1","fromRotation","fromScaling","frob","LDU","L","D","U","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","sub","d","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","translate","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","fromMat2d","fromQuat","z","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","len","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","near","far","rl","tb","nf","perspective","fovy","aspect","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","a9","a14","a15","b9","b13","b14","b15","divide","ceil","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformMat4","m","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","angle","mag","cosine","acos","zero","dist","sqrDist","sqrLen","vec","stride","count","fn","arg","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fTrace","fRoot","j","fromEuler","halfToRad","cx","cy","cz","vec4","rotationTo","tmpvec3","vec3","xUnitVec3","yUnitVec3","sqlerp","temp1","temp2","setAxes","matr","mat3","view","dq","w1","fromRotationTranslationValues","outer","quat","mat4","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","transformMat2","transformMat2d","p0","p1","sinC","cosC","VecType","setDefaultType","ctor","oldType","dst","lerpV","mulScalar","divScalar","t1","t2","length$1","lengthSq","dx","dy","dz","distanceSq","lenSq","freeze","__proto__","xAxis","yAxis","zAxis","MatType","setDefaultType$1","negate$1","copy$1","tmp_0","tmp_1","tmp_2","tmp_3","tmp_4","tmp_5","tmp_6","tmp_7","tmp_8","tmp_9","tmp_10","tmp_11","tmp_12","tmp_13","tmp_14","tmp_15","tmp_16","tmp_17","tmp_18","tmp_19","tmp_20","tmp_21","tmp_22","tmp_23","t0","t3","multiply$1","b23","b30","b31","b32","b33","setTranslation","getAxis","off","setAxis","fieldOfViewYInRadians","zNear","zFar","rangeInv","rotationX","angleInRadians","rotationY","rotationZ","axisRotation","n","oneMinusCosine","axisRotate","r00","r01","r02","r10","r11","r12","r20","r21","r22","transformPoint","transformDirection","transformNormal","mi","m4","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","HALF_FLOAT","UNSIGNED_INT_2_10_10_10_REV","UNSIGNED_INT_10F_11F_11F_REV","UNSIGNED_INT_5_9_9_9_REV","FLOAT_32_UNSIGNED_INT_24_8_REV","UNSIGNED_INT_24_8","glTypeToTypedArray","tt","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","getGLTypeForTypedArray","typedArray","Uint8ClampedArray","getGLTypeForTypedArrayType","typedArrayType","getTypedArrayTypeForGLType","CTOR","isArrayBuffer","SharedArrayBuffer","buffer","ArrayBuffer","typedarrays","copyNamedProperties","names","src","copyExistingProperties","hasOwnProperty","error","console","warn","isBuffer","gl","WebGLBuffer","isRenderbuffer","WebGLRenderbuffer","isShader","WebGLShader","isTexture","WebGLTexture","isSampler","WebGLSampler","STATIC_DRAW","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","BUFFER_SIZE","BYTE$1","UNSIGNED_BYTE$1","SHORT$1","UNSIGNED_SHORT$1","INT$1","UNSIGNED_INT$1","FLOAT$1","attribPrefix","setAttributePrefix","prefix","setDefaults","newDefaults","setBufferFromTypedArray","array","drawType","bindBuffer","bufferData","createBufferFromTypedArray","createBuffer","isIndices","getNormalizationForTypedArray","getNormalizationForTypedArrayType","getArray","data","texcoordRE","colorRE","guessNumComponentsFromName","numComponents","getNumComponents","arrayName","size","makeTypedArray","Type","createAttribsFromArrays","arrays","attribs","attribName","attrib","normalization","numValues","arrayType","numBytes","BYTES_PER_ELEMENT","divisor","setAttribInfoBufferFromArray","attribInfo","bufferSubData","getBytesPerValueForGLType","positionKeys","getNumElementsFromNonIndexedArrays","ii","numElements","getNumElementsFromAttributes","getBufferParameter","bytesPerValue","totalElements","createBufferInfoFromArrays","srcBufferInfo","newAttribs","bufferInfo","assign","indices","newIndices","elementType","createBufferFromArray","createBuffersFromArrays","buffers","attributes","setAttributeDefaults_","getNumComponents_","getArray_","getArray$1","getNumComponents$1","augmentTypedArray","cursor","jj","reset","opt_index","get","createAugmentedTypedArray","opt_type","allButIndices","deindexVertices","vertices","newVertices","filter","expandToUnindexed","channel","srcBuffer","dstBuffer","ndx","flattenNormals","normals","normal","numNormals","nax","nay","naz","nbx","nby","nbz","nx","ny","nz","applyFuncToV3Array","matrix","tmp","transformNormal$1","reorientDirections","reorientNormals","reorientPositions","reorientVertices","createXYQuadVertices","xOffset","yOffset","texcoord","createPlaneVertices","depth","subdivisionsWidth","subdivisionsDepth","numVertices","positions","texcoords","numVertsAcross","createSphereVertices","radius","subdivisionsAxis","subdivisionsHeight","opt_startLatitudeInRadians","opt_endLatitudeInRadians","opt_startLongitudeInRadians","opt_endLongitudeInRadians","latRange","longRange","theta","phi","sinTheta","cosTheta","sinPhi","ux","uy","uz","numVertsAround","CUBE_FACE_INDICES","createCubeVertices","cornerVertices","faceNormals","uvCoords","faceIndices","uv","createTruncatedConeVertices","bottomRadius","topRadius","radialSubdivisions","verticalSubdivisions","opt_topCap","opt_bottomCap","topCap","bottomCap","extra","vertsAroundEdge","slant","cosSlant","sinSlant","end","ringRadius","expandRLEData","rleData","padding","runLength","create3DFVertices","colors","numVerts","createCrescentVertices","verticalRadius","outerRadius","innerRadius","thickness","subdivisionsDown","startOffset","endOffset","subdivisionsThick","offsetRange","createArc","arcRadius","normalMult","normalAdd","uMult","uAdd","uBack","xBack","px","py","pz","createSurface","leftArcOffset","rightArcOffset","numVerticesDown","createCylinderVertices","createTorusVertices","bodySubdivisions","startAngle","endAngle","range","radialParts","bodyParts","sliceAngle","sliceSin","ring","ringAngle","xSin","zCos","nextRingIndex","nextSliceIndex","createDiscVertices","divisions","stacks","stackPower","firstIndex","radiusSpan","pointsPerStack","stack","stackRadius","randInt","makeRandomVertexColors","vColors","rand","numVertsPerColor","vertsPerColor","numSets","createBufferFunc","createBufferInfoFunc","arraySpecPropertyNames","copyElements","dstNdx","createArrayOfSameType","srcArray","arraySrc","newArray","newArraySpec","concatVertices","arrayOfArrays","baseName","arrayInfo","base","newArrays","info","getLengthOfCombinedArrays","arraySpec","spec","copyArraysToNewArray","baseIndex","duplicateVertices","create3DFBufferInfo","create3DFBuffers","createCubeBufferInfo","createCubeBuffers","createPlaneBufferInfo","createPlaneBuffers","createSphereBufferInfo","createSphereBuffers","createTruncatedConeBufferInfo","createTruncatedConeBuffers","createXYQuadBufferInfo","createXYQuadBuffers","createCrescentBufferInfo","createCrescentBuffers","createCylinderBufferInfo","createCylinderBuffers","createTorusBufferInfo","createTorusBuffers","createDiscBufferInfo","createDiscBuffers","createCresentBufferInfo","createCresentBuffers","createCresentVertices","primitives","isWebGL2","texStorage2D","isWebGL1","glEnumToString","haveEnumsForType","enums","addEnums","existing","utils","defaults$1","textureColor","textureOptions","crossOrigin","isArrayBuffer$1","getShared2DContext","s_ctx","getContext","ALPHA","RGB","RGBA","LUMINANCE","LUMINANCE_ALPHA","DEPTH_COMPONENT","DEPTH_STENCIL","CLAMP_TO_EDGE","NEAREST","LINEAR","TEXTURE_2D","TEXTURE_CUBE_MAP","TEXTURE_3D","TEXTURE_2D_ARRAY","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_WRAP_R","TEXTURE_MIN_LOD","TEXTURE_MAX_LOD","TEXTURE_BASE_LEVEL","TEXTURE_MAX_LEVEL","UNPACK_ALIGNMENT","UNPACK_ROW_LENGTH","UNPACK_IMAGE_HEIGHT","UNPACK_SKIP_PIXELS","UNPACK_SKIP_ROWS","UNPACK_SKIP_IMAGES","UNPACK_COLORSPACE_CONVERSION_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_FLIP_Y_WEBGL","R8","R8_SNORM","R16F","R32F","R8UI","R8I","RG16UI","RG16I","RG32UI","RG32I","RG8","RG8_SNORM","RG16F","RG32F","RG8UI","RG8I","R16UI","R16I","R32UI","R32I","RGB8","SRGB8","RGB565","RGB8_SNORM","R11F_G11F_B10F","RGB9_E5","RGB16F","RGB32F","RGB8UI","RGB8I","RGB16UI","RGB16I","RGB32UI","RGB32I","RGBA8","SRGB8_ALPHA8","RGBA8_SNORM","RGB5_A1","RGBA4","RGB10_A2","RGBA16F","RGBA32F","RGBA8UI","RGBA8I","RGB10_A2UI","RGBA16UI","RGBA16I","RGBA32I","RGBA32UI","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH_COMPONENT32F","DEPTH32F_STENCIL8","DEPTH24_STENCIL8","BYTE$2","UNSIGNED_BYTE$2","SHORT$2","UNSIGNED_SHORT$2","INT$2","UNSIGNED_INT$2","FLOAT$2","UNSIGNED_SHORT_4_4_4_4$1","UNSIGNED_SHORT_5_5_5_1$1","UNSIGNED_SHORT_5_6_5$1","HALF_FLOAT$1","HALF_FLOAT_OES","UNSIGNED_INT_2_10_10_10_REV$1","UNSIGNED_INT_10F_11F_11F_REV$1","UNSIGNED_INT_5_9_9_9_REV$1","FLOAT_32_UNSIGNED_INT_24_8_REV$1","UNSIGNED_INT_24_8$1","RG","RG_INTEGER","RED","RED_INTEGER","RGB_INTEGER","RGBA_INTEGER","formatInfo","numColorComponents","s_textureInternalFormatInfo","getTextureInternalFormatInfo","internalFormat","textureFormat","colorRenderable","textureFilterable","bytesPerElement","bytesPerElementMap","getBytesPerElementForInternalFormat","getFormatAndTypeForInternalFormat","format","isPowerOf2","canGenerateMipmap","canFilter","getNumComponentsForFormat","getTextureTypeForArrayType","defaultType","guessDimensions","setDefaultTextureColor","setDefaults$1","lastPackState","savePackState","colorspaceConversion","getParameter","pixelStorei","premultiplyAlpha","flipY","restorePackState","saveSkipState","unpackAlignment","unpackRowLength","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","restoreSkipState","setTextureSamplerParameters","parameteriFn","minMag","wrap","wrapR","wrapS","wrapT","minLod","maxLod","baseLevel","maxLevel","setTextureParameters","tex","bindTexture","texParameteri","setSamplerParameters","sampler","samplerParameteri","createSampler","createSamplers","samplerOptions","samplers","make1Pixel","setTextureFilteringForSize","generateMipmap","filtering","shouldAutomaticallySetTextureFilteringForSize","auto","level","getCubeFaceOrder","cubeFaceOrder","getCubeFacesWithNdx","faces","facesWithNdx","face","sort","setTextureFromElement","formatType","imgWidth","imgHeight","slices","nodeName","ctx","canvas","drawImage","texImage2D","createImageBitmap","colorSpaceConversion","then","imageBitmap","smallest","largest","xMult","yMult","texImage3D","srcX","srcY","texSubImage3D","noop","urlIsSameOrigin","hostname","port","protocol","localOrigin","URL","origin","urlOrigin","setToAnonymousIfUndefinedAndURLIsNotSameOrigin","loadImage","img","Image","clearEventHandlers","onError","onLoad","msg","ImageBitmap","err","bm","cb","mode","fetch","response","ok","blob","bitmap","catch","isTexImageSource","ImageData","HTMLElement","loadAndUseImage","setTextureTo1PixelColor","loadTextureFromUrl","loadCubemapFromUrls","urls","numToLoad","errors","imgs","faceTarget","otherTarget","uploadImg","loadSlicesFromUrls","firstImage","setTextureFromArray","byteLength","dimensions","cbrt","elementsPerElement","faceSize","subarray","setEmptyTexture","createTexture","resizeTexture","isAsyncSrc","createTextures","numDownloading","textures","images","callCallbackIfReady","onLoadFn","setTextureDefaults_","error$1","warn$1","id","TEXTURE0","DYNAMIC_DRAW","ARRAY_BUFFER$1","ELEMENT_ARRAY_BUFFER$1","UNIFORM_BUFFER","TRANSFORM_FEEDBACK_BUFFER","TRANSFORM_FEEDBACK","COMPILE_STATUS","LINK_STATUS","FRAGMENT_SHADER","VERTEX_SHADER","SEPARATE_ATTRIBS","ACTIVE_UNIFORMS","ACTIVE_ATTRIBUTES","TRANSFORM_FEEDBACK_VARYINGS","ACTIVE_UNIFORM_BLOCKS","UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER","UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER","UNIFORM_BLOCK_DATA_SIZE","UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES","FLOAT$3","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT$3","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","SAMPLER_3D","SAMPLER_2D_SHADOW","FLOAT_MAT2x3","FLOAT_MAT2x4","FLOAT_MAT3x2","FLOAT_MAT3x4","FLOAT_MAT4x2","FLOAT_MAT4x3","SAMPLER_2D_ARRAY","SAMPLER_2D_ARRAY_SHADOW","SAMPLER_CUBE_SHADOW","UNSIGNED_INT$3","UNSIGNED_INT_VEC2","UNSIGNED_INT_VEC3","UNSIGNED_INT_VEC4","INT_SAMPLER_2D","INT_SAMPLER_3D","INT_SAMPLER_CUBE","INT_SAMPLER_2D_ARRAY","UNSIGNED_INT_SAMPLER_2D","UNSIGNED_INT_SAMPLER_3D","UNSIGNED_INT_SAMPLER_CUBE","UNSIGNED_INT_SAMPLER_2D_ARRAY","TEXTURE_2D$1","TEXTURE_CUBE_MAP$1","TEXTURE_3D$1","TEXTURE_2D_ARRAY$1","typeMap","getBindPointForSamplerType","bindPoint","floatSetter","uniform1f","floatArraySetter","uniform1fv","floatVec2Setter","uniform2fv","floatVec3Setter","uniform3fv","floatVec4Setter","uniform4fv","intSetter","uniform1i","intArraySetter","uniform1iv","intVec2Setter","uniform2iv","intVec3Setter","uniform3iv","intVec4Setter","uniform4iv","uintSetter","uniform1ui","uintArraySetter","uniform1uiv","uintVec2Setter","uniform2uiv","uintVec3Setter","uniform3uiv","uintVec4Setter","uniform4uiv","floatMat2Setter","uniformMatrix2fv","floatMat3Setter","uniformMatrix3fv","floatMat4Setter","uniformMatrix4fv","floatMat23Setter","uniformMatrix2x3fv","floatMat32Setter","uniformMatrix3x2fv","floatMat24Setter","uniformMatrix2x4fv","floatMat42Setter","uniformMatrix4x2fv","floatMat34Setter","uniformMatrix3x4fv","floatMat43Setter","uniformMatrix4x3fv","samplerSetter","unit","textureOrPair","texture","activeTexture","bindSampler","samplerArraySetter","units","floatAttribSetter","disableVertexAttribArray","vertexAttrib4fv","vertexAttrib3fv","vertexAttrib2fv","vertexAttrib1fv","enableVertexAttribArray","vertexAttribPointer","vertexAttribDivisor","intAttribSetter","vertexAttrib4iv","vertexAttribIPointer","uintAttribSetter","vertexAttrib4uiv","matAttribSetter","typeInfo","defaultSize","rowOffset","setter","arraySetter","attrTypeMap","addLineNumbers","lineOffset","line","spaceRE","loadShader","shaderSource","shaderType","opt_errorCallback","errFn","shader","createShader","compileShader","getShaderParameter","lastError","getShaderInfoLog","deleteShader","getProgramOptions","opt_attribs","opt_locations","transformFeedbackVaryings","transformFeedbackMode","errorCallback","attribLocations","defaultShaderType","getShaderTypeFromScriptType","scriptType","deleteShaders","shaders","createProgram","progOptions","realShaders","newShaders","program","attachShader","bindAttribLocation","varyings","linkProgram","getProgramParameter","getProgramInfoLog","deleteProgram","createShaderFromScript","scriptId","opt_shaderType","shaderScript","createProgramFromScripts","shaderScriptIds","createProgramFromSources","shaderSources","isBuiltIn","startsWith","createUniformSetters","textureUnit","createUniformSetter","uniformInfo","endsWith","uniformSetters","numUniforms","getActiveUniform","substr","getUniformLocation","createTransformFeedbackInfo","numVaryings","varying","getTransformFeedbackVarying","bindTransformFeedbackInfo","transformFeedbackInfo","buf","bindBufferRange","bindBufferBase","createTransformFeedback","programInfo","tf","bindTransformFeedback","useProgram","createUniformBlockSpecFromProgram","uniformData","uniformIndices","pair","pname","getActiveUniforms","blockSpecs","numUniformBlocks","getActiveUniformBlockName","blockSpec","getUniformBlockIndex","usedByVertexShader","getActiveUniformBlockParameter","usedByFragmentShader","used","arraySuffixRE","createUniformBlockInfoFromProgram","uniformBlockSpec","blockName","uniforms","uniformBufferIndex","uniformBlockBinding","uniformNdx","asFloat","createUniformBlockInfo","bindUniformBlock","uniformBlockInfo","bufferBindIndex","setUniformBlock","setBlockUniforms","values","setUniforms","setters","actualSetters","numArgs","aNdx","setUniformsAndBindTextures","createAttributeSetters","attribSetters","numAttribs","getActiveAttrib","getAttribLocation","setAttributes","setBuffersAndAttributes","vertexArrayObject","bindVertexArray","createProgramInfoFromProgram","createProgramInfo","good","source","script","programs","TRIANGLES","UNSIGNED_SHORT$3","drawBufferInfo","instanceCount","drawElementsInstanced","drawElements","drawArraysInstanced","drawArrays","drawObjectList","objectsToDraw","lastUsedProgramInfo","lastUsedBufferInfo","active","vertexArrayInfo","bindBuffers","draw","FRAMEBUFFER","RENDERBUFFER","TEXTURE_2D$2","UNSIGNED_BYTE$3","DEPTH_COMPONENT$1","RGBA$1","RGBA4$1","RGB5_A1$1","RGB565$1","DEPTH_COMPONENT16$1","STENCIL_INDEX","STENCIL_INDEX8","DEPTH_STENCIL$1","COLOR_ATTACHMENT0","DEPTH_ATTACHMENT","STENCIL_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","CLAMP_TO_EDGE$1","LINEAR$1","defaultAttachments","attachmentsByFormat","getAttachmentPointForFormat","renderbufferFormats","isRenderbufferFormat","createFramebufferInfo","attachments","fb","createFramebuffer","bindFramebuffer","drawingBufferWidth","drawingBufferHeight","colorAttachmentCount","framebufferInfo","framebuffer","attachmentOptions","attachment","attachmentPoint","createRenderbuffer","bindRenderbuffer","renderbufferStorage","framebufferRenderbuffer","layer","framebufferTextureLayer","framebufferTexture2D","resizeFramebufferInfo","bindFramebufferInfo","viewport","framebuffers","ELEMENT_ARRAY_BUFFER$2","createVertexArrayInfo","programInfos","vao","createVertexArray","createVAOAndSetAttributes","createVAOFromBufferInfo","vertexArrays","defaults$2","addExtensionsToContext","setDefaults$2","prefixRE","addExtensionToContext","extensionName","ext","getExtension","fnSuffix","exec","enumSuffix","isFunc","suffix","substring","origFn","supportedExtensions","create3DContext","context","getWebGLContext","createContext","resizeCanvasToDisplaySize","multiplier","clientWidth","clientHeight","module","exports"],"mappings":"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","file":"main.eea471fa.js","sourceRoot":"../src","sourcesContent":["/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return obj instanceof Function;\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      this.__state.space = 'HEX';\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {ReadonlyMat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {ReadonlyMat2} L the lower triangular matrix\r\n * @param {ReadonlyMat2} D the diagonal matrix\r\n * @param {ReadonlyMat2} U the upper triangular matrix\r\n * @param {ReadonlyMat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, b,\r\n *  c, d,\r\n *  tx, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, b, 0,\r\n *  c, d, 0,\r\n *  tx, ty, 1]\r\n * </pre>\r\n * The last column is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyVec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {ReadonlyQuat} a     Origin unit quaternion\r\n * @param  {ReadonlyQuat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyMat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {ReadonlyQuat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {ReadonlyQuat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat} a The first quaternion.\r\n * @param {ReadonlyQuat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat} a The first vector.\r\n * @param {ReadonlyQuat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {ReadonlyVec3} a the initial vector\r\n * @param {ReadonlyVec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {ReadonlyQuat} c the third operand\r\n * @param {ReadonlyQuat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\r\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\r\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q a normalized quaternion\r\n * @param {ReadonlyVec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyVec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {ReadonlyMat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quaternion.\r\n * @param {ReadonlyQuat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quat.\r\n * @param {ReadonlyQuat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","/* @license twgl.js 4.16.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.\nAvailable via the MIT license.\nsee: http://github.com/greggman/twgl.js for details */\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n *\n * Vec3 math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new Vec3. In other words you can do this\n *\n *     var v = v3.cross(v1, v2);  // Creates a new Vec3 with the cross product of v1 x v2.\n *\n * or\n *\n *     var v = v3.create();\n *     v3.cross(v1, v2, v);  // Puts the cross product of v1 x v2 in v\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any vector as the destination. So for example\n *\n *     v3.cross(v1, v2, v1);  // Puts the cross product of v1 x v2 in v1\n *\n * @module twgl/v3\n */\n\nlet VecType = Float32Array;\n\n/**\n * A JavaScript array with 3 values or a Float32Array with 3 values.\n * When created by the library will create the default type which is `Float32Array`\n * but can be set by calling {@link module:twgl/v3.setDefaultType}.\n * @typedef {(number[]|Float32Array)} Vec3\n * @memberOf module:twgl/v3\n */\n\n/**\n * Sets the type this library creates for a Vec3\n * @param {constructor} ctor the constructor for the type. Either `Float32Array` or `Array`\n * @return {constructor} previous constructor for Vec3\n * @memberOf module:twgl/v3\n */\nfunction setDefaultType(ctor) {\n  const oldType = VecType;\n  VecType = ctor;\n  return oldType;\n}\n\n/**\n * Creates a vec3; may be called with x, y, z to set initial values.\n * @param {number} [x] Initial x value.\n * @param {number} [y] Initial y value.\n * @param {number} [z] Initial z value.\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\nfunction create(x, y, z) {\n  const dst = new VecType(3);\n  if (x) {\n    dst[0] = x;\n  }\n  if (y) {\n    dst[1] = y;\n  }\n  if (z) {\n    dst[2] = z;\n  }\n  return dst;\n}\n\n/**\n * Adds two vectors; assumes a and b have the same dimension.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} A vector tha tis the sum of a and b.\n * @memberOf module:twgl/v3\n */\nfunction add(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] + b[0];\n  dst[1] = a[1] + b[1];\n  dst[2] = a[2] + b[2];\n\n  return dst;\n}\n\n/**\n * Subtracts two vectors.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} A vector that is the difference of a and b.\n * @memberOf module:twgl/v3\n */\nfunction subtract(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] - b[0];\n  dst[1] = a[1] - b[1];\n  dst[2] = a[2] - b[2];\n\n  return dst;\n}\n\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient t, returns\n * a + t * (b - a).\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {number} t Interpolation coefficient.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The linear interpolated result.\n * @memberOf module:twgl/v3\n */\nfunction lerp(a, b, t, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] + t * (b[0] - a[0]);\n  dst[1] = a[1] + t * (b[1] - a[1]);\n  dst[2] = a[2] + t * (b[2] - a[2]);\n\n  return dst;\n}\n\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient vector t, returns\n * a + t * (b - a).\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} t Interpolation coefficients vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} the linear interpolated result.\n * @memberOf module:twgl/v3\n */\nfunction lerpV(a, b, t, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] + t[0] * (b[0] - a[0]);\n  dst[1] = a[1] + t[1] * (b[1] - a[1]);\n  dst[2] = a[2] + t[2] * (b[2] - a[2]);\n\n  return dst;\n}\n\n/**\n * Return max values of two vectors.\n * Given vectors a and b returns\n * [max(a[0], b[0]), max(a[1], b[1]), max(a[2], b[2])].\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The max components vector.\n * @memberOf module:twgl/v3\n */\nfunction max(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = Math.max(a[0], b[0]);\n  dst[1] = Math.max(a[1], b[1]);\n  dst[2] = Math.max(a[2], b[2]);\n\n  return dst;\n}\n\n/**\n * Return min values of two vectors.\n * Given vectors a and b returns\n * [min(a[0], b[0]), min(a[1], b[1]), min(a[2], b[2])].\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The min components vector.\n * @memberOf module:twgl/v3\n */\nfunction min(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = Math.min(a[0], b[0]);\n  dst[1] = Math.min(a[1], b[1]);\n  dst[2] = Math.min(a[2], b[2]);\n\n  return dst;\n}\n\n/**\n * Multiplies a vector by a scalar.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {number} k The scalar.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The scaled vector.\n * @memberOf module:twgl/v3\n */\nfunction mulScalar(v, k, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = v[0] * k;\n  dst[1] = v[1] * k;\n  dst[2] = v[2] * k;\n\n  return dst;\n}\n\n/**\n * Divides a vector by a scalar.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {number} k The scalar.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The scaled vector.\n * @memberOf module:twgl/v3\n */\nfunction divScalar(v, k, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = v[0] / k;\n  dst[1] = v[1] / k;\n  dst[2] = v[2] / k;\n\n  return dst;\n}\n\n/**\n * Computes the cross product of two vectors; assumes both vectors have\n * three entries.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The vector of a cross b.\n * @memberOf module:twgl/v3\n */\nfunction cross(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  const t1 = a[2] * b[0] - a[0] * b[2];\n  const t2 = a[0] * b[1] - a[1] * b[0];\n  dst[0] = a[1] * b[2] - a[2] * b[1];\n  dst[1] = t1;\n  dst[2] = t2;\n\n  return dst;\n}\n\n/**\n * Computes the dot product of two vectors; assumes both vectors have\n * three entries.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @return {number} dot product\n * @memberOf module:twgl/v3\n */\nfunction dot(a, b) {\n  return (a[0] * b[0]) + (a[1] * b[1]) + (a[2] * b[2]);\n}\n\n/**\n * Computes the length of vector\n * @param {module:twgl/v3.Vec3} v vector.\n * @return {number} length of vector.\n * @memberOf module:twgl/v3\n */\nfunction length$1(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\n}\n\n/**\n * Computes the square of the length of vector\n * @param {module:twgl/v3.Vec3} v vector.\n * @return {number} square of the length of vector.\n * @memberOf module:twgl/v3\n */\nfunction lengthSq(v) {\n  return v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\n}\n\n/**\n * Computes the distance between 2 points\n * @param {module:twgl/v3.Vec3} a vector.\n * @param {module:twgl/v3.Vec3} b vector.\n * @return {number} distance between a and b\n * @memberOf module:twgl/v3\n */\nfunction distance(a, b) {\n  const dx = a[0] - b[0];\n  const dy = a[1] - b[1];\n  const dz = a[2] - b[2];\n  return Math.sqrt(dx * dx + dy * dy + dz * dz);\n}\n\n/**\n * Computes the square of the distance between 2 points\n * @param {module:twgl/v3.Vec3} a vector.\n * @param {module:twgl/v3.Vec3} b vector.\n * @return {number} square of the distance between a and b\n * @memberOf module:twgl/v3\n */\nfunction distanceSq(a, b) {\n  const dx = a[0] - b[0];\n  const dy = a[1] - b[1];\n  const dz = a[2] - b[2];\n  return dx * dx + dy * dy + dz * dz;\n}\n\n/**\n * Divides a vector by its Euclidean length and returns the quotient.\n * @param {module:twgl/v3.Vec3} a The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The normalized vector.\n * @memberOf module:twgl/v3\n */\nfunction normalize(a, dst) {\n  dst = dst || new VecType(3);\n\n  const lenSq = a[0] * a[0] + a[1] * a[1] + a[2] * a[2];\n  const len = Math.sqrt(lenSq);\n  if (len > 0.00001) {\n    dst[0] = a[0] / len;\n    dst[1] = a[1] / len;\n    dst[2] = a[2] / len;\n  } else {\n    dst[0] = 0;\n    dst[1] = 0;\n    dst[2] = 0;\n  }\n\n  return dst;\n}\n\n/**\n * Negates a vector.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} -v.\n * @memberOf module:twgl/v3\n */\nfunction negate(v, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = -v[0];\n  dst[1] = -v[1];\n  dst[2] = -v[2];\n\n  return dst;\n}\n\n/**\n * Copies a vector.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} A copy of v.\n * @memberOf module:twgl/v3\n */\nfunction copy(v, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = v[0];\n  dst[1] = v[1];\n  dst[2] = v[2];\n\n  return dst;\n}\n\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The vector of products of entries of a and\n *     b.\n * @memberOf module:twgl/v3\n */\nfunction multiply(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] * b[0];\n  dst[1] = a[1] * b[1];\n  dst[2] = a[2] * b[2];\n\n  return dst;\n}\n\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The vector of quotients of entries of a and\n *     b.\n * @memberOf module:twgl/v3\n */\nfunction divide(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] / b[0];\n  dst[1] = a[1] / b[1];\n  dst[2] = a[2] / b[2];\n\n  return dst;\n}\n\nvar v3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  add: add,\n  copy: copy,\n  create: create,\n  cross: cross,\n  distance: distance,\n  distanceSq: distanceSq,\n  divide: divide,\n  divScalar: divScalar,\n  dot: dot,\n  lerp: lerp,\n  lerpV: lerpV,\n  length: length$1,\n  lengthSq: lengthSq,\n  max: max,\n  min: min,\n  mulScalar: mulScalar,\n  multiply: multiply,\n  negate: negate,\n  normalize: normalize,\n  setDefaultType: setDefaultType,\n  subtract: subtract\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * 4x4 Matrix math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new matrix. In other words you can do this\n *\n *     const mat = m4.translation([1, 2, 3]);  // Creates a new translation matrix\n *\n * or\n *\n *     const mat = m4.create();\n *     m4.translation([1, 2, 3], mat);  // Puts translation matrix in mat.\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any matrix as the destination. So for example\n *\n *     const mat = m4.identity();\n *     const trans = m4.translation([1, 2, 3]);\n *     m4.multiply(mat, trans, mat);  // Multiplies mat * trans and puts result in mat.\n *\n * @module twgl/m4\n */\nlet MatType = Float32Array;\n\n/**\n * A JavaScript array with 16 values or a Float32Array with 16 values.\n * When created by the library will create the default type which is `Float32Array`\n * but can be set by calling {@link module:twgl/m4.setDefaultType}.\n * @typedef {(number[]|Float32Array)} Mat4\n * @memberOf module:twgl/m4\n */\n\n/**\n * Sets the type this library creates for a Mat4\n * @param {constructor} ctor the constructor for the type. Either `Float32Array` or `Array`\n * @return {constructor} previous constructor for Mat4\n * @memberOf module:twgl/m4\n */\nfunction setDefaultType$1(ctor) {\n  const oldType = MatType;\n  MatType = ctor;\n  return oldType;\n}\n\n/**\n * Negates a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} -m.\n * @memberOf module:twgl/m4\n */\nfunction negate$1(m, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = -m[ 0];\n  dst[ 1] = -m[ 1];\n  dst[ 2] = -m[ 2];\n  dst[ 3] = -m[ 3];\n  dst[ 4] = -m[ 4];\n  dst[ 5] = -m[ 5];\n  dst[ 6] = -m[ 6];\n  dst[ 7] = -m[ 7];\n  dst[ 8] = -m[ 8];\n  dst[ 9] = -m[ 9];\n  dst[10] = -m[10];\n  dst[11] = -m[11];\n  dst[12] = -m[12];\n  dst[13] = -m[13];\n  dst[14] = -m[14];\n  dst[15] = -m[15];\n\n  return dst;\n}\n\n/**\n * Copies a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] The matrix. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} A copy of m.\n * @memberOf module:twgl/m4\n */\nfunction copy$1(m, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = m[ 0];\n  dst[ 1] = m[ 1];\n  dst[ 2] = m[ 2];\n  dst[ 3] = m[ 3];\n  dst[ 4] = m[ 4];\n  dst[ 5] = m[ 5];\n  dst[ 6] = m[ 6];\n  dst[ 7] = m[ 7];\n  dst[ 8] = m[ 8];\n  dst[ 9] = m[ 9];\n  dst[10] = m[10];\n  dst[11] = m[11];\n  dst[12] = m[12];\n  dst[13] = m[13];\n  dst[14] = m[14];\n  dst[15] = m[15];\n\n  return dst;\n}\n\n/**\n * Creates an n-by-n identity matrix.\n *\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} An n-by-n identity matrix.\n * @memberOf module:twgl/m4\n */\nfunction identity(dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = 1;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 1;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Takes the transpose of a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The transpose of m.\n * @memberOf module:twgl/m4\n */\n function transpose(m, dst) {\n  dst = dst || new MatType(16);\n  if (dst === m) {\n    let t;\n\n    t = m[1];\n    m[1] = m[4];\n    m[4] = t;\n\n    t = m[2];\n    m[2] = m[8];\n    m[8] = t;\n\n    t = m[3];\n    m[3] = m[12];\n    m[12] = t;\n\n    t = m[6];\n    m[6] = m[9];\n    m[9] = t;\n\n    t = m[7];\n    m[7] = m[13];\n    m[13] = t;\n\n    t = m[11];\n    m[11] = m[14];\n    m[14] = t;\n    return dst;\n  }\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const m30 = m[3 * 4 + 0];\n  const m31 = m[3 * 4 + 1];\n  const m32 = m[3 * 4 + 2];\n  const m33 = m[3 * 4 + 3];\n\n  dst[ 0] = m00;\n  dst[ 1] = m10;\n  dst[ 2] = m20;\n  dst[ 3] = m30;\n  dst[ 4] = m01;\n  dst[ 5] = m11;\n  dst[ 6] = m21;\n  dst[ 7] = m31;\n  dst[ 8] = m02;\n  dst[ 9] = m12;\n  dst[10] = m22;\n  dst[11] = m32;\n  dst[12] = m03;\n  dst[13] = m13;\n  dst[14] = m23;\n  dst[15] = m33;\n\n  return dst;\n}\n\n/**\n * Computes the inverse of a 4-by-4 matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The inverse of m.\n * @memberOf module:twgl/m4\n */\nfunction inverse(m, dst) {\n  dst = dst || new MatType(16);\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const m30 = m[3 * 4 + 0];\n  const m31 = m[3 * 4 + 1];\n  const m32 = m[3 * 4 + 2];\n  const m33 = m[3 * 4 + 3];\n  const tmp_0  = m22 * m33;\n  const tmp_1  = m32 * m23;\n  const tmp_2  = m12 * m33;\n  const tmp_3  = m32 * m13;\n  const tmp_4  = m12 * m23;\n  const tmp_5  = m22 * m13;\n  const tmp_6  = m02 * m33;\n  const tmp_7  = m32 * m03;\n  const tmp_8  = m02 * m23;\n  const tmp_9  = m22 * m03;\n  const tmp_10 = m02 * m13;\n  const tmp_11 = m12 * m03;\n  const tmp_12 = m20 * m31;\n  const tmp_13 = m30 * m21;\n  const tmp_14 = m10 * m31;\n  const tmp_15 = m30 * m11;\n  const tmp_16 = m10 * m21;\n  const tmp_17 = m20 * m11;\n  const tmp_18 = m00 * m31;\n  const tmp_19 = m30 * m01;\n  const tmp_20 = m00 * m21;\n  const tmp_21 = m20 * m01;\n  const tmp_22 = m00 * m11;\n  const tmp_23 = m10 * m01;\n\n  const t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\n      (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\n  const t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\n      (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\n  const t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\n      (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\n  const t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\n      (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\n\n  const d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\n\n  dst[ 0] = d * t0;\n  dst[ 1] = d * t1;\n  dst[ 2] = d * t2;\n  dst[ 3] = d * t3;\n  dst[ 4] = d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -\n          (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\n  dst[ 5] = d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -\n          (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\n  dst[ 6] = d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -\n          (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\n  dst[ 7] = d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -\n          (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\n  dst[ 8] = d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -\n          (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\n  dst[ 9] = d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -\n          (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\n  dst[10] = d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -\n          (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\n  dst[11] = d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -\n          (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\n  dst[12] = d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -\n          (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\n  dst[13] = d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -\n          (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\n  dst[14] = d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -\n          (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\n  dst[15] = d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -\n          (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\n\n  return dst;\n}\n\n/**\n * Multiplies two 4-by-4 matrices with a on the left and b on the right\n * @param {module:twgl/m4.Mat4} a The matrix on the left.\n * @param {module:twgl/m4.Mat4} b The matrix on the right.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The matrix product of a and b.\n * @memberOf module:twgl/m4\n */\nfunction multiply$1(a, b, dst) {\n  dst = dst || new MatType(16);\n\n  const a00 = a[0];\n  const a01 = a[1];\n  const a02 = a[2];\n  const a03 = a[3];\n  const a10 = a[ 4 + 0];\n  const a11 = a[ 4 + 1];\n  const a12 = a[ 4 + 2];\n  const a13 = a[ 4 + 3];\n  const a20 = a[ 8 + 0];\n  const a21 = a[ 8 + 1];\n  const a22 = a[ 8 + 2];\n  const a23 = a[ 8 + 3];\n  const a30 = a[12 + 0];\n  const a31 = a[12 + 1];\n  const a32 = a[12 + 2];\n  const a33 = a[12 + 3];\n  const b00 = b[0];\n  const b01 = b[1];\n  const b02 = b[2];\n  const b03 = b[3];\n  const b10 = b[ 4 + 0];\n  const b11 = b[ 4 + 1];\n  const b12 = b[ 4 + 2];\n  const b13 = b[ 4 + 3];\n  const b20 = b[ 8 + 0];\n  const b21 = b[ 8 + 1];\n  const b22 = b[ 8 + 2];\n  const b23 = b[ 8 + 3];\n  const b30 = b[12 + 0];\n  const b31 = b[12 + 1];\n  const b32 = b[12 + 2];\n  const b33 = b[12 + 3];\n\n  dst[ 0] = a00 * b00 + a10 * b01 + a20 * b02 + a30 * b03;\n  dst[ 1] = a01 * b00 + a11 * b01 + a21 * b02 + a31 * b03;\n  dst[ 2] = a02 * b00 + a12 * b01 + a22 * b02 + a32 * b03;\n  dst[ 3] = a03 * b00 + a13 * b01 + a23 * b02 + a33 * b03;\n  dst[ 4] = a00 * b10 + a10 * b11 + a20 * b12 + a30 * b13;\n  dst[ 5] = a01 * b10 + a11 * b11 + a21 * b12 + a31 * b13;\n  dst[ 6] = a02 * b10 + a12 * b11 + a22 * b12 + a32 * b13;\n  dst[ 7] = a03 * b10 + a13 * b11 + a23 * b12 + a33 * b13;\n  dst[ 8] = a00 * b20 + a10 * b21 + a20 * b22 + a30 * b23;\n  dst[ 9] = a01 * b20 + a11 * b21 + a21 * b22 + a31 * b23;\n  dst[10] = a02 * b20 + a12 * b21 + a22 * b22 + a32 * b23;\n  dst[11] = a03 * b20 + a13 * b21 + a23 * b22 + a33 * b23;\n  dst[12] = a00 * b30 + a10 * b31 + a20 * b32 + a30 * b33;\n  dst[13] = a01 * b30 + a11 * b31 + a21 * b32 + a31 * b33;\n  dst[14] = a02 * b30 + a12 * b31 + a22 * b32 + a32 * b33;\n  dst[15] = a03 * b30 + a13 * b31 + a23 * b32 + a33 * b33;\n\n  return dst;\n}\n\n/**\n * Sets the translation component of a 4-by-4 matrix to the given\n * vector.\n * @param {module:twgl/m4.Mat4} a The matrix.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The matrix with translation set.\n * @memberOf module:twgl/m4\n */\nfunction setTranslation(a, v, dst) {\n  dst = dst || identity();\n  if (a !== dst) {\n    dst[ 0] = a[ 0];\n    dst[ 1] = a[ 1];\n    dst[ 2] = a[ 2];\n    dst[ 3] = a[ 3];\n    dst[ 4] = a[ 4];\n    dst[ 5] = a[ 5];\n    dst[ 6] = a[ 6];\n    dst[ 7] = a[ 7];\n    dst[ 8] = a[ 8];\n    dst[ 9] = a[ 9];\n    dst[10] = a[10];\n    dst[11] = a[11];\n  }\n  dst[12] = v[0];\n  dst[13] = v[1];\n  dst[14] = v[2];\n  dst[15] = 1;\n  return dst;\n}\n\n/**\n * Returns the translation component of a 4-by-4 matrix as a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The translation component of m.\n * @memberOf module:twgl/m4\n */\nfunction getTranslation(m, dst) {\n  dst = dst || create();\n  dst[0] = m[12];\n  dst[1] = m[13];\n  dst[2] = m[14];\n  return dst;\n}\n\n/**\n * Returns an axis of a 4x4 matrix as a vector with 3 entries\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} axis The axis 0 = x, 1 = y, 2 = z;\n * @return {module:twgl/v3.Vec3} [dst] vector.\n * @return {module:twgl/v3.Vec3} The axis component of m.\n * @memberOf module:twgl/m4\n */\nfunction getAxis(m, axis, dst) {\n  dst = dst || create();\n  const off = axis * 4;\n  dst[0] = m[off + 0];\n  dst[1] = m[off + 1];\n  dst[2] = m[off + 2];\n  return dst;\n}\n\n/**\n * Sets an axis of a 4x4 matrix as a vector with 3 entries\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v the axis vector\n * @param {number} axis The axis  0 = x, 1 = y, 2 = z;\n * @param {module:twgl/m4.Mat4} [dst] The matrix to set. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The matrix with axis set.\n * @memberOf module:twgl/m4\n */\nfunction setAxis(a, v, axis, dst) {\n  if (dst !== a) {\n    dst = copy$1(a, dst);\n  }\n  const off = axis * 4;\n  dst[off + 0] = v[0];\n  dst[off + 1] = v[1];\n  dst[off + 2] = v[2];\n  return dst;\n}\n\n/**\n * Computes a 4-by-4 perspective transformation matrix given the angular height\n * of the frustum, the aspect ratio, and the near and far clipping planes.  The\n * arguments define a frustum extending in the negative z direction.  The given\n * angle is the vertical angle of the frustum, and the horizontal angle is\n * determined to produce the given aspect ratio.  The arguments near and far are\n * the distances to the near and far clipping planes.  Note that near and far\n * are not z coordinates, but rather they are distances along the negative\n * z-axis.  The matrix generated sends the viewing frustum to the unit box.\n * We assume a unit box extending from -1 to 1 in the x and y dimensions and\n * from 0 to 1 in the z dimension.\n * @param {number} fieldOfViewYInRadians The camera angle from top to bottom (in radians).\n * @param {number} aspect The aspect ratio width / height.\n * @param {number} zNear The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param {number} zFar The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The perspective matrix.\n * @memberOf module:twgl/m4\n */\nfunction perspective(fieldOfViewYInRadians, aspect, zNear, zFar, dst) {\n  dst = dst || new MatType(16);\n\n  const f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewYInRadians);\n  const rangeInv = 1.0 / (zNear - zFar);\n\n  dst[0]  = f / aspect;\n  dst[1]  = 0;\n  dst[2]  = 0;\n  dst[3]  = 0;\n\n  dst[4]  = 0;\n  dst[5]  = f;\n  dst[6]  = 0;\n  dst[7]  = 0;\n\n  dst[8]  = 0;\n  dst[9]  = 0;\n  dst[10] = (zNear + zFar) * rangeInv;\n  dst[11] = -1;\n\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = zNear * zFar * rangeInv * 2;\n  dst[15] = 0;\n\n  return dst;\n}\n\n/**\n * Computes a 4-by-4 orthogonal transformation matrix given the left, right,\n * bottom, and top dimensions of the near clipping plane as well as the\n * near and far clipping plane distances.\n * @param {number} left Left side of the near clipping plane viewport.\n * @param {number} right Right side of the near clipping plane viewport.\n * @param {number} bottom Bottom of the near clipping plane viewport.\n * @param {number} top Top of the near clipping plane viewport.\n * @param {number} near The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param {number} far The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param {module:twgl/m4.Mat4} [dst] Output matrix. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The perspective matrix.\n * @memberOf module:twgl/m4\n */\nfunction ortho(left, right, bottom, top, near, far, dst) {\n  dst = dst || new MatType(16);\n\n  dst[0]  = 2 / (right - left);\n  dst[1]  = 0;\n  dst[2]  = 0;\n  dst[3]  = 0;\n\n  dst[4]  = 0;\n  dst[5]  = 2 / (top - bottom);\n  dst[6]  = 0;\n  dst[7]  = 0;\n\n  dst[8]  = 0;\n  dst[9]  = 0;\n  dst[10] = 2 / (near - far);\n  dst[11] = 0;\n\n  dst[12] = (right + left) / (left - right);\n  dst[13] = (top + bottom) / (bottom - top);\n  dst[14] = (far + near) / (near - far);\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Computes a 4-by-4 perspective transformation matrix given the left, right,\n * top, bottom, near and far clipping planes. The arguments define a frustum\n * extending in the negative z direction. The arguments near and far are the\n * distances to the near and far clipping planes. Note that near and far are not\n * z coordinates, but rather they are distances along the negative z-axis. The\n * matrix generated sends the viewing frustum to the unit box. We assume a unit\n * box extending from -1 to 1 in the x and y dimensions and from 0 to 1 in the z\n * dimension.\n * @param {number} left The x coordinate of the left plane of the box.\n * @param {number} right The x coordinate of the right plane of the box.\n * @param {number} bottom The y coordinate of the bottom plane of the box.\n * @param {number} top The y coordinate of the right plane of the box.\n * @param {number} near The negative z coordinate of the near plane of the box.\n * @param {number} far The negative z coordinate of the far plane of the box.\n * @param {module:twgl/m4.Mat4} [dst] Output matrix. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The perspective projection matrix.\n * @memberOf module:twgl/m4\n */\nfunction frustum(left, right, bottom, top, near, far, dst) {\n  dst = dst || new MatType(16);\n\n  const dx = (right - left);\n  const dy = (top - bottom);\n  const dz = (near - far);\n\n  dst[ 0] = 2 * near / dx;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 2 * near / dy;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = (left + right) / dx;\n  dst[ 9] = (top + bottom) / dy;\n  dst[10] = far / dz;\n  dst[11] = -1;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = near * far / dz;\n  dst[15] = 0;\n\n  return dst;\n}\n\nlet xAxis;\nlet yAxis;\nlet zAxis;\n\n/**\n * Computes a 4-by-4 look-at transformation.\n *\n * This is a matrix which positions the camera itself. If you want\n * a view matrix (a matrix which moves things in front of the camera)\n * take the inverse of this.\n *\n * @param {module:twgl/v3.Vec3} eye The position of the eye.\n * @param {module:twgl/v3.Vec3} target The position meant to be viewed.\n * @param {module:twgl/v3.Vec3} up A vector pointing up.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The look-at matrix.\n * @memberOf module:twgl/m4\n */\nfunction lookAt(eye, target, up, dst) {\n  dst = dst || new MatType(16);\n\n  xAxis = xAxis || create();\n  yAxis = yAxis || create();\n  zAxis = zAxis || create();\n\n  normalize(\n      subtract(eye, target, zAxis), zAxis);\n  normalize(cross(up, zAxis, xAxis), xAxis);\n  normalize(cross(zAxis, xAxis, yAxis), yAxis);\n\n  dst[ 0] = xAxis[0];\n  dst[ 1] = xAxis[1];\n  dst[ 2] = xAxis[2];\n  dst[ 3] = 0;\n  dst[ 4] = yAxis[0];\n  dst[ 5] = yAxis[1];\n  dst[ 6] = yAxis[2];\n  dst[ 7] = 0;\n  dst[ 8] = zAxis[0];\n  dst[ 9] = zAxis[1];\n  dst[10] = zAxis[2];\n  dst[11] = 0;\n  dst[12] = eye[0];\n  dst[13] = eye[1];\n  dst[14] = eye[2];\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which translates by the given vector v.\n * @param {module:twgl/v3.Vec3} v The vector by\n *     which to translate.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The translation matrix.\n * @memberOf module:twgl/m4\n */\nfunction translation(v, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = 1;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 1;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = v[0];\n  dst[13] = v[1];\n  dst[14] = v[2];\n  dst[15] = 1;\n  return dst;\n}\n\n/**\n * Translates the given 4-by-4 matrix by the given vector v.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The vector by\n *     which to translate.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The translated matrix.\n * @memberOf module:twgl/m4\n */\nfunction translate(m, v, dst) {\n  dst = dst || new MatType(16);\n\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n  const m00 = m[0];\n  const m01 = m[1];\n  const m02 = m[2];\n  const m03 = m[3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const m30 = m[3 * 4 + 0];\n  const m31 = m[3 * 4 + 1];\n  const m32 = m[3 * 4 + 2];\n  const m33 = m[3 * 4 + 3];\n\n  if (m !== dst) {\n    dst[ 0] = m00;\n    dst[ 1] = m01;\n    dst[ 2] = m02;\n    dst[ 3] = m03;\n    dst[ 4] = m10;\n    dst[ 5] = m11;\n    dst[ 6] = m12;\n    dst[ 7] = m13;\n    dst[ 8] = m20;\n    dst[ 9] = m21;\n    dst[10] = m22;\n    dst[11] = m23;\n  }\n\n  dst[12] = m00 * v0 + m10 * v1 + m20 * v2 + m30;\n  dst[13] = m01 * v0 + m11 * v1 + m21 * v2 + m31;\n  dst[14] = m02 * v0 + m12 * v1 + m22 * v2 + m32;\n  dst[15] = m03 * v0 + m13 * v1 + m23 * v2 + m33;\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the x-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotationX(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = 1;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = c;\n  dst[ 6] = s;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = -s;\n  dst[10] = c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the x-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotateX(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const m10 = m[4];\n  const m11 = m[5];\n  const m12 = m[6];\n  const m13 = m[7];\n  const m20 = m[8];\n  const m21 = m[9];\n  const m22 = m[10];\n  const m23 = m[11];\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[4]  = c * m10 + s * m20;\n  dst[5]  = c * m11 + s * m21;\n  dst[6]  = c * m12 + s * m22;\n  dst[7]  = c * m13 + s * m23;\n  dst[8]  = c * m20 - s * m10;\n  dst[9]  = c * m21 - s * m11;\n  dst[10] = c * m22 - s * m12;\n  dst[11] = c * m23 - s * m13;\n\n  if (m !== dst) {\n    dst[ 0] = m[ 0];\n    dst[ 1] = m[ 1];\n    dst[ 2] = m[ 2];\n    dst[ 3] = m[ 3];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the y-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotationY(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c;\n  dst[ 1] = 0;\n  dst[ 2] = -s;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 1;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = s;\n  dst[ 9] = 0;\n  dst[10] = c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the y-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotateY(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c * m00 - s * m20;\n  dst[ 1] = c * m01 - s * m21;\n  dst[ 2] = c * m02 - s * m22;\n  dst[ 3] = c * m03 - s * m23;\n  dst[ 8] = c * m20 + s * m00;\n  dst[ 9] = c * m21 + s * m01;\n  dst[10] = c * m22 + s * m02;\n  dst[11] = c * m23 + s * m03;\n\n  if (m !== dst) {\n    dst[ 4] = m[ 4];\n    dst[ 5] = m[ 5];\n    dst[ 6] = m[ 6];\n    dst[ 7] = m[ 7];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the z-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotationZ(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c;\n  dst[ 1] = s;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = -s;\n  dst[ 5] = c;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the z-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotateZ(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c * m00 + s * m10;\n  dst[ 1] = c * m01 + s * m11;\n  dst[ 2] = c * m02 + s * m12;\n  dst[ 3] = c * m03 + s * m13;\n  dst[ 4] = c * m10 - s * m00;\n  dst[ 5] = c * m11 - s * m01;\n  dst[ 6] = c * m12 - s * m02;\n  dst[ 7] = c * m13 - s * m03;\n\n  if (m !== dst) {\n    dst[ 8] = m[ 8];\n    dst[ 9] = m[ 9];\n    dst[10] = m[10];\n    dst[11] = m[11];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the given axis by the given\n * angle.\n * @param {module:twgl/v3.Vec3} axis The axis\n *     about which to rotate.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} A matrix which rotates angle radians\n *     around the axis.\n * @memberOf module:twgl/m4\n */\nfunction axisRotation(axis, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  let x = axis[0];\n  let y = axis[1];\n  let z = axis[2];\n  const n = Math.sqrt(x * x + y * y + z * z);\n  x /= n;\n  y /= n;\n  z /= n;\n  const xx = x * x;\n  const yy = y * y;\n  const zz = z * z;\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n  const oneMinusCosine = 1 - c;\n\n  dst[ 0] = xx + (1 - xx) * c;\n  dst[ 1] = x * y * oneMinusCosine + z * s;\n  dst[ 2] = x * z * oneMinusCosine - y * s;\n  dst[ 3] = 0;\n  dst[ 4] = x * y * oneMinusCosine - z * s;\n  dst[ 5] = yy + (1 - yy) * c;\n  dst[ 6] = y * z * oneMinusCosine + x * s;\n  dst[ 7] = 0;\n  dst[ 8] = x * z * oneMinusCosine + y * s;\n  dst[ 9] = y * z * oneMinusCosine - x * s;\n  dst[10] = zz + (1 - zz) * c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the given axis by the\n * given angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} axis The axis\n *     about which to rotate.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction axisRotate(m, axis, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  let x = axis[0];\n  let y = axis[1];\n  let z = axis[2];\n  const n = Math.sqrt(x * x + y * y + z * z);\n  x /= n;\n  y /= n;\n  z /= n;\n  const xx = x * x;\n  const yy = y * y;\n  const zz = z * z;\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n  const oneMinusCosine = 1 - c;\n\n  const r00 = xx + (1 - xx) * c;\n  const r01 = x * y * oneMinusCosine + z * s;\n  const r02 = x * z * oneMinusCosine - y * s;\n  const r10 = x * y * oneMinusCosine - z * s;\n  const r11 = yy + (1 - yy) * c;\n  const r12 = y * z * oneMinusCosine + x * s;\n  const r20 = x * z * oneMinusCosine + y * s;\n  const r21 = y * z * oneMinusCosine - x * s;\n  const r22 = zz + (1 - zz) * c;\n\n  const m00 = m[0];\n  const m01 = m[1];\n  const m02 = m[2];\n  const m03 = m[3];\n  const m10 = m[4];\n  const m11 = m[5];\n  const m12 = m[6];\n  const m13 = m[7];\n  const m20 = m[8];\n  const m21 = m[9];\n  const m22 = m[10];\n  const m23 = m[11];\n\n  dst[ 0] = r00 * m00 + r01 * m10 + r02 * m20;\n  dst[ 1] = r00 * m01 + r01 * m11 + r02 * m21;\n  dst[ 2] = r00 * m02 + r01 * m12 + r02 * m22;\n  dst[ 3] = r00 * m03 + r01 * m13 + r02 * m23;\n  dst[ 4] = r10 * m00 + r11 * m10 + r12 * m20;\n  dst[ 5] = r10 * m01 + r11 * m11 + r12 * m21;\n  dst[ 6] = r10 * m02 + r11 * m12 + r12 * m22;\n  dst[ 7] = r10 * m03 + r11 * m13 + r12 * m23;\n  dst[ 8] = r20 * m00 + r21 * m10 + r22 * m20;\n  dst[ 9] = r20 * m01 + r21 * m11 + r22 * m21;\n  dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\n  dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\n\n  if (m !== dst) {\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which scales in each dimension by an amount given by\n * the corresponding entry in the given vector; assumes the vector has three\n * entries.\n * @param {module:twgl/v3.Vec3} v A vector of\n *     three entries specifying the factor by which to scale in each dimension.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The scaling matrix.\n * @memberOf module:twgl/m4\n */\nfunction scaling(v, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = v[0];\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = v[1];\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = v[2];\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Scales the given 4-by-4 matrix in each dimension by an amount\n * given by the corresponding entry in the given vector; assumes the vector has\n * three entries.\n * @param {module:twgl/m4.Mat4} m The matrix to be modified.\n * @param {module:twgl/v3.Vec3} v A vector of three entries specifying the\n *     factor by which to scale in each dimension.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The scaled matrix.\n * @memberOf module:twgl/m4\n */\nfunction scale(m, v, dst) {\n  dst = dst || new MatType(16);\n\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[ 0] = v0 * m[0 * 4 + 0];\n  dst[ 1] = v0 * m[0 * 4 + 1];\n  dst[ 2] = v0 * m[0 * 4 + 2];\n  dst[ 3] = v0 * m[0 * 4 + 3];\n  dst[ 4] = v1 * m[1 * 4 + 0];\n  dst[ 5] = v1 * m[1 * 4 + 1];\n  dst[ 6] = v1 * m[1 * 4 + 2];\n  dst[ 7] = v1 * m[1 * 4 + 3];\n  dst[ 8] = v2 * m[2 * 4 + 0];\n  dst[ 9] = v2 * m[2 * 4 + 1];\n  dst[10] = v2 * m[2 * 4 + 2];\n  dst[11] = v2 * m[2 * 4 + 3];\n\n  if (m !== dst) {\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Takes a 4-by-4 matrix and a vector with 3 entries,\n * interprets the vector as a point, transforms that point by the matrix, and\n * returns the result as a vector with 3 entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The point.\n * @param {module:twgl/v3.Vec3} [dst] optional vec3 to store result. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The transformed point.\n * @memberOf module:twgl/m4\n */\nfunction transformPoint(m, v, dst) {\n  dst = dst || create();\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n  const d = v0 * m[0 * 4 + 3] + v1 * m[1 * 4 + 3] + v2 * m[2 * 4 + 3] + m[3 * 4 + 3];\n\n  dst[0] = (v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0] + m[3 * 4 + 0]) / d;\n  dst[1] = (v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1] + m[3 * 4 + 1]) / d;\n  dst[2] = (v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2] + m[3 * 4 + 2]) / d;\n\n  return dst;\n}\n\n/**\n * Takes a 4-by-4 matrix and a vector with 3 entries, interprets the vector as a\n * direction, transforms that direction by the matrix, and returns the result;\n * assumes the transformation of 3-dimensional space represented by the matrix\n * is parallel-preserving, i.e. any combination of rotation, scaling and\n * translation, but not a perspective distortion. Returns a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The direction.\n * @param {module:twgl/v3.Vec3} [dst] optional Vec3 to store result. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The transformed direction.\n * @memberOf module:twgl/m4\n */\nfunction transformDirection(m, v, dst) {\n  dst = dst || create();\n\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[0] = v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0];\n  dst[1] = v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1];\n  dst[2] = v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2];\n\n  return dst;\n}\n\n/**\n * Takes a 4-by-4 matrix m and a vector v with 3 entries, interprets the vector\n * as a normal to a surface, and computes a vector which is normal upon\n * transforming that surface by the matrix. The effect of this function is the\n * same as transforming v (as a direction) by the inverse-transpose of m.  This\n * function assumes the transformation of 3-dimensional space represented by the\n * matrix is parallel-preserving, i.e. any combination of rotation, scaling and\n * translation, but not a perspective distortion.  Returns a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The normal.\n * @param {module:twgl/v3.Vec3} [dst] The direction. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The transformed normal.\n * @memberOf module:twgl/m4\n */\nfunction transformNormal(m, v, dst) {\n  dst = dst || create();\n  const mi = inverse(m);\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\n  dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\n  dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\n\n  return dst;\n}\n\nvar m4 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  axisRotate: axisRotate,\n  axisRotation: axisRotation,\n  copy: copy$1,\n  frustum: frustum,\n  getAxis: getAxis,\n  getTranslation: getTranslation,\n  identity: identity,\n  inverse: inverse,\n  lookAt: lookAt,\n  multiply: multiply$1,\n  negate: negate$1,\n  ortho: ortho,\n  perspective: perspective,\n  rotateX: rotateX,\n  rotateY: rotateY,\n  rotateZ: rotateZ,\n  rotationX: rotationX,\n  rotationY: rotationY,\n  rotationZ: rotationZ,\n  scale: scale,\n  scaling: scaling,\n  setAxis: setAxis,\n  setDefaultType: setDefaultType$1,\n  setTranslation: setTranslation,\n  transformDirection: transformDirection,\n  transformNormal: transformNormal,\n  transformPoint: transformPoint,\n  translate: translate,\n  translation: translation,\n  transpose: transpose\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/* DataType */\nconst BYTE                           = 0x1400;\nconst UNSIGNED_BYTE                  = 0x1401;\nconst SHORT                          = 0x1402;\nconst UNSIGNED_SHORT                 = 0x1403;\nconst INT                            = 0x1404;\nconst UNSIGNED_INT                   = 0x1405;\nconst FLOAT                          = 0x1406;\nconst UNSIGNED_SHORT_4_4_4_4       = 0x8033;\nconst UNSIGNED_SHORT_5_5_5_1       = 0x8034;\nconst UNSIGNED_SHORT_5_6_5         = 0x8363;\nconst HALF_FLOAT                   = 0x140B;\nconst UNSIGNED_INT_2_10_10_10_REV  = 0x8368;\nconst UNSIGNED_INT_10F_11F_11F_REV = 0x8C3B;\nconst UNSIGNED_INT_5_9_9_9_REV     = 0x8C3E;\nconst FLOAT_32_UNSIGNED_INT_24_8_REV = 0x8DAD;\nconst UNSIGNED_INT_24_8            = 0x84FA;\n\nconst glTypeToTypedArray = {};\n{\n  const tt = glTypeToTypedArray;\n  tt[BYTE]                           = Int8Array;\n  tt[UNSIGNED_BYTE]                  = Uint8Array;\n  tt[SHORT]                          = Int16Array;\n  tt[UNSIGNED_SHORT]                 = Uint16Array;\n  tt[INT]                            = Int32Array;\n  tt[UNSIGNED_INT]                   = Uint32Array;\n  tt[FLOAT]                          = Float32Array;\n  tt[UNSIGNED_SHORT_4_4_4_4]         = Uint16Array;\n  tt[UNSIGNED_SHORT_5_5_5_1]         = Uint16Array;\n  tt[UNSIGNED_SHORT_5_6_5]           = Uint16Array;\n  tt[HALF_FLOAT]                     = Uint16Array;\n  tt[UNSIGNED_INT_2_10_10_10_REV]    = Uint32Array;\n  tt[UNSIGNED_INT_10F_11F_11F_REV]   = Uint32Array;\n  tt[UNSIGNED_INT_5_9_9_9_REV]       = Uint32Array;\n  tt[FLOAT_32_UNSIGNED_INT_24_8_REV] = Uint32Array;\n  tt[UNSIGNED_INT_24_8]              = Uint32Array;\n}\n\n/**\n * Get the GL type for a typedArray\n * @param {ArrayBufferView} typedArray a typedArray\n * @return {number} the GL type for array. For example pass in an `Int8Array` and `gl.BYTE` will\n *   be returned. Pass in a `Uint32Array` and `gl.UNSIGNED_INT` will be returned\n * @memberOf module:twgl/typedArray\n */\nfunction getGLTypeForTypedArray(typedArray) {\n  if (typedArray instanceof Int8Array)         { return BYTE; }           // eslint-disable-line\n  if (typedArray instanceof Uint8Array)        { return UNSIGNED_BYTE; }  // eslint-disable-line\n  if (typedArray instanceof Uint8ClampedArray) { return UNSIGNED_BYTE; }  // eslint-disable-line\n  if (typedArray instanceof Int16Array)        { return SHORT; }          // eslint-disable-line\n  if (typedArray instanceof Uint16Array)       { return UNSIGNED_SHORT; } // eslint-disable-line\n  if (typedArray instanceof Int32Array)        { return INT; }            // eslint-disable-line\n  if (typedArray instanceof Uint32Array)       { return UNSIGNED_INT; }   // eslint-disable-line\n  if (typedArray instanceof Float32Array)      { return FLOAT; }          // eslint-disable-line\n  throw new Error('unsupported typed array type');\n}\n\n/**\n * Get the GL type for a typedArray type\n * @param {ArrayBufferView} typedArrayType a typedArray constructor\n * @return {number} the GL type for type. For example pass in `Int8Array` and `gl.BYTE` will\n *   be returned. Pass in `Uint32Array` and `gl.UNSIGNED_INT` will be returned\n * @memberOf module:twgl/typedArray\n */\nfunction getGLTypeForTypedArrayType(typedArrayType) {\n  if (typedArrayType === Int8Array)         { return BYTE; }           // eslint-disable-line\n  if (typedArrayType === Uint8Array)        { return UNSIGNED_BYTE; }  // eslint-disable-line\n  if (typedArrayType === Uint8ClampedArray) { return UNSIGNED_BYTE; }  // eslint-disable-line\n  if (typedArrayType === Int16Array)        { return SHORT; }          // eslint-disable-line\n  if (typedArrayType === Uint16Array)       { return UNSIGNED_SHORT; } // eslint-disable-line\n  if (typedArrayType === Int32Array)        { return INT; }            // eslint-disable-line\n  if (typedArrayType === Uint32Array)       { return UNSIGNED_INT; }   // eslint-disable-line\n  if (typedArrayType === Float32Array)      { return FLOAT; }          // eslint-disable-line\n  throw new Error('unsupported typed array type');\n}\n\n/**\n * Get the typed array constructor for a given GL type\n * @param {number} type the GL type. (eg: `gl.UNSIGNED_INT`)\n * @return {function} the constructor for a the corresponding typed array. (eg. `Uint32Array`).\n * @memberOf module:twgl/typedArray\n */\nfunction getTypedArrayTypeForGLType(type) {\n  const CTOR = glTypeToTypedArray[type];\n  if (!CTOR) {\n    throw new Error('unknown gl type');\n  }\n  return CTOR;\n}\n\nconst isArrayBuffer = typeof SharedArrayBuffer !== 'undefined'\n  ? function isArrayBufferOrSharedArrayBuffer(a) {\n    return a && a.buffer && (a.buffer instanceof ArrayBuffer || a.buffer instanceof SharedArrayBuffer);\n  }\n  : function isArrayBuffer(a) {\n    return a && a.buffer && a.buffer instanceof ArrayBuffer;\n  };\n\nvar typedarrays = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  getGLTypeForTypedArray: getGLTypeForTypedArray,\n  getGLTypeForTypedArrayType: getGLTypeForTypedArrayType,\n  getTypedArrayTypeForGLType: getTypedArrayTypeForGLType,\n  isArrayBuffer: isArrayBuffer\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint no-console: \"off\" */\n\n/**\n * Copy named properties\n *\n * @param {string[]} names names of properties to copy\n * @param {object} src object to copy properties from\n * @param {object} dst object to copy properties to\n * @private\n */\nfunction copyNamedProperties(names, src, dst) {\n  names.forEach(function(name) {\n    const value = src[name];\n    if (value !== undefined) {\n      dst[name] = value;\n    }\n  });\n}\n\n/**\n * Copies properties from source to dest only if a matching key is in dest\n *\n * @param {Object.<string, ?>} src the source\n * @param {Object.<string, ?>} dst the dest\n * @private\n */\nfunction copyExistingProperties(src, dst) {\n  Object.keys(dst).forEach(function(key) {\n    if (dst.hasOwnProperty(key) && src.hasOwnProperty(key)) {  /* eslint no-prototype-builtins: 0 */\n      dst[key] = src[key];\n    }\n  });\n}\n\nfunction error(...args) {\n  console.error(...args);\n}\n\nfunction warn(...args) {\n  console.warn(...args);\n}\n\nfunction isBuffer(gl, t) {\n  return typeof WebGLBuffer !== 'undefined' && t instanceof WebGLBuffer;\n}\n\nfunction isRenderbuffer(gl, t) {\n  return typeof WebGLRenderbuffer !== 'undefined' && t instanceof WebGLRenderbuffer;\n}\n\nfunction isShader(gl, t) {\n  return typeof WebGLShader !== 'undefined' && t instanceof WebGLShader;\n}\n\nfunction isTexture(gl, t) {\n  return typeof WebGLTexture !== 'undefined' && t instanceof WebGLTexture;\n}\n\nfunction isSampler(gl, t) {\n  return typeof WebGLSampler !== 'undefined' && t instanceof WebGLSampler;\n}\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst STATIC_DRAW                  = 0x88e4;\nconst ARRAY_BUFFER                 = 0x8892;\nconst ELEMENT_ARRAY_BUFFER         = 0x8893;\nconst BUFFER_SIZE                  = 0x8764;\n\nconst BYTE$1                         = 0x1400;\nconst UNSIGNED_BYTE$1                = 0x1401;\nconst SHORT$1                        = 0x1402;\nconst UNSIGNED_SHORT$1               = 0x1403;\nconst INT$1                          = 0x1404;\nconst UNSIGNED_INT$1                 = 0x1405;\nconst FLOAT$1                        = 0x1406;\nconst defaults = {\n  attribPrefix: \"\",\n};\n\n/**\n * Sets the default attrib prefix\n *\n * When writing shaders I prefer to name attributes with `a_`, uniforms with `u_` and varyings with `v_`\n * as it makes it clear where they came from. But, when building geometry I prefer using un-prefixed names.\n *\n * In other words I'll create arrays of geometry like this\n *\n *     var arrays = {\n *       position: ...\n *       normal: ...\n *       texcoord: ...\n *     };\n *\n * But need those mapped to attributes and my attributes start with `a_`.\n *\n * @deprecated see {@link module:twgl.setDefaults}\n * @param {string} prefix prefix for attribs\n * @memberOf module:twgl/attributes\n */\nfunction setAttributePrefix(prefix) {\n  defaults.attribPrefix = prefix;\n}\n\nfunction setDefaults(newDefaults) {\n  copyExistingProperties(newDefaults, defaults);\n}\n\nfunction setBufferFromTypedArray(gl, type, buffer, array, drawType) {\n  gl.bindBuffer(type, buffer);\n  gl.bufferData(type, array, drawType || STATIC_DRAW);\n}\n\n/**\n * Given typed array creates a WebGLBuffer and copies the typed array\n * into it.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {ArrayBuffer|SharedArrayBuffer|ArrayBufferView|WebGLBuffer} typedArray the typed array. Note: If a WebGLBuffer is passed in it will just be returned. No action will be taken\n * @param {number} [type] the GL bind type for the buffer. Default = `gl.ARRAY_BUFFER`.\n * @param {number} [drawType] the GL draw type for the buffer. Default = 'gl.STATIC_DRAW`.\n * @return {WebGLBuffer} the created WebGLBuffer\n * @memberOf module:twgl/attributes\n */\nfunction createBufferFromTypedArray(gl, typedArray, type, drawType) {\n  if (isBuffer(gl, typedArray)) {\n    return typedArray;\n  }\n  type = type || ARRAY_BUFFER;\n  const buffer = gl.createBuffer();\n  setBufferFromTypedArray(gl, type, buffer, typedArray, drawType);\n  return buffer;\n}\n\nfunction isIndices(name) {\n  return name === \"indices\";\n}\n\n// This is really just a guess. Though I can't really imagine using\n// anything else? Maybe for some compression?\nfunction getNormalizationForTypedArray(typedArray) {\n  if (typedArray instanceof Int8Array)    { return true; }  // eslint-disable-line\n  if (typedArray instanceof Uint8Array)   { return true; }  // eslint-disable-line\n  return false;\n}\n\n// This is really just a guess. Though I can't really imagine using\n// anything else? Maybe for some compression?\nfunction getNormalizationForTypedArrayType(typedArrayType) {\n  if (typedArrayType === Int8Array)    { return true; }  // eslint-disable-line\n  if (typedArrayType === Uint8Array)   { return true; }  // eslint-disable-line\n  return false;\n}\n\nfunction getArray(array) {\n  return array.length ? array : array.data;\n}\n\nconst texcoordRE = /coord|texture/i;\nconst colorRE = /color|colour/i;\n\nfunction guessNumComponentsFromName(name, length) {\n  let numComponents;\n  if (texcoordRE.test(name)) {\n    numComponents = 2;\n  } else if (colorRE.test(name)) {\n    numComponents = 4;\n  } else {\n    numComponents = 3;  // position, normals, indices ...\n  }\n\n  if (length % numComponents > 0) {\n    throw new Error(`Can not guess numComponents for attribute '${name}'. Tried ${numComponents} but ${length} values is not evenly divisible by ${numComponents}. You should specify it.`);\n  }\n\n  return numComponents;\n}\n\nfunction getNumComponents(array, arrayName) {\n  return array.numComponents || array.size || guessNumComponentsFromName(arrayName, getArray(array).length);\n}\n\nfunction makeTypedArray(array, name) {\n  if (isArrayBuffer(array)) {\n    return array;\n  }\n\n  if (isArrayBuffer(array.data)) {\n    return array.data;\n  }\n\n  if (Array.isArray(array)) {\n    array = {\n      data: array,\n    };\n  }\n\n  let Type = array.type;\n  if (!Type) {\n    if (isIndices(name)) {\n      Type = Uint16Array;\n    } else {\n      Type = Float32Array;\n    }\n  }\n  return new Type(array.data);\n}\n\n/**\n * The info for an attribute. This is effectively just the arguments to `gl.vertexAttribPointer` plus the WebGLBuffer\n * for the attribute.\n *\n * @typedef {Object} AttribInfo\n * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be\n *    disabled and set to this constant value and all other values will be ignored.\n * @property {number} [numComponents] the number of components for this attribute.\n * @property {number} [size] synonym for `numComponents`.\n * @property {number} [type] the type of the attribute (eg. `gl.FLOAT`, `gl.UNSIGNED_BYTE`, etc...) Default = `gl.FLOAT`\n * @property {boolean} [normalize] whether or not to normalize the data. Default = false\n * @property {number} [offset] offset into buffer in bytes. Default = 0\n * @property {number} [stride] the stride in bytes per element. Default = 0\n * @property {number} [divisor] the divisor in instances. Default = undefined. Note: undefined = don't call gl.vertexAttribDivisor\n *    where as anything else = do call it with this value\n * @property {WebGLBuffer} buffer the buffer that contains the data for this attribute\n * @property {number} [drawType] the draw type passed to gl.bufferData. Default = gl.STATIC_DRAW\n * @memberOf module:twgl\n */\n\n/**\n * Use this type of array spec when TWGL can't guess the type or number of components of an array\n * @typedef {Object} FullArraySpec\n * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be\n *    disabled and set to this constant value and all other values will be ignored.\n * @property {(number|number[]|ArrayBufferView)} data The data of the array. A number alone becomes the number of elements of type.\n * @property {number} [numComponents] number of components for `vertexAttribPointer`. Default is based on the name of the array.\n *    If `coord` is in the name assumes `numComponents = 2`.\n *    If `color` is in the name assumes `numComponents = 4`.\n *    otherwise assumes `numComponents = 3`\n * @property {constructor} [type] type. This is only used if `data` is a JavaScript array. It is the constructor for the typedarray. (eg. `Uint8Array`).\n * For example if you want colors in a `Uint8Array` you might have a `FullArraySpec` like `{ type: Uint8Array, data: [255,0,255,255, ...], }`.\n * @property {number} [size] synonym for `numComponents`.\n * @property {boolean} [normalize] normalize for `vertexAttribPointer`. Default is true if type is `Int8Array` or `Uint8Array` otherwise false.\n * @property {number} [stride] stride for `vertexAttribPointer`. Default = 0\n * @property {number} [offset] offset for `vertexAttribPointer`. Default = 0\n * @property {number} [divisor] divisor for `vertexAttribDivisor`. Default = undefined. Note: undefined = don't call gl.vertexAttribDivisor\n *    where as anything else = do call it with this value\n * @property {string} [attrib] name of attribute this array maps to. Defaults to same name as array prefixed by the default attribPrefix.\n * @property {string} [name] synonym for `attrib`.\n * @property {string} [attribName] synonym for `attrib`.\n * @property {WebGLBuffer} [buffer] Buffer to use for this attribute. This lets you use your own buffer\n *    but you will need to supply `numComponents` and `type`. You can effectively pass an `AttribInfo`\n *    to provide this. Example:\n *\n *         const bufferInfo1 = twgl.createBufferInfoFromArrays(gl, {\n *           position: [1, 2, 3, ... ],\n *         });\n *         const bufferInfo2 = twgl.createBufferInfoFromArrays(gl, {\n *           position: bufferInfo1.attribs.position,  // use the same buffer from bufferInfo1\n *         });\n *\n * @memberOf module:twgl\n */\n\n/**\n * An individual array in {@link module:twgl.Arrays}\n *\n * When passed to {@link module:twgl.createBufferInfoFromArrays} if an ArraySpec is `number[]` or `ArrayBufferView`\n * the types will be guessed based on the name. `indices` will be `Uint16Array`, everything else will\n * be `Float32Array`. If an ArraySpec is a number it's the number of floats for an empty (zeroed) buffer.\n *\n * @typedef {(number|number[]|ArrayBufferView|module:twgl.FullArraySpec)} ArraySpec\n * @memberOf module:twgl\n */\n\n/**\n * This is a JavaScript object of arrays by name. The names should match your shader's attributes. If your\n * attributes have a common prefix you can specify it by calling {@link module:twgl.setAttributePrefix}.\n *\n *     Bare JavaScript Arrays\n *\n *         var arrays = {\n *            position: [-1, 1, 0],\n *            normal: [0, 1, 0],\n *            ...\n *         }\n *\n *     Bare TypedArrays\n *\n *         var arrays = {\n *            position: new Float32Array([-1, 1, 0]),\n *            color: new Uint8Array([255, 128, 64, 255]),\n *            ...\n *         }\n *\n * *   Will guess at `numComponents` if not specified based on name.\n *\n *     If `coord` is in the name assumes `numComponents = 2`\n *\n *     If `color` is in the name assumes `numComponents = 4`\n *\n *     otherwise assumes `numComponents = 3`\n *\n * Objects with various fields. See {@link module:twgl.FullArraySpec}.\n *\n *     var arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *     };\n *\n * @typedef {Object.<string, module:twgl.ArraySpec>} Arrays\n * @memberOf module:twgl\n */\n\n\n/**\n * Creates a set of attribute data and WebGLBuffers from set of arrays\n *\n * Given\n *\n *      var arrays = {\n *        position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *        texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *        normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *        color:    { numComponents: 4, data: [255, 255, 255, 255, 255, 0, 0, 255, 0, 0, 255, 255], type: Uint8Array, },\n *        indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *      };\n *\n * returns something like\n *\n *      var attribs = {\n *        position: { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        texcoord: { numComponents: 2, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        normal:   { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        color:    { numComponents: 4, type: gl.UNSIGNED_BYTE, normalize: true,  buffer: WebGLBuffer, },\n *      };\n *\n * notes:\n *\n * *   Arrays can take various forms\n *\n *     Bare JavaScript Arrays\n *\n *         var arrays = {\n *            position: [-1, 1, 0],\n *            normal: [0, 1, 0],\n *            ...\n *         }\n *\n *     Bare TypedArrays\n *\n *         var arrays = {\n *            position: new Float32Array([-1, 1, 0]),\n *            color: new Uint8Array([255, 128, 64, 255]),\n *            ...\n *         }\n *\n * *   Will guess at `numComponents` if not specified based on name.\n *\n *     If `coord` is in the name assumes `numComponents = 2`\n *\n *     If `color` is in the name assumes `numComponents = 4`\n *\n *     otherwise assumes `numComponents = 3`\n *\n * @param {WebGLRenderingContext} gl The webgl rendering context.\n * @param {module:twgl.Arrays} arrays The arrays\n * @param {module:twgl.BufferInfo} [srcBufferInfo] a BufferInfo to copy from\n *   This lets you share buffers. Any arrays you supply will override\n *   the buffers from srcBufferInfo.\n * @return {Object.<string, module:twgl.AttribInfo>} the attribs\n * @memberOf module:twgl/attributes\n */\nfunction createAttribsFromArrays(gl, arrays) {\n  const attribs = {};\n  Object.keys(arrays).forEach(function(arrayName) {\n    if (!isIndices(arrayName)) {\n      const array = arrays[arrayName];\n      const attribName = array.attrib || array.name || array.attribName || (defaults.attribPrefix + arrayName);\n      if (array.value) {\n        if (!Array.isArray(array.value) && !isArrayBuffer(array.value)) {\n          throw new Error('array.value is not array or typedarray');\n        }\n        attribs[attribName] = {\n          value: array.value,\n        };\n      } else {\n        let buffer;\n        let type;\n        let normalization;\n        let numComponents;\n        if (array.buffer && array.buffer instanceof WebGLBuffer) {\n          buffer = array.buffer;\n          numComponents = array.numComponents || array.size;\n          type = array.type;\n          normalization = array.normalize;\n        } else if (typeof array === \"number\" || typeof array.data === \"number\") {\n          const numValues = array.data || array;\n          const arrayType = array.type || Float32Array;\n          const numBytes = numValues * arrayType.BYTES_PER_ELEMENT;\n          type = getGLTypeForTypedArrayType(arrayType);\n          normalization = array.normalize !== undefined ? array.normalize : getNormalizationForTypedArrayType(arrayType);\n          numComponents = array.numComponents || array.size || guessNumComponentsFromName(arrayName, numValues);\n          buffer = gl.createBuffer();\n          gl.bindBuffer(ARRAY_BUFFER, buffer);\n          gl.bufferData(ARRAY_BUFFER, numBytes, array.drawType || STATIC_DRAW);\n        } else {\n          const typedArray = makeTypedArray(array, arrayName);\n          buffer = createBufferFromTypedArray(gl, typedArray, undefined, array.drawType);\n          type = getGLTypeForTypedArray(typedArray);\n          normalization = array.normalize !== undefined ? array.normalize : getNormalizationForTypedArray(typedArray);\n          numComponents = getNumComponents(array, arrayName);\n        }\n        attribs[attribName] = {\n          buffer:        buffer,\n          numComponents: numComponents,\n          type:          type,\n          normalize:     normalization,\n          stride:        array.stride || 0,\n          offset:        array.offset || 0,\n          divisor:       array.divisor === undefined ? undefined : array.divisor,\n          drawType:      array.drawType,\n        };\n      }\n    }\n  });\n  gl.bindBuffer(ARRAY_BUFFER, null);\n  return attribs;\n}\n\n/**\n * Sets the contents of a buffer attached to an attribInfo\n *\n * This is helper function to dynamically update a buffer.\n *\n * Let's say you make a bufferInfo\n *\n *     var arrays = {\n *        position: new Float32Array([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]),\n *        texcoord: new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]),\n *        normal:   new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n *        indices:  new Uint16Array([0, 1, 2, 1, 2, 3]),\n *     };\n *     var bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);\n *\n *  And you want to dynamically update the positions. You could do this\n *\n *     // assuming arrays.position has already been updated with new data.\n *     twgl.setAttribInfoBufferFromArray(gl, bufferInfo.attribs.position, arrays.position);\n *\n * @param {WebGLRenderingContext} gl\n * @param {AttribInfo} attribInfo The attribInfo who's buffer contents to set. NOTE: If you have an attribute prefix\n *   the name of the attribute will include the prefix.\n * @param {ArraySpec} array Note: it is arguably inefficient to pass in anything but a typed array because anything\n *    else will have to be converted to a typed array before it can be used by WebGL. During init time that\n *    inefficiency is usually not important but if you're updating data dynamically best to be efficient.\n * @param {number} [offset] an optional offset into the buffer. This is only an offset into the WebGL buffer\n *    not the array. To pass in an offset into the array itself use a typed array and create an `ArrayBufferView`\n *    for the portion of the array you want to use.\n *\n *        var someArray = new Float32Array(1000); // an array with 1000 floats\n *        var someSubArray = new Float32Array(someArray.buffer, offsetInBytes, sizeInUnits); // a view into someArray\n *\n *    Now you can pass `someSubArray` into setAttribInfoBufferFromArray`\n * @memberOf module:twgl/attributes\n */\nfunction setAttribInfoBufferFromArray(gl, attribInfo, array, offset) {\n  array = makeTypedArray(array);\n  if (offset !== undefined) {\n    gl.bindBuffer(ARRAY_BUFFER, attribInfo.buffer);\n    gl.bufferSubData(ARRAY_BUFFER, offset, array);\n  } else {\n    setBufferFromTypedArray(gl, ARRAY_BUFFER, attribInfo.buffer, array, attribInfo.drawType);\n  }\n}\n\nfunction getBytesPerValueForGLType(gl, type) {\n  if (type === BYTE$1)           return 1;  // eslint-disable-line\n  if (type === UNSIGNED_BYTE$1)  return 1;  // eslint-disable-line\n  if (type === SHORT$1)          return 2;  // eslint-disable-line\n  if (type === UNSIGNED_SHORT$1) return 2;  // eslint-disable-line\n  if (type === INT$1)            return 4;  // eslint-disable-line\n  if (type === UNSIGNED_INT$1)   return 4;  // eslint-disable-line\n  if (type === FLOAT$1)          return 4;  // eslint-disable-line\n  return 0;\n}\n\n// Tries to get the number of elements from a set of arrays.\nconst positionKeys = ['position', 'positions', 'a_position'];\nfunction getNumElementsFromNonIndexedArrays(arrays) {\n  let key;\n  let ii;\n  for (ii = 0; ii < positionKeys.length; ++ii) {\n    key = positionKeys[ii];\n    if (key in arrays) {\n      break;\n    }\n  }\n  if (ii === positionKeys.length) {\n    key = Object.keys(arrays)[0];\n  }\n  const array = arrays[key];\n  const length = getArray(array).length;\n  const numComponents = getNumComponents(array, key);\n  const numElements = length / numComponents;\n  if (length % numComponents > 0) {\n    throw new Error(`numComponents ${numComponents} not correct for length ${length}`);\n  }\n  return numElements;\n}\n\nfunction getNumElementsFromAttributes(gl, attribs) {\n  let key;\n  let ii;\n  for (ii = 0; ii < positionKeys.length; ++ii) {\n    key = positionKeys[ii];\n    if (key in attribs) {\n      break;\n    }\n    key = defaults.attribPrefix + key;\n    if (key in attribs) {\n      break;\n    }\n  }\n  if (ii === positionKeys.length) {\n    key = Object.keys(attribs)[0];\n  }\n  const attrib = attribs[key];\n  gl.bindBuffer(ARRAY_BUFFER, attrib.buffer);\n  const numBytes = gl.getBufferParameter(ARRAY_BUFFER, BUFFER_SIZE);\n  gl.bindBuffer(ARRAY_BUFFER, null);\n\n  const bytesPerValue = getBytesPerValueForGLType(gl, attrib.type);\n  const totalElements = numBytes / bytesPerValue;\n  const numComponents = attrib.numComponents || attrib.size;\n  // TODO: check stride\n  const numElements = totalElements / numComponents;\n  if (numElements % 1 !== 0) {\n    throw new Error(`numComponents ${numComponents} not correct for length ${length}`);\n  }\n  return numElements;\n}\n\n/**\n * @typedef {Object} BufferInfo\n * @property {number} numElements The number of elements to pass to `gl.drawArrays` or `gl.drawElements`.\n * @property {number} [elementType] The type of indices `UNSIGNED_BYTE`, `UNSIGNED_SHORT` etc..\n * @property {WebGLBuffer} [indices] The indices `ELEMENT_ARRAY_BUFFER` if any indices exist.\n * @property {Object.<string, module:twgl.AttribInfo>} [attribs] The attribs appropriate to call `setAttributes`\n * @memberOf module:twgl\n */\n\n/**\n * Creates a BufferInfo from an object of arrays.\n *\n * This can be passed to {@link module:twgl.setBuffersAndAttributes} and to\n * {@link module:twgl:drawBufferInfo}.\n *\n * Given an object like\n *\n *     var arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *     };\n *\n *  Creates an BufferInfo like this\n *\n *     bufferInfo = {\n *       numElements: 4,        // or whatever the number of elements is\n *       indices: WebGLBuffer,  // this property will not exist if there are no indices\n *       attribs: {\n *         position: { buffer: WebGLBuffer, numComponents: 3, },\n *         normal:   { buffer: WebGLBuffer, numComponents: 3, },\n *         texcoord: { buffer: WebGLBuffer, numComponents: 2, },\n *       },\n *     };\n *\n *  The properties of arrays can be JavaScript arrays in which case the number of components\n *  will be guessed.\n *\n *     var arrays = {\n *        position: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0],\n *        texcoord: [0, 0, 0, 1, 1, 0, 1, 1],\n *        normal:   [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],\n *        indices:  [0, 1, 2, 1, 2, 3],\n *     };\n *\n *  They can also be TypedArrays\n *\n *     var arrays = {\n *        position: new Float32Array([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]),\n *        texcoord: new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]),\n *        normal:   new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n *        indices:  new Uint16Array([0, 1, 2, 1, 2, 3]),\n *     };\n *\n *  Or AugmentedTypedArrays\n *\n *     var positions = createAugmentedTypedArray(3, 4);\n *     var texcoords = createAugmentedTypedArray(2, 4);\n *     var normals   = createAugmentedTypedArray(3, 4);\n *     var indices   = createAugmentedTypedArray(3, 2, Uint16Array);\n *\n *     positions.push([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]);\n *     texcoords.push([0, 0, 0, 1, 1, 0, 1, 1]);\n *     normals.push([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]);\n *     indices.push([0, 1, 2, 1, 2, 3]);\n *\n *     var arrays = {\n *        position: positions,\n *        texcoord: texcoords,\n *        normal:   normals,\n *        indices:  indices,\n *     };\n *\n * For the last example it is equivalent to\n *\n *     var bufferInfo = {\n *       attribs: {\n *         position: { numComponents: 3, buffer: gl.createBuffer(), },\n *         texcoord: { numComponents: 2, buffer: gl.createBuffer(), },\n *         normal: { numComponents: 3, buffer: gl.createBuffer(), },\n *       },\n *       indices: gl.createBuffer(),\n *       numElements: 6,\n *     };\n *\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.position.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.position, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.texcoord.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.texcoord, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.normal.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.normal, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, bufferInfo.indices);\n *     gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arrays.indices, gl.STATIC_DRAW);\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.Arrays} arrays Your data\n * @param {module:twgl.BufferInfo} [srcBufferInfo] An existing\n *        buffer info to start from. WebGLBuffers etc specified\n *        in the srcBufferInfo will be used in a new BufferInfo\n *        with any arrays specified overriding the ones in\n *        srcBufferInfo.\n * @return {module:twgl.BufferInfo} A BufferInfo\n * @memberOf module:twgl/attributes\n */\nfunction createBufferInfoFromArrays(gl, arrays, srcBufferInfo) {\n  const newAttribs = createAttribsFromArrays(gl, arrays);\n  const bufferInfo = Object.assign({}, srcBufferInfo ? srcBufferInfo : {});\n  bufferInfo.attribs = Object.assign({}, srcBufferInfo ? srcBufferInfo.attribs : {}, newAttribs);\n  const indices = arrays.indices;\n  if (indices) {\n    const newIndices = makeTypedArray(indices, \"indices\");\n    bufferInfo.indices = createBufferFromTypedArray(gl, newIndices, ELEMENT_ARRAY_BUFFER);\n    bufferInfo.numElements = newIndices.length;\n    bufferInfo.elementType = getGLTypeForTypedArray(newIndices);\n  } else if (!bufferInfo.numElements) {\n    bufferInfo.numElements = getNumElementsFromAttributes(gl, bufferInfo.attribs);\n  }\n\n  return bufferInfo;\n}\n\n/**\n * Creates a buffer from an array, typed array, or array spec\n *\n * Given something like this\n *\n *     [1, 2, 3],\n *\n * or\n *\n *     new Uint16Array([1,2,3]);\n *\n * or\n *\n *     {\n *        data: [1, 2, 3],\n *        type: Uint8Array,\n *     }\n *\n * returns a WebGLBuffer that contains the given data.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {module:twgl.ArraySpec} array an array, typed array, or array spec.\n * @param {string} arrayName name of array. Used to guess the type if type can not be derived otherwise.\n * @return {WebGLBuffer} a WebGLBuffer containing the data in array.\n * @memberOf module:twgl/attributes\n */\nfunction createBufferFromArray(gl, array, arrayName) {\n  const type = arrayName === \"indices\" ? ELEMENT_ARRAY_BUFFER : ARRAY_BUFFER;\n  const typedArray = makeTypedArray(array, arrayName);\n  return createBufferFromTypedArray(gl, typedArray, type);\n}\n\n/**\n * Creates buffers from arrays or typed arrays\n *\n * Given something like this\n *\n *     var arrays = {\n *        positions: [1, 2, 3],\n *        normals: [0, 0, 1],\n *     }\n *\n * returns something like\n *\n *     buffers = {\n *       positions: WebGLBuffer,\n *       normals: WebGLBuffer,\n *     }\n *\n * If the buffer is named 'indices' it will be made an ELEMENT_ARRAY_BUFFER.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {module:twgl.Arrays} arrays\n * @return {Object<string, WebGLBuffer>} returns an object with one WebGLBuffer per array\n * @memberOf module:twgl/attributes\n */\nfunction createBuffersFromArrays(gl, arrays) {\n  const buffers = { };\n  Object.keys(arrays).forEach(function(key) {\n    buffers[key] = createBufferFromArray(gl, arrays[key], key);\n  });\n\n  // Ugh!\n  if (arrays.indices) {\n    buffers.numElements = arrays.indices.length;\n    buffers.elementType = getGLTypeForTypedArray(makeTypedArray(arrays.indices));\n  } else {\n    buffers.numElements = getNumElementsFromNonIndexedArrays(arrays);\n  }\n\n  return buffers;\n}\n\nvar attributes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createAttribsFromArrays: createAttribsFromArrays,\n  createBuffersFromArrays: createBuffersFromArrays,\n  createBufferFromArray: createBufferFromArray,\n  createBufferFromTypedArray: createBufferFromTypedArray,\n  createBufferInfoFromArrays: createBufferInfoFromArrays,\n  setAttribInfoBufferFromArray: setAttribInfoBufferFromArray,\n  setAttributePrefix: setAttributePrefix,\n  setAttributeDefaults_: setDefaults,\n  getNumComponents_: getNumComponents,\n  getArray_: getArray\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst getArray$1 = getArray;  // eslint-disable-line\nconst getNumComponents$1 = getNumComponents;  // eslint-disable-line\n\n/**\n * @typedef {(Int8Array|Uint8Array|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array)} TypedArray\n */\n\n/**\n * Add `push` to a typed array. It just keeps a 'cursor'\n * and allows use to `push` values into the array so we\n * don't have to manually compute offsets\n * @param {TypedArray} typedArray TypedArray to augment\n * @param {number} numComponents number of components.\n * @private\n */\nfunction augmentTypedArray(typedArray, numComponents) {\n  let cursor = 0;\n  typedArray.push = function() {\n    for (let ii = 0; ii < arguments.length; ++ii) {\n      const value = arguments[ii];\n      if (value instanceof Array || isArrayBuffer(value)) {\n        for (let jj = 0; jj < value.length; ++jj) {\n          typedArray[cursor++] = value[jj];\n        }\n      } else {\n        typedArray[cursor++] = value;\n      }\n    }\n  };\n  typedArray.reset = function(opt_index) {\n    cursor = opt_index || 0;\n  };\n  typedArray.numComponents = numComponents;\n  Object.defineProperty(typedArray, 'numElements', {\n    get: function() {\n      return this.length / this.numComponents | 0;\n    },\n  });\n  return typedArray;\n}\n\n/**\n * creates a typed array with a `push` function attached\n * so that you can easily *push* values.\n *\n * `push` can take multiple arguments. If an argument is an array each element\n * of the array will be added to the typed array.\n *\n * Example:\n *\n *     const array = createAugmentedTypedArray(3, 2);  // creates a Float32Array with 6 values\n *     array.push(1, 2, 3);\n *     array.push([4, 5, 6]);\n *     // array now contains [1, 2, 3, 4, 5, 6]\n *\n * Also has `numComponents` and `numElements` properties.\n *\n * @param {number} numComponents number of components\n * @param {number} numElements number of elements. The total size of the array will be `numComponents * numElements`.\n * @param {constructor} opt_type A constructor for the type. Default = `Float32Array`.\n * @return {ArrayBufferView} A typed array.\n * @memberOf module:twgl/primitives\n */\nfunction createAugmentedTypedArray(numComponents, numElements, opt_type) {\n  const Type = opt_type || Float32Array;\n  return augmentTypedArray(new Type(numComponents * numElements), numComponents);\n}\n\nfunction allButIndices(name) {\n  return name !== \"indices\";\n}\n\n/**\n * Given indexed vertices creates a new set of vertices un-indexed by expanding the indexed vertices.\n * @param {Object.<string, TypedArray>} vertices The indexed vertices to deindex\n * @return {Object.<string, TypedArray>} The deindexed vertices\n * @memberOf module:twgl/primitives\n */\nfunction deindexVertices(vertices) {\n  const indices = vertices.indices;\n  const newVertices = {};\n  const numElements = indices.length;\n\n  function expandToUnindexed(channel) {\n    const srcBuffer = vertices[channel];\n    const numComponents = srcBuffer.numComponents;\n    const dstBuffer = createAugmentedTypedArray(numComponents, numElements, srcBuffer.constructor);\n    for (let ii = 0; ii < numElements; ++ii) {\n      const ndx = indices[ii];\n      const offset = ndx * numComponents;\n      for (let jj = 0; jj < numComponents; ++jj) {\n        dstBuffer.push(srcBuffer[offset + jj]);\n      }\n    }\n    newVertices[channel] = dstBuffer;\n  }\n\n  Object.keys(vertices).filter(allButIndices).forEach(expandToUnindexed);\n\n  return newVertices;\n}\n\n/**\n * flattens the normals of deindexed vertices in place.\n * @param {Object.<string, TypedArray>} vertices The deindexed vertices who's normals to flatten\n * @return {Object.<string, TypedArray>} The flattened vertices (same as was passed in)\n * @memberOf module:twgl/primitives\n */\nfunction flattenNormals(vertices) {\n  if (vertices.indices) {\n    throw new Error('can not flatten normals of indexed vertices. deindex them first');\n  }\n\n  const normals = vertices.normal;\n  const numNormals = normals.length;\n  for (let ii = 0; ii < numNormals; ii += 9) {\n    // pull out the 3 normals for this triangle\n    const nax = normals[ii + 0];\n    const nay = normals[ii + 1];\n    const naz = normals[ii + 2];\n\n    const nbx = normals[ii + 3];\n    const nby = normals[ii + 4];\n    const nbz = normals[ii + 5];\n\n    const ncx = normals[ii + 6];\n    const ncy = normals[ii + 7];\n    const ncz = normals[ii + 8];\n\n    // add them\n    let nx = nax + nbx + ncx;\n    let ny = nay + nby + ncy;\n    let nz = naz + nbz + ncz;\n\n    // normalize them\n    const length = Math.sqrt(nx * nx + ny * ny + nz * nz);\n\n    nx /= length;\n    ny /= length;\n    nz /= length;\n\n    // copy them back in\n    normals[ii + 0] = nx;\n    normals[ii + 1] = ny;\n    normals[ii + 2] = nz;\n\n    normals[ii + 3] = nx;\n    normals[ii + 4] = ny;\n    normals[ii + 5] = nz;\n\n    normals[ii + 6] = nx;\n    normals[ii + 7] = ny;\n    normals[ii + 8] = nz;\n  }\n\n  return vertices;\n}\n\nfunction applyFuncToV3Array(array, matrix, fn) {\n  const len = array.length;\n  const tmp = new Float32Array(3);\n  for (let ii = 0; ii < len; ii += 3) {\n    fn(matrix, [array[ii], array[ii + 1], array[ii + 2]], tmp);\n    array[ii    ] = tmp[0];\n    array[ii + 1] = tmp[1];\n    array[ii + 2] = tmp[2];\n  }\n}\n\nfunction transformNormal$1(mi, v, dst) {\n  dst = dst || create();\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\n  dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\n  dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\n\n  return dst;\n}\n\n/**\n * Reorients directions by the given matrix..\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\nfunction reorientDirections(array, matrix) {\n  applyFuncToV3Array(array, matrix, transformDirection);\n  return array;\n}\n\n/**\n * Reorients normals by the inverse-transpose of the given\n * matrix..\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\nfunction reorientNormals(array, matrix) {\n  applyFuncToV3Array(array, inverse(matrix), transformNormal$1);\n  return array;\n}\n\n/**\n * Reorients positions by the given matrix. In other words, it\n * multiplies each vertex by the given matrix.\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\nfunction reorientPositions(array, matrix) {\n  applyFuncToV3Array(array, matrix, transformPoint);\n  return array;\n}\n\n/**\n * @typedef {(number[]|TypedArray)} NativeArrayOrTypedArray\n */\n\n/**\n * Reorients arrays by the given matrix. Assumes arrays have\n * names that contains 'pos' could be reoriented as positions,\n * 'binorm' or 'tan' as directions, and 'norm' as normals.\n *\n * @param {Object.<string, NativeArrayOrTypedArray>} arrays The vertices to reorient\n * @param {module:twgl/m4.Mat4} matrix matrix to reorient by.\n * @return {Object.<string, NativeArrayOrTypedArray>} same arrays that were passed in.\n * @memberOf module:twgl/primitives\n */\nfunction reorientVertices(arrays, matrix) {\n  Object.keys(arrays).forEach(function(name) {\n    const array = arrays[name];\n    if (name.indexOf(\"pos\") >= 0) {\n      reorientPositions(array, matrix);\n    } else if (name.indexOf(\"tan\") >= 0 || name.indexOf(\"binorm\") >= 0) {\n      reorientDirections(array, matrix);\n    } else if (name.indexOf(\"norm\") >= 0) {\n      reorientNormals(array, matrix);\n    }\n  });\n  return arrays;\n}\n\n/**\n * Creates XY quad BufferInfo\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0, 0.5);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {Object.<string, WebGLBuffer>} the created XY Quad BufferInfo\n * @memberOf module:twgl/primitives\n * @function createXYQuadBuffers\n */\n\n/**\n * Creates XY quad Buffers\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0, 0.5);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {module:twgl.BufferInfo} the created XY Quad buffers\n * @memberOf module:twgl/primitives\n * @function createXYQuadBufferInfo\n */\n\n/**\n * Creates XY quad vertices\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadVertices(1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadVertices(1, 0, 0.5);\n *\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {Object.<string, TypedArray>} the created XY Quad vertices\n * @memberOf module:twgl/primitives\n */\nfunction createXYQuadVertices(size, xOffset, yOffset) {\n  size = size || 2;\n  xOffset = xOffset || 0;\n  yOffset = yOffset || 0;\n  size *= 0.5;\n  return {\n    position: {\n      numComponents: 2,\n      data: [\n        xOffset + -1 * size, yOffset + -1 * size,\n        xOffset +  1 * size, yOffset + -1 * size,\n        xOffset + -1 * size, yOffset +  1 * size,\n        xOffset +  1 * size, yOffset +  1 * size,\n      ],\n    },\n    normal: [\n      0, 0, 1,\n      0, 0, 1,\n      0, 0, 1,\n      0, 0, 1,\n    ],\n    texcoord: [\n      0, 0,\n      1, 0,\n      0, 1,\n      1, 1,\n    ],\n    indices: [ 0, 1, 2, 2, 1, 3 ],\n  };\n}\n\n/**\n * Creates XZ plane BufferInfo.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {module:twgl.BufferInfo} The created plane BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createPlaneBufferInfo\n */\n\n/**\n * Creates XZ plane buffers.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {Object.<string, WebGLBuffer>} The created plane buffers.\n * @memberOf module:twgl/primitives\n * @function createPlaneBuffers\n */\n\n/**\n * Creates XZ plane vertices.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {Object.<string, TypedArray>} The created plane vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createPlaneVertices(\n    width,\n    depth,\n    subdivisionsWidth,\n    subdivisionsDepth,\n    matrix) {\n  width = width || 1;\n  depth = depth || 1;\n  subdivisionsWidth = subdivisionsWidth || 1;\n  subdivisionsDepth = subdivisionsDepth || 1;\n  matrix = matrix || identity();\n\n  const numVertices = (subdivisionsWidth + 1) * (subdivisionsDepth + 1);\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2, numVertices);\n\n  for (let z = 0; z <= subdivisionsDepth; z++) {\n    for (let x = 0; x <= subdivisionsWidth; x++) {\n      const u = x / subdivisionsWidth;\n      const v = z / subdivisionsDepth;\n      positions.push(\n          width * u - width * 0.5,\n          0,\n          depth * v - depth * 0.5);\n      normals.push(0, 1, 0);\n      texcoords.push(u, v);\n    }\n  }\n\n  const numVertsAcross = subdivisionsWidth + 1;\n  const indices = createAugmentedTypedArray(\n      3, subdivisionsWidth * subdivisionsDepth * 2, Uint16Array);\n\n  for (let z = 0; z < subdivisionsDepth; z++) {  // eslint-disable-line\n    for (let x = 0; x < subdivisionsWidth; x++) {  // eslint-disable-line\n      // Make triangle 1 of quad.\n      indices.push(\n          (z + 0) * numVertsAcross + x,\n          (z + 1) * numVertsAcross + x,\n          (z + 0) * numVertsAcross + x + 1);\n\n      // Make triangle 2 of quad.\n      indices.push(\n          (z + 1) * numVertsAcross + x,\n          (z + 1) * numVertsAcross + x + 1,\n          (z + 0) * numVertsAcross + x + 1);\n    }\n  }\n\n  const arrays = reorientVertices({\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  }, matrix);\n  return arrays;\n}\n\n/**\n * Creates sphere BufferInfo.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {module:twgl.BufferInfo} The created sphere BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createSphereBufferInfo\n */\n\n/**\n * Creates sphere buffers.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {Object.<string, WebGLBuffer>} The created sphere buffers.\n * @memberOf module:twgl/primitives\n * @function createSphereBuffers\n */\n\n/**\n * Creates sphere vertices.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {Object.<string, TypedArray>} The created sphere vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createSphereVertices(\n    radius,\n    subdivisionsAxis,\n    subdivisionsHeight,\n    opt_startLatitudeInRadians,\n    opt_endLatitudeInRadians,\n    opt_startLongitudeInRadians,\n    opt_endLongitudeInRadians) {\n  if (subdivisionsAxis <= 0 || subdivisionsHeight <= 0) {\n    throw new Error('subdivisionAxis and subdivisionHeight must be > 0');\n  }\n\n  opt_startLatitudeInRadians = opt_startLatitudeInRadians || 0;\n  opt_endLatitudeInRadians = opt_endLatitudeInRadians || Math.PI;\n  opt_startLongitudeInRadians = opt_startLongitudeInRadians || 0;\n  opt_endLongitudeInRadians = opt_endLongitudeInRadians || (Math.PI * 2);\n\n  const latRange = opt_endLatitudeInRadians - opt_startLatitudeInRadians;\n  const longRange = opt_endLongitudeInRadians - opt_startLongitudeInRadians;\n\n  // We are going to generate our sphere by iterating through its\n  // spherical coordinates and generating 2 triangles for each quad on a\n  // ring of the sphere.\n  const numVertices = (subdivisionsAxis + 1) * (subdivisionsHeight + 1);\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2 , numVertices);\n\n  // Generate the individual vertices in our vertex buffer.\n  for (let y = 0; y <= subdivisionsHeight; y++) {\n    for (let x = 0; x <= subdivisionsAxis; x++) {\n      // Generate a vertex based on its spherical coordinates\n      const u = x / subdivisionsAxis;\n      const v = y / subdivisionsHeight;\n      const theta = longRange * u + opt_startLongitudeInRadians;\n      const phi = latRange * v + opt_startLatitudeInRadians;\n      const sinTheta = Math.sin(theta);\n      const cosTheta = Math.cos(theta);\n      const sinPhi = Math.sin(phi);\n      const cosPhi = Math.cos(phi);\n      const ux = cosTheta * sinPhi;\n      const uy = cosPhi;\n      const uz = sinTheta * sinPhi;\n      positions.push(radius * ux, radius * uy, radius * uz);\n      normals.push(ux, uy, uz);\n      texcoords.push(1 - u, v);\n    }\n  }\n\n  const numVertsAround = subdivisionsAxis + 1;\n  const indices = createAugmentedTypedArray(3, subdivisionsAxis * subdivisionsHeight * 2, Uint16Array);\n  for (let x = 0; x < subdivisionsAxis; x++) {  // eslint-disable-line\n    for (let y = 0; y < subdivisionsHeight; y++) {  // eslint-disable-line\n      // Make triangle 1 of quad.\n      indices.push(\n          (y + 0) * numVertsAround + x,\n          (y + 0) * numVertsAround + x + 1,\n          (y + 1) * numVertsAround + x);\n\n      // Make triangle 2 of quad.\n      indices.push(\n          (y + 1) * numVertsAround + x,\n          (y + 0) * numVertsAround + x + 1,\n          (y + 1) * numVertsAround + x + 1);\n    }\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * Array of the indices of corners of each face of a cube.\n * @type {Array.<number[]>}\n * @private\n */\nconst CUBE_FACE_INDICES = [\n  [3, 7, 5, 1],  // right\n  [6, 2, 0, 4],  // left\n  [6, 7, 3, 2],  // ??\n  [0, 1, 5, 4],  // ??\n  [7, 6, 4, 5],  // front\n  [2, 3, 1, 0],  // back\n];\n\n/**\n * Creates a BufferInfo for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] width, height and depth of the cube.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCubeBufferInfo\n */\n\n/**\n * Creates the buffers and indices for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] width, height and depth of the cube.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCubeBuffers\n */\n\n/**\n * Creates the vertices and indices for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {number} [size] width, height and depth of the cube.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createCubeVertices(size) {\n  size = size || 1;\n  const k = size / 2;\n\n  const cornerVertices = [\n    [-k, -k, -k],\n    [+k, -k, -k],\n    [-k, +k, -k],\n    [+k, +k, -k],\n    [-k, -k, +k],\n    [+k, -k, +k],\n    [-k, +k, +k],\n    [+k, +k, +k],\n  ];\n\n  const faceNormals = [\n    [+1, +0, +0],\n    [-1, +0, +0],\n    [+0, +1, +0],\n    [+0, -1, +0],\n    [+0, +0, +1],\n    [+0, +0, -1],\n  ];\n\n  const uvCoords = [\n    [1, 0],\n    [0, 0],\n    [0, 1],\n    [1, 1],\n  ];\n\n  const numVertices = 6 * 4;\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2 , numVertices);\n  const indices   = createAugmentedTypedArray(3, 6 * 2, Uint16Array);\n\n  for (let f = 0; f < 6; ++f) {\n    const faceIndices = CUBE_FACE_INDICES[f];\n    for (let v = 0; v < 4; ++v) {\n      const position = cornerVertices[faceIndices[v]];\n      const normal = faceNormals[f];\n      const uv = uvCoords[v];\n\n      // Each face needs all four vertices because the normals and texture\n      // coordinates are not all the same.\n      positions.push(position);\n      normals.push(normal);\n      texcoords.push(uv);\n\n    }\n    // Two triangles make a square face.\n    const offset = 4 * f;\n    indices.push(offset + 0, offset + 1, offset + 2);\n    indices.push(offset + 0, offset + 2, offset + 3);\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * Creates a BufferInfo for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {module:twgl.BufferInfo} The created cone BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createTruncatedConeBufferInfo\n */\n\n/**\n * Creates buffers for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, WebGLBuffer>} The created cone buffers.\n * @memberOf module:twgl/primitives\n * @function createTruncatedConeBuffers\n */\n\n/**\n * Creates vertices for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis. .\n *\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, TypedArray>} The created cone vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createTruncatedConeVertices(\n    bottomRadius,\n    topRadius,\n    height,\n    radialSubdivisions,\n    verticalSubdivisions,\n    opt_topCap,\n    opt_bottomCap) {\n  if (radialSubdivisions < 3) {\n    throw new Error('radialSubdivisions must be 3 or greater');\n  }\n\n  if (verticalSubdivisions < 1) {\n    throw new Error('verticalSubdivisions must be 1 or greater');\n  }\n\n  const topCap = (opt_topCap === undefined) ? true : opt_topCap;\n  const bottomCap = (opt_bottomCap === undefined) ? true : opt_bottomCap;\n\n  const extra = (topCap ? 2 : 0) + (bottomCap ? 2 : 0);\n\n  const numVertices = (radialSubdivisions + 1) * (verticalSubdivisions + 1 + extra);\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2, numVertices);\n  const indices   = createAugmentedTypedArray(3, radialSubdivisions * (verticalSubdivisions + extra / 2) * 2, Uint16Array);\n\n  const vertsAroundEdge = radialSubdivisions + 1;\n\n  // The slant of the cone is constant across its surface\n  const slant = Math.atan2(bottomRadius - topRadius, height);\n  const cosSlant = Math.cos(slant);\n  const sinSlant = Math.sin(slant);\n\n  const start = topCap ? -2 : 0;\n  const end = verticalSubdivisions + (bottomCap ? 2 : 0);\n\n  for (let yy = start; yy <= end; ++yy) {\n    let v = yy / verticalSubdivisions;\n    let y = height * v;\n    let ringRadius;\n    if (yy < 0) {\n      y = 0;\n      v = 1;\n      ringRadius = bottomRadius;\n    } else if (yy > verticalSubdivisions) {\n      y = height;\n      v = 1;\n      ringRadius = topRadius;\n    } else {\n      ringRadius = bottomRadius +\n        (topRadius - bottomRadius) * (yy / verticalSubdivisions);\n    }\n    if (yy === -2 || yy === verticalSubdivisions + 2) {\n      ringRadius = 0;\n      v = 0;\n    }\n    y -= height / 2;\n    for (let ii = 0; ii < vertsAroundEdge; ++ii) {\n      const sin = Math.sin(ii * Math.PI * 2 / radialSubdivisions);\n      const cos = Math.cos(ii * Math.PI * 2 / radialSubdivisions);\n      positions.push(sin * ringRadius, y, cos * ringRadius);\n      if (yy < 0) {\n        normals.push(0, -1, 0);\n      } else if (yy > verticalSubdivisions) {\n        normals.push(0, 1, 0);\n      } else if (ringRadius === 0.0) {\n        normals.push(0, 0, 0);\n      } else {\n        normals.push(sin * cosSlant, sinSlant, cos * cosSlant);\n      }\n      texcoords.push((ii / radialSubdivisions), 1 - v);\n    }\n  }\n\n  for (let yy = 0; yy < verticalSubdivisions + extra; ++yy) {  // eslint-disable-line\n    if (yy === 1 && topCap || yy === verticalSubdivisions + extra - 2 && bottomCap) {\n      continue;\n    }\n    for (let ii = 0; ii < radialSubdivisions; ++ii) {  // eslint-disable-line\n      indices.push(vertsAroundEdge * (yy + 0) + 0 + ii,\n                   vertsAroundEdge * (yy + 0) + 1 + ii,\n                   vertsAroundEdge * (yy + 1) + 1 + ii);\n      indices.push(vertsAroundEdge * (yy + 0) + 0 + ii,\n                   vertsAroundEdge * (yy + 1) + 1 + ii,\n                   vertsAroundEdge * (yy + 1) + 0 + ii);\n    }\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * Expands RLE data\n * @param {number[]} rleData data in format of run-length, x, y, z, run-length, x, y, z\n * @param {number[]} [padding] value to add each entry with.\n * @return {number[]} the expanded rleData\n * @private\n */\nfunction expandRLEData(rleData, padding) {\n  padding = padding || [];\n  const data = [];\n  for (let ii = 0; ii < rleData.length; ii += 4) {\n    const runLength = rleData[ii];\n    const element = rleData.slice(ii + 1, ii + 4);\n    element.push.apply(element, padding);\n    for (let jj = 0; jj < runLength; ++jj) {\n      data.push.apply(data, element);\n    }\n  }\n  return data;\n}\n\n/**\n * Creates 3D 'F' BufferInfo.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function create3DFBufferInfo\n */\n\n/**\n * Creates 3D 'F' buffers.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function create3DFBuffers\n */\n\n/**\n * Creates 3D 'F' vertices.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color arrays.\n *\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction create3DFVertices() {\n\n  const positions = [\n    // left column front\n    0,   0,  0,\n    0, 150,  0,\n    30,   0,  0,\n    0, 150,  0,\n    30, 150,  0,\n    30,   0,  0,\n\n    // top rung front\n    30,   0,  0,\n    30,  30,  0,\n    100,   0,  0,\n    30,  30,  0,\n    100,  30,  0,\n    100,   0,  0,\n\n    // middle rung front\n    30,  60,  0,\n    30,  90,  0,\n    67,  60,  0,\n    30,  90,  0,\n    67,  90,  0,\n    67,  60,  0,\n\n    // left column back\n      0,   0,  30,\n     30,   0,  30,\n      0, 150,  30,\n      0, 150,  30,\n     30,   0,  30,\n     30, 150,  30,\n\n    // top rung back\n     30,   0,  30,\n    100,   0,  30,\n     30,  30,  30,\n     30,  30,  30,\n    100,   0,  30,\n    100,  30,  30,\n\n    // middle rung back\n     30,  60,  30,\n     67,  60,  30,\n     30,  90,  30,\n     30,  90,  30,\n     67,  60,  30,\n     67,  90,  30,\n\n    // top\n      0,   0,   0,\n    100,   0,   0,\n    100,   0,  30,\n      0,   0,   0,\n    100,   0,  30,\n      0,   0,  30,\n\n    // top rung front\n    100,   0,   0,\n    100,  30,   0,\n    100,  30,  30,\n    100,   0,   0,\n    100,  30,  30,\n    100,   0,  30,\n\n    // under top rung\n    30,   30,   0,\n    30,   30,  30,\n    100,  30,  30,\n    30,   30,   0,\n    100,  30,  30,\n    100,  30,   0,\n\n    // between top rung and middle\n    30,   30,   0,\n    30,   60,  30,\n    30,   30,  30,\n    30,   30,   0,\n    30,   60,   0,\n    30,   60,  30,\n\n    // top of middle rung\n    30,   60,   0,\n    67,   60,  30,\n    30,   60,  30,\n    30,   60,   0,\n    67,   60,   0,\n    67,   60,  30,\n\n    // front of middle rung\n    67,   60,   0,\n    67,   90,  30,\n    67,   60,  30,\n    67,   60,   0,\n    67,   90,   0,\n    67,   90,  30,\n\n    // bottom of middle rung.\n    30,   90,   0,\n    30,   90,  30,\n    67,   90,  30,\n    30,   90,   0,\n    67,   90,  30,\n    67,   90,   0,\n\n    // front of bottom\n    30,   90,   0,\n    30,  150,  30,\n    30,   90,  30,\n    30,   90,   0,\n    30,  150,   0,\n    30,  150,  30,\n\n    // bottom\n    0,   150,   0,\n    0,   150,  30,\n    30,  150,  30,\n    0,   150,   0,\n    30,  150,  30,\n    30,  150,   0,\n\n    // left side\n    0,   0,   0,\n    0,   0,  30,\n    0, 150,  30,\n    0,   0,   0,\n    0, 150,  30,\n    0, 150,   0,\n  ];\n\n  const texcoords = [\n    // left column front\n    0.22, 0.19,\n    0.22, 0.79,\n    0.34, 0.19,\n    0.22, 0.79,\n    0.34, 0.79,\n    0.34, 0.19,\n\n    // top rung front\n    0.34, 0.19,\n    0.34, 0.31,\n    0.62, 0.19,\n    0.34, 0.31,\n    0.62, 0.31,\n    0.62, 0.19,\n\n    // middle rung front\n    0.34, 0.43,\n    0.34, 0.55,\n    0.49, 0.43,\n    0.34, 0.55,\n    0.49, 0.55,\n    0.49, 0.43,\n\n    // left column back\n    0, 0,\n    1, 0,\n    0, 1,\n    0, 1,\n    1, 0,\n    1, 1,\n\n    // top rung back\n    0, 0,\n    1, 0,\n    0, 1,\n    0, 1,\n    1, 0,\n    1, 1,\n\n    // middle rung back\n    0, 0,\n    1, 0,\n    0, 1,\n    0, 1,\n    1, 0,\n    1, 1,\n\n    // top\n    0, 0,\n    1, 0,\n    1, 1,\n    0, 0,\n    1, 1,\n    0, 1,\n\n    // top rung front\n    0, 0,\n    1, 0,\n    1, 1,\n    0, 0,\n    1, 1,\n    0, 1,\n\n    // under top rung\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n\n    // between top rung and middle\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // top of middle rung\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // front of middle rung\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // bottom of middle rung.\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n\n    // front of bottom\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // bottom\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n\n    // left side\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n  ];\n\n  const normals = expandRLEData([\n    // left column front\n    // top rung front\n    // middle rung front\n    18, 0, 0, 1,\n\n    // left column back\n    // top rung back\n    // middle rung back\n    18, 0, 0, -1,\n\n    // top\n    6, 0, 1, 0,\n\n    // top rung front\n    6, 1, 0, 0,\n\n    // under top rung\n    6, 0, -1, 0,\n\n    // between top rung and middle\n    6, 1, 0, 0,\n\n    // top of middle rung\n    6, 0, 1, 0,\n\n    // front of middle rung\n    6, 1, 0, 0,\n\n    // bottom of middle rung.\n    6, 0, -1, 0,\n\n    // front of bottom\n    6, 1, 0, 0,\n\n    // bottom\n    6, 0, -1, 0,\n\n    // left side\n    6, -1, 0, 0,\n  ]);\n\n  const colors = expandRLEData([\n        // left column front\n        // top rung front\n        // middle rung front\n      18, 200,  70, 120,\n\n        // left column back\n        // top rung back\n        // middle rung back\n      18, 80, 70, 200,\n\n        // top\n      6, 70, 200, 210,\n\n        // top rung front\n      6, 200, 200, 70,\n\n        // under top rung\n      6, 210, 100, 70,\n\n        // between top rung and middle\n      6, 210, 160, 70,\n\n        // top of middle rung\n      6, 70, 180, 210,\n\n        // front of middle rung\n      6, 100, 70, 210,\n\n        // bottom of middle rung.\n      6, 76, 210, 100,\n\n        // front of bottom\n      6, 140, 210, 80,\n\n        // bottom\n      6, 90, 130, 110,\n\n        // left side\n      6, 160, 160, 220,\n  ], [255]);\n\n  const numVerts = positions.length / 3;\n\n  const arrays = {\n    position: createAugmentedTypedArray(3, numVerts),\n    texcoord: createAugmentedTypedArray(2,  numVerts),\n    normal: createAugmentedTypedArray(3, numVerts),\n    color: createAugmentedTypedArray(4, numVerts, Uint8Array),\n    indices: createAugmentedTypedArray(3, numVerts / 3, Uint16Array),\n  };\n\n  arrays.position.push(positions);\n  arrays.texcoord.push(texcoords);\n  arrays.normal.push(normals);\n  arrays.color.push(colors);\n\n  for (let ii = 0; ii < numVerts; ++ii) {\n    arrays.indices.push(ii);\n  }\n\n  return arrays;\n}\n\n/**\n * Creates crescent BufferInfo.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCresentBufferInfo\n */\n\n/**\n * Creates crescent buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCresentBuffers\n */\n\n/**\n * Creates crescent vertices.\n *\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n * @function createCresentBuffers\n */\n\n/**\n * Creates crescent BufferInfo.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCrescentBufferInfo\n */\n\n/**\n * Creates crescent buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCrescentBuffers\n */\n\n/**\n * Creates crescent vertices.\n *\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n function createCrescentVertices(\n    verticalRadius,\n    outerRadius,\n    innerRadius,\n    thickness,\n    subdivisionsDown,\n    startOffset,\n    endOffset) {\n  if (subdivisionsDown <= 0) {\n    throw new Error('subdivisionDown must be > 0');\n  }\n\n  startOffset = startOffset || 0;\n  endOffset   = endOffset || 1;\n\n  const subdivisionsThick = 2;\n\n  const offsetRange = endOffset - startOffset;\n  const numVertices = (subdivisionsDown + 1) * 2 * (2 + subdivisionsThick);\n  const positions   = createAugmentedTypedArray(3, numVertices);\n  const normals     = createAugmentedTypedArray(3, numVertices);\n  const texcoords   = createAugmentedTypedArray(2, numVertices);\n\n  function lerp(a, b, s) {\n    return a + (b - a) * s;\n  }\n\n  function createArc(arcRadius, x, normalMult, normalAdd, uMult, uAdd) {\n    for (let z = 0; z <= subdivisionsDown; z++) {\n      const uBack = x / (subdivisionsThick - 1);\n      const v = z / subdivisionsDown;\n      const xBack = (uBack - 0.5) * 2;\n      const angle = (startOffset + (v * offsetRange)) * Math.PI;\n      const s = Math.sin(angle);\n      const c = Math.cos(angle);\n      const radius = lerp(verticalRadius, arcRadius, s);\n      const px = xBack * thickness;\n      const py = c * verticalRadius;\n      const pz = s * radius;\n      positions.push(px, py, pz);\n      const n = add(multiply([0, s, c], normalMult), normalAdd);\n      normals.push(n);\n      texcoords.push(uBack * uMult + uAdd, v);\n    }\n  }\n\n  // Generate the individual vertices in our vertex buffer.\n  for (let x = 0; x < subdivisionsThick; x++) {\n    const uBack = (x / (subdivisionsThick - 1) - 0.5) * 2;\n    createArc(outerRadius, x, [1, 1, 1], [0,     0, 0], 1, 0);\n    createArc(outerRadius, x, [0, 0, 0], [uBack, 0, 0], 0, 0);\n    createArc(innerRadius, x, [1, 1, 1], [0,     0, 0], 1, 0);\n    createArc(innerRadius, x, [0, 0, 0], [uBack, 0, 0], 0, 1);\n  }\n\n  // Do outer surface.\n  const indices = createAugmentedTypedArray(3, (subdivisionsDown * 2) * (2 + subdivisionsThick), Uint16Array);\n\n  function createSurface(leftArcOffset, rightArcOffset) {\n    for (let z = 0; z < subdivisionsDown; ++z) {\n      // Make triangle 1 of quad.\n      indices.push(\n          leftArcOffset + z + 0,\n          leftArcOffset + z + 1,\n          rightArcOffset + z + 0);\n\n      // Make triangle 2 of quad.\n      indices.push(\n          leftArcOffset + z + 1,\n          rightArcOffset + z + 1,\n          rightArcOffset + z + 0);\n    }\n  }\n\n  const numVerticesDown = subdivisionsDown + 1;\n  // front\n  createSurface(numVerticesDown * 0, numVerticesDown * 4);\n  // right\n  createSurface(numVerticesDown * 5, numVerticesDown * 7);\n  // back\n  createSurface(numVerticesDown * 6, numVerticesDown * 2);\n  // left\n  createSurface(numVerticesDown * 3, numVerticesDown * 1);\n\n  return {\n    position: positions,\n    normal:   normals,\n    texcoord: texcoords,\n    indices:  indices,\n  };\n}\n\n/**\n * Creates cylinder BufferInfo. The cylinder will be created around the origin\n * along the y-axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of cylinder.\n * @param {number} height Height of cylinder.\n * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n * @param {boolean} [topCap] Create top cap. Default = true.\n * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCylinderBufferInfo\n */\n\n /**\n  * Creates cylinder buffers. The cylinder will be created around the origin\n  * along the y-axis.\n  *\n  * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n  * @param {number} radius Radius of cylinder.\n  * @param {number} height Height of cylinder.\n  * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n  * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n  * @param {boolean} [topCap] Create top cap. Default = true.\n  * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n  * @return {Object.<string, WebGLBuffer>} The created buffers.\n  * @memberOf module:twgl/primitives\n  * @function createCylinderBuffers\n  */\n\n /**\n  * Creates cylinder vertices. The cylinder will be created around the origin\n  * along the y-axis.\n  *\n  * @param {number} radius Radius of cylinder.\n  * @param {number} height Height of cylinder.\n  * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n  * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n  * @param {boolean} [topCap] Create top cap. Default = true.\n  * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n  * @return {Object.<string, TypedArray>} The created vertices.\n  * @memberOf module:twgl/primitives\n  */\nfunction createCylinderVertices(\n    radius,\n    height,\n    radialSubdivisions,\n    verticalSubdivisions,\n    topCap,\n    bottomCap) {\n  return createTruncatedConeVertices(\n      radius,\n      radius,\n      height,\n      radialSubdivisions,\n      verticalSubdivisions,\n      topCap,\n      bottomCap);\n}\n\n/**\n * Creates BufferInfo for a torus\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createTorusBufferInfo\n */\n\n/**\n * Creates buffers for a torus\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createTorusBuffers\n */\n\n/**\n * Creates vertices for a torus\n *\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createTorusVertices(\n    radius,\n    thickness,\n    radialSubdivisions,\n    bodySubdivisions,\n    startAngle,\n    endAngle) {\n  if (radialSubdivisions < 3) {\n    throw new Error('radialSubdivisions must be 3 or greater');\n  }\n\n  if (bodySubdivisions < 3) {\n    throw new Error('verticalSubdivisions must be 3 or greater');\n  }\n\n  startAngle = startAngle || 0;\n  endAngle = endAngle || Math.PI * 2;\n  const range = endAngle - startAngle;\n\n  const radialParts = radialSubdivisions + 1;\n  const bodyParts   = bodySubdivisions + 1;\n  const numVertices = radialParts * bodyParts;\n  const positions   = createAugmentedTypedArray(3, numVertices);\n  const normals     = createAugmentedTypedArray(3, numVertices);\n  const texcoords   = createAugmentedTypedArray(2, numVertices);\n  const indices     = createAugmentedTypedArray(3, (radialSubdivisions) * (bodySubdivisions) * 2, Uint16Array);\n\n  for (let slice = 0; slice < bodyParts; ++slice) {\n    const v = slice / bodySubdivisions;\n    const sliceAngle = v * Math.PI * 2;\n    const sliceSin = Math.sin(sliceAngle);\n    const ringRadius = radius + sliceSin * thickness;\n    const ny = Math.cos(sliceAngle);\n    const y = ny * thickness;\n    for (let ring = 0; ring < radialParts; ++ring) {\n      const u = ring / radialSubdivisions;\n      const ringAngle = startAngle + u * range;\n      const xSin = Math.sin(ringAngle);\n      const zCos = Math.cos(ringAngle);\n      const x = xSin * ringRadius;\n      const z = zCos * ringRadius;\n      const nx = xSin * sliceSin;\n      const nz = zCos * sliceSin;\n      positions.push(x, y, z);\n      normals.push(nx, ny, nz);\n      texcoords.push(u, 1 - v);\n    }\n  }\n\n  for (let slice = 0; slice < bodySubdivisions; ++slice) {  // eslint-disable-line\n    for (let ring = 0; ring < radialSubdivisions; ++ring) {  // eslint-disable-line\n      const nextRingIndex  = 1 + ring;\n      const nextSliceIndex = 1 + slice;\n      indices.push(radialParts * slice          + ring,\n                   radialParts * nextSliceIndex + ring,\n                   radialParts * slice          + nextRingIndex);\n      indices.push(radialParts * nextSliceIndex + ring,\n                   radialParts * nextSliceIndex + nextRingIndex,\n                   radialParts * slice          + nextRingIndex);\n    }\n  }\n\n  return {\n    position: positions,\n    normal:   normals,\n    texcoord: texcoords,\n    indices:  indices,\n  };\n}\n\n\n/**\n * Creates a disc BufferInfo. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose outside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createDiscBufferInfo\n */\n\n/**\n * Creates disc buffers. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose outside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createDiscBuffers\n */\n\n/**\n * Creates disc vertices. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose outside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createDiscVertices(\n    radius,\n    divisions,\n    stacks,\n    innerRadius,\n    stackPower) {\n  if (divisions < 3) {\n    throw new Error('divisions must be at least 3');\n  }\n\n  stacks = stacks ? stacks : 1;\n  stackPower = stackPower ? stackPower : 1;\n  innerRadius = innerRadius ? innerRadius : 0;\n\n  // Note: We don't share the center vertex because that would\n  // mess up texture coordinates.\n  const numVertices = (divisions + 1) * (stacks + 1);\n\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2, numVertices);\n  const indices   = createAugmentedTypedArray(3, stacks * divisions * 2, Uint16Array);\n\n  let firstIndex = 0;\n  const radiusSpan = radius - innerRadius;\n  const pointsPerStack = divisions + 1;\n\n  // Build the disk one stack at a time.\n  for (let stack = 0; stack <= stacks; ++stack) {\n    const stackRadius = innerRadius + radiusSpan * Math.pow(stack / stacks, stackPower);\n\n    for (let i = 0; i <= divisions; ++i) {\n      const theta = 2.0 * Math.PI * i / divisions;\n      const x = stackRadius * Math.cos(theta);\n      const z = stackRadius * Math.sin(theta);\n\n      positions.push(x, 0, z);\n      normals.push(0, 1, 0);\n      texcoords.push(1 - (i / divisions), stack / stacks);\n      if (stack > 0 && i !== divisions) {\n        // a, b, c and d are the indices of the vertices of a quad.  unless\n        // the current stack is the one closest to the center, in which case\n        // the vertices a and b connect to the center vertex.\n        const a = firstIndex + (i + 1);\n        const b = firstIndex + i;\n        const c = firstIndex + i - pointsPerStack;\n        const d = firstIndex + (i + 1) - pointsPerStack;\n\n        // Make a quad of the vertices a, b, c, d.\n        indices.push(a, b, c);\n        indices.push(a, c, d);\n      }\n    }\n\n    firstIndex += divisions + 1;\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * creates a random integer between 0 and range - 1 inclusive.\n * @param {number} range\n * @return {number} random value between 0 and range - 1 inclusive.\n * @private\n */\nfunction randInt(range) {\n  return Math.random() * range | 0;\n}\n\n/**\n * Used to supply random colors\n * @callback RandomColorFunc\n * @param {number} ndx index of triangle/quad if unindexed or index of vertex if indexed\n * @param {number} channel 0 = red, 1 = green, 2 = blue, 3 = alpha\n * @return {number} a number from 0 to 255\n * @memberOf module:twgl/primitives\n */\n\n/**\n * @typedef {Object} RandomVerticesOptions\n * @property {number} [vertsPerColor] Defaults to 3 for non-indexed vertices\n * @property {module:twgl/primitives.RandomColorFunc} [rand] A function to generate random numbers\n * @memberOf module:twgl/primitives\n */\n\n/**\n * Creates an augmentedTypedArray of random vertex colors.\n * If the vertices are indexed (have an indices array) then will\n * just make random colors. Otherwise assumes they are triangles\n * and makes one random color for every 3 vertices.\n * @param {Object.<string, AugmentedTypedArray>} vertices Vertices as returned from one of the createXXXVertices functions.\n * @param {module:twgl/primitives.RandomVerticesOptions} [options] options.\n * @return {Object.<string, AugmentedTypedArray>} same vertices as passed in with `color` added.\n * @memberOf module:twgl/primitives\n */\nfunction makeRandomVertexColors(vertices, options) {\n  options = options || {};\n  const numElements = vertices.position.numElements;\n  const vColors = createAugmentedTypedArray(4, numElements, Uint8Array);\n  const rand = options.rand || function(ndx, channel) {\n    return channel < 3 ? randInt(256) : 255;\n  };\n  vertices.color = vColors;\n  if (vertices.indices) {\n    // just make random colors if index\n    for (let ii = 0; ii < numElements; ++ii) {\n      vColors.push(rand(ii, 0), rand(ii, 1), rand(ii, 2), rand(ii, 3));\n    }\n  } else {\n    // make random colors per triangle\n    const numVertsPerColor = options.vertsPerColor || 3;\n    const numSets = numElements / numVertsPerColor;\n    for (let ii = 0; ii < numSets; ++ii) {  // eslint-disable-line\n      const color = [rand(ii, 0), rand(ii, 1), rand(ii, 2), rand(ii, 3)];\n      for (let jj = 0; jj < numVertsPerColor; ++jj) {\n        vColors.push(color);\n      }\n    }\n  }\n  return vertices;\n}\n\n/**\n * creates a function that calls fn to create vertices and then\n * creates a buffers for them\n * @private\n */\nfunction createBufferFunc(fn) {\n  return function(gl) {\n    const arrays = fn.apply(this, Array.prototype.slice.call(arguments, 1));\n    return createBuffersFromArrays(gl, arrays);\n  };\n}\n\n/**\n * creates a function that calls fn to create vertices and then\n * creates a bufferInfo object for them\n * @private\n */\nfunction createBufferInfoFunc(fn) {\n  return function(gl) {\n    const arrays = fn.apply(null,  Array.prototype.slice.call(arguments, 1));\n    return createBufferInfoFromArrays(gl, arrays);\n  };\n}\n\nconst arraySpecPropertyNames = [\n  \"numComponents\",\n  \"size\",\n  \"type\",\n  \"normalize\",\n  \"stride\",\n  \"offset\",\n  \"attrib\",\n  \"name\",\n  \"attribName\",\n];\n\n/**\n * Copy elements from one array to another\n *\n * @param {Array|TypedArray} src source array\n * @param {Array|TypedArray} dst dest array\n * @param {number} dstNdx index in dest to copy src\n * @param {number} [offset] offset to add to copied values\n * @private\n */\nfunction copyElements(src, dst, dstNdx, offset) {\n  offset = offset || 0;\n  const length = src.length;\n  for (let ii = 0; ii < length; ++ii) {\n    dst[dstNdx + ii] = src[ii] + offset;\n  }\n}\n\n/**\n * Creates an array of the same time\n *\n * @param {(number[]|ArrayBufferView|module:twgl.FullArraySpec)} srcArray array who's type to copy\n * @param {number} length size of new array\n * @return {(number[]|ArrayBufferView|module:twgl.FullArraySpec)} array with same type as srcArray\n * @private\n */\nfunction createArrayOfSameType(srcArray, length) {\n  const arraySrc = getArray$1(srcArray);\n  const newArray = new arraySrc.constructor(length);\n  let newArraySpec = newArray;\n  // If it appears to have been augmented make new one augmented\n  if (arraySrc.numComponents && arraySrc.numElements) {\n    augmentTypedArray(newArray, arraySrc.numComponents);\n  }\n  // If it was a full spec make new one a full spec\n  if (srcArray.data) {\n    newArraySpec = {\n      data: newArray,\n    };\n    copyNamedProperties(arraySpecPropertyNames, srcArray, newArraySpec);\n  }\n  return newArraySpec;\n}\n\n/**\n * Concatenates sets of vertices\n *\n * Assumes the vertices match in composition. For example\n * if one set of vertices has positions, normals, and indices\n * all sets of vertices must have positions, normals, and indices\n * and of the same type.\n *\n * Example:\n *\n *      const cubeVertices = twgl.primitives.createCubeVertices(2);\n *      const sphereVertices = twgl.primitives.createSphereVertices(1, 10, 10);\n *      // move the sphere 2 units up\n *      twgl.primitives.reorientVertices(\n *          sphereVertices, twgl.m4.translation([0, 2, 0]));\n *      // merge the sphere with the cube\n *      const cubeSphereVertices = twgl.primitives.concatVertices(\n *          [cubeVertices, sphereVertices]);\n *      // turn them into WebGL buffers and attrib data\n *      const bufferInfo = twgl.createBufferInfoFromArrays(gl, cubeSphereVertices);\n *\n * @param {module:twgl.Arrays[]} arrays Array of arrays of vertices\n * @return {module:twgl.Arrays} The concatenated vertices.\n * @memberOf module:twgl/primitives\n */\nfunction concatVertices(arrayOfArrays) {\n  const names = {};\n  let baseName;\n  // get names of all arrays.\n  // and numElements for each set of vertices\n  for (let ii = 0; ii < arrayOfArrays.length; ++ii) {\n    const arrays = arrayOfArrays[ii];\n    Object.keys(arrays).forEach(function(name) {  // eslint-disable-line\n      if (!names[name]) {\n        names[name] = [];\n      }\n      if (!baseName && name !== 'indices') {\n        baseName = name;\n      }\n      const arrayInfo = arrays[name];\n      const numComponents = getNumComponents$1(arrayInfo, name);\n      const array = getArray$1(arrayInfo);\n      const numElements = array.length / numComponents;\n      names[name].push(numElements);\n    });\n  }\n\n  // compute length of combined array\n  // and return one for reference\n  function getLengthOfCombinedArrays(name) {\n    let length = 0;\n    let arraySpec;\n    for (let ii = 0; ii < arrayOfArrays.length; ++ii) {\n      const arrays = arrayOfArrays[ii];\n      const arrayInfo = arrays[name];\n      const array = getArray$1(arrayInfo);\n      length += array.length;\n      if (!arraySpec || arrayInfo.data) {\n        arraySpec = arrayInfo;\n      }\n    }\n    return {\n      length: length,\n      spec: arraySpec,\n    };\n  }\n\n  function copyArraysToNewArray(name, base, newArray) {\n    let baseIndex = 0;\n    let offset = 0;\n    for (let ii = 0; ii < arrayOfArrays.length; ++ii) {\n      const arrays = arrayOfArrays[ii];\n      const arrayInfo = arrays[name];\n      const array = getArray$1(arrayInfo);\n      if (name === 'indices') {\n        copyElements(array, newArray, offset, baseIndex);\n        baseIndex += base[ii];\n      } else {\n        copyElements(array, newArray, offset);\n      }\n      offset += array.length;\n    }\n  }\n\n  const base = names[baseName];\n\n  const newArrays = {};\n  Object.keys(names).forEach(function(name) {\n    const info = getLengthOfCombinedArrays(name);\n    const newArraySpec = createArrayOfSameType(info.spec, info.length);\n    copyArraysToNewArray(name, base, getArray$1(newArraySpec));\n    newArrays[name] = newArraySpec;\n  });\n  return newArrays;\n}\n\n/**\n * Creates a duplicate set of vertices\n *\n * This is useful for calling reorientVertices when you\n * also want to keep the original available\n *\n * @param {module:twgl.Arrays} arrays of vertices\n * @return {module:twgl.Arrays} The duplicated vertices.\n * @memberOf module:twgl/primitives\n */\nfunction duplicateVertices(arrays) {\n  const newArrays = {};\n  Object.keys(arrays).forEach(function(name) {\n    const arraySpec = arrays[name];\n    const srcArray = getArray$1(arraySpec);\n    const newArraySpec = createArrayOfSameType(arraySpec, srcArray.length);\n    copyElements(srcArray, getArray$1(newArraySpec), 0);\n    newArrays[name] = newArraySpec;\n  });\n  return newArrays;\n}\n\nconst create3DFBufferInfo = createBufferInfoFunc(create3DFVertices);\nconst create3DFBuffers = createBufferFunc(create3DFVertices);\nconst createCubeBufferInfo = createBufferInfoFunc(createCubeVertices);\nconst createCubeBuffers = createBufferFunc(createCubeVertices);\nconst createPlaneBufferInfo = createBufferInfoFunc(createPlaneVertices);\nconst createPlaneBuffers = createBufferFunc(createPlaneVertices);\nconst createSphereBufferInfo = createBufferInfoFunc(createSphereVertices);\nconst createSphereBuffers = createBufferFunc(createSphereVertices);\nconst createTruncatedConeBufferInfo = createBufferInfoFunc(createTruncatedConeVertices);\nconst createTruncatedConeBuffers = createBufferFunc(createTruncatedConeVertices);\nconst createXYQuadBufferInfo = createBufferInfoFunc(createXYQuadVertices);\nconst createXYQuadBuffers = createBufferFunc(createXYQuadVertices);\nconst createCrescentBufferInfo = createBufferInfoFunc(createCrescentVertices);\nconst createCrescentBuffers = createBufferFunc(createCrescentVertices);\nconst createCylinderBufferInfo = createBufferInfoFunc(createCylinderVertices);\nconst createCylinderBuffers = createBufferFunc(createCylinderVertices);\nconst createTorusBufferInfo = createBufferInfoFunc(createTorusVertices);\nconst createTorusBuffers = createBufferFunc(createTorusVertices);\nconst createDiscBufferInfo = createBufferInfoFunc(createDiscVertices);\nconst createDiscBuffers = createBufferFunc(createDiscVertices);\n\n// these were mis-spelled until 4.12\nconst createCresentBufferInfo = createCrescentBufferInfo;\nconst createCresentBuffers = createCrescentBuffers;\nconst createCresentVertices = createCrescentVertices;\n\nvar primitives = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create3DFBufferInfo: create3DFBufferInfo,\n  create3DFBuffers: create3DFBuffers,\n  create3DFVertices: create3DFVertices,\n  createAugmentedTypedArray: createAugmentedTypedArray,\n  createCubeBufferInfo: createCubeBufferInfo,\n  createCubeBuffers: createCubeBuffers,\n  createCubeVertices: createCubeVertices,\n  createPlaneBufferInfo: createPlaneBufferInfo,\n  createPlaneBuffers: createPlaneBuffers,\n  createPlaneVertices: createPlaneVertices,\n  createSphereBufferInfo: createSphereBufferInfo,\n  createSphereBuffers: createSphereBuffers,\n  createSphereVertices: createSphereVertices,\n  createTruncatedConeBufferInfo: createTruncatedConeBufferInfo,\n  createTruncatedConeBuffers: createTruncatedConeBuffers,\n  createTruncatedConeVertices: createTruncatedConeVertices,\n  createXYQuadBufferInfo: createXYQuadBufferInfo,\n  createXYQuadBuffers: createXYQuadBuffers,\n  createXYQuadVertices: createXYQuadVertices,\n  createCresentBufferInfo: createCresentBufferInfo,\n  createCresentBuffers: createCresentBuffers,\n  createCresentVertices: createCresentVertices,\n  createCrescentBufferInfo: createCrescentBufferInfo,\n  createCrescentBuffers: createCrescentBuffers,\n  createCrescentVertices: createCrescentVertices,\n  createCylinderBufferInfo: createCylinderBufferInfo,\n  createCylinderBuffers: createCylinderBuffers,\n  createCylinderVertices: createCylinderVertices,\n  createTorusBufferInfo: createTorusBufferInfo,\n  createTorusBuffers: createTorusBuffers,\n  createTorusVertices: createTorusVertices,\n  createDiscBufferInfo: createDiscBufferInfo,\n  createDiscBuffers: createDiscBuffers,\n  createDiscVertices: createDiscVertices,\n  deindexVertices: deindexVertices,\n  flattenNormals: flattenNormals,\n  makeRandomVertexColors: makeRandomVertexColors,\n  reorientDirections: reorientDirections,\n  reorientNormals: reorientNormals,\n  reorientPositions: reorientPositions,\n  reorientVertices: reorientVertices,\n  concatVertices: concatVertices,\n  duplicateVertices: duplicateVertices\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Gets the gl version as a number\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {number} version of gl\n * @private\n */\n//function getVersionAsNumber(gl) {\n//  return parseFloat(gl.getParameter(gl.VERSION).substr(6));\n//}\n\n/**\n * Check if context is WebGL 2.0\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {bool} true if it's WebGL 2.0\n * @memberOf module:twgl\n */\nfunction isWebGL2(gl) {\n  // This is the correct check but it's slow\n  //  return gl.getParameter(gl.VERSION).indexOf(\"WebGL 2.0\") === 0;\n  // This might also be the correct check but I'm assuming it's slow-ish\n  // return gl instanceof WebGL2RenderingContext;\n  return !!gl.texStorage2D;\n}\n\n/**\n * Check if context is WebGL 1.0\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {bool} true if it's WebGL 1.0\n * @memberOf module:twgl\n */\nfunction isWebGL1(gl) {\n  // This is the correct check but it's slow\n  // const version = getVersionAsNumber(gl);\n  // return version <= 1.0 && version > 0.0;  // because as of 2016/5 Edge returns 0.96\n  // This might also be the correct check but I'm assuming it's slow-ish\n  // return gl instanceof WebGLRenderingContext;\n  return !gl.texStorage2D;\n}\n\n/**\n * Gets a string for WebGL enum\n *\n * Note: Several enums are the same. Without more\n * context (which function) it's impossible to always\n * give the correct enum. As it is, for matching values\n * it gives all enums. Checking the WebGL2RenderingContext\n * that means\n *\n *      0     = ZERO | POINT | NONE | NO_ERROR\n *      1     = ONE | LINES | SYNC_FLUSH_COMMANDS_BIT\n *      32777 = BLEND_EQUATION_RGB | BLEND_EQUATION_RGB\n *      36662 = COPY_READ_BUFFER | COPY_READ_BUFFER_BINDING\n *      36663 = COPY_WRITE_BUFFER | COPY_WRITE_BUFFER_BINDING\n *      36006 = FRAMEBUFFER_BINDING | DRAW_FRAMEBUFFER_BINDING\n *\n * It's also not useful for bits really unless you pass in individual bits.\n * In other words\n *\n *     const bits = gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT;\n *     twgl.glEnumToString(gl, bits);  // not going to work\n *\n * Note that some enums only exist on extensions. If you\n * want them to show up you need to pass the extension at least\n * once. For example\n *\n *     const ext = gl.getExtension('WEBGL_compressed_texture_s3tc');\n *     if (ext) {\n *        twgl.glEnumToString(ext, 0);  // just prime the function\n *\n *        ..later..\n *\n *        const internalFormat = ext.COMPRESSED_RGB_S3TC_DXT1_EXT;\n *        console.log(twgl.glEnumToString(gl, internalFormat));\n *\n * Notice I didn't have to pass the extension the second time. This means\n * you can have place that generically gets an enum for texture formats for example.\n * and as long as you primed the function with the extensions\n *\n * If you're using `twgl.addExtensionsToContext` to enable your extensions\n * then twgl will automatically get the extension's enums.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext or any extension object\n * @param {number} value the value of the enum you want to look up.\n * @return {string} enum string or hex value\n * @memberOf module:twgl\n * @function glEnumToString\n */\nconst glEnumToString = (function() {\n  const haveEnumsForType = {};\n  const enums = {};\n\n  function addEnums(gl) {\n    const type = gl.constructor.name;\n    if (!haveEnumsForType[type]) {\n      for (const key in gl) {\n        if (typeof gl[key] === 'number') {\n          const existing = enums[gl[key]];\n          enums[gl[key]] = existing ? `${existing} | ${key}` : key;\n        }\n      }\n      haveEnumsForType[type] = true;\n    }\n  }\n\n  return function glEnumToString(gl, value) {\n    addEnums(gl);\n    return enums[value] || (\"0x\" + value.toString(16));\n  };\n}());\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  glEnumToString: glEnumToString,\n  isWebGL1: isWebGL1,\n  isWebGL2: isWebGL2\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nconst defaults$1 = {\n  textureColor: new Uint8Array([128, 192, 255, 255]),\n  textureOptions: {},\n  crossOrigin: undefined,\n};\nconst isArrayBuffer$1 = isArrayBuffer;\n\n// Should we make this on demand?\nconst getShared2DContext = function() {\n  let s_ctx;\n  return function getShared2DContext() {\n    s_ctx = s_ctx ||\n        ((typeof document !== 'undefined' && document.createElement)\n          ? document.createElement(\"canvas\").getContext(\"2d\")\n          : null);\n    return s_ctx;\n  };\n}();\n\n// NOTE: Chrome supports 2D canvas in a Worker (behind flag as of v64 but\n//       not only does Firefox NOT support it but Firefox freezes immediately\n//       if you try to create one instead of just returning null and continuing.\n//  : (global.OffscreenCanvas && (new global.OffscreenCanvas(1, 1)).getContext(\"2d\"));  // OffscreenCanvas may not support 2d\n\n// NOTE: We can maybe remove some of the need for the 2d canvas. In WebGL2\n// we can use the various unpack settings. Otherwise we could try using\n// the ability of an ImageBitmap to be cut. Unfortunately cutting an ImageBitmap\n// is async and the current TWGL code expects a non-Async result though that\n// might not be a problem. ImageBitmap though is not available in Edge or Safari\n// as of 2018-01-02\n\n/* PixelFormat */\nconst ALPHA                          = 0x1906;\nconst RGB                            = 0x1907;\nconst RGBA                           = 0x1908;\nconst LUMINANCE                      = 0x1909;\nconst LUMINANCE_ALPHA                = 0x190A;\nconst DEPTH_COMPONENT                = 0x1902;\nconst DEPTH_STENCIL                  = 0x84F9;\n\n/* TextureWrapMode */\n// const REPEAT                         = 0x2901;\n// const MIRRORED_REPEAT                = 0x8370;\nconst CLAMP_TO_EDGE                  = 0x812f;\n\n/* TextureMagFilter */\nconst NEAREST                        = 0x2600;\nconst LINEAR                         = 0x2601;\n\n/* TextureMinFilter */\n// const NEAREST_MIPMAP_NEAREST         = 0x2700;\n// const LINEAR_MIPMAP_NEAREST          = 0x2701;\n// const NEAREST_MIPMAP_LINEAR          = 0x2702;\n// const LINEAR_MIPMAP_LINEAR           = 0x2703;\n\n/* Texture Target */\nconst TEXTURE_2D                     = 0x0de1;\nconst TEXTURE_CUBE_MAP               = 0x8513;\nconst TEXTURE_3D                     = 0x806f;\nconst TEXTURE_2D_ARRAY               = 0x8c1a;\n\n/* Cubemap Targets */\nconst TEXTURE_CUBE_MAP_POSITIVE_X    = 0x8515;\nconst TEXTURE_CUBE_MAP_NEGATIVE_X    = 0x8516;\nconst TEXTURE_CUBE_MAP_POSITIVE_Y    = 0x8517;\nconst TEXTURE_CUBE_MAP_NEGATIVE_Y    = 0x8518;\nconst TEXTURE_CUBE_MAP_POSITIVE_Z    = 0x8519;\nconst TEXTURE_CUBE_MAP_NEGATIVE_Z    = 0x851a;\n\n/* Texture Parameters */\nconst TEXTURE_MIN_FILTER             = 0x2801;\nconst TEXTURE_MAG_FILTER             = 0x2800;\nconst TEXTURE_WRAP_S                 = 0x2802;\nconst TEXTURE_WRAP_T                 = 0x2803;\nconst TEXTURE_WRAP_R                 = 0x8072;\nconst TEXTURE_MIN_LOD                = 0x813a;\nconst TEXTURE_MAX_LOD                = 0x813b;\nconst TEXTURE_BASE_LEVEL             = 0x813c;\nconst TEXTURE_MAX_LEVEL              = 0x813d;\n\n\n/* Pixel store */\nconst UNPACK_ALIGNMENT                   = 0x0cf5;\nconst UNPACK_ROW_LENGTH                  = 0x0cf2;\nconst UNPACK_IMAGE_HEIGHT                = 0x806e;\nconst UNPACK_SKIP_PIXELS                 = 0x0cf4;\nconst UNPACK_SKIP_ROWS                   = 0x0cf3;\nconst UNPACK_SKIP_IMAGES                 = 0x806d;\nconst UNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243;\nconst UNPACK_PREMULTIPLY_ALPHA_WEBGL     = 0x9241;\nconst UNPACK_FLIP_Y_WEBGL                = 0x9240;\n\nconst R8                           = 0x8229;\nconst R8_SNORM                     = 0x8F94;\nconst R16F                         = 0x822D;\nconst R32F                         = 0x822E;\nconst R8UI                         = 0x8232;\nconst R8I                          = 0x8231;\nconst RG16UI                       = 0x823A;\nconst RG16I                        = 0x8239;\nconst RG32UI                       = 0x823C;\nconst RG32I                        = 0x823B;\nconst RG8                          = 0x822B;\nconst RG8_SNORM                    = 0x8F95;\nconst RG16F                        = 0x822F;\nconst RG32F                        = 0x8230;\nconst RG8UI                        = 0x8238;\nconst RG8I                         = 0x8237;\nconst R16UI                        = 0x8234;\nconst R16I                         = 0x8233;\nconst R32UI                        = 0x8236;\nconst R32I                         = 0x8235;\nconst RGB8                         = 0x8051;\nconst SRGB8                        = 0x8C41;\nconst RGB565                       = 0x8D62;\nconst RGB8_SNORM                   = 0x8F96;\nconst R11F_G11F_B10F               = 0x8C3A;\nconst RGB9_E5                      = 0x8C3D;\nconst RGB16F                       = 0x881B;\nconst RGB32F                       = 0x8815;\nconst RGB8UI                       = 0x8D7D;\nconst RGB8I                        = 0x8D8F;\nconst RGB16UI                      = 0x8D77;\nconst RGB16I                       = 0x8D89;\nconst RGB32UI                      = 0x8D71;\nconst RGB32I                       = 0x8D83;\nconst RGBA8                        = 0x8058;\nconst SRGB8_ALPHA8                 = 0x8C43;\nconst RGBA8_SNORM                  = 0x8F97;\nconst RGB5_A1                      = 0x8057;\nconst RGBA4                        = 0x8056;\nconst RGB10_A2                     = 0x8059;\nconst RGBA16F                      = 0x881A;\nconst RGBA32F                      = 0x8814;\nconst RGBA8UI                      = 0x8D7C;\nconst RGBA8I                       = 0x8D8E;\nconst RGB10_A2UI                   = 0x906F;\nconst RGBA16UI                     = 0x8D76;\nconst RGBA16I                      = 0x8D88;\nconst RGBA32I                      = 0x8D82;\nconst RGBA32UI                     = 0x8D70;\n\nconst DEPTH_COMPONENT16            = 0x81A5;\nconst DEPTH_COMPONENT24            = 0x81A6;\nconst DEPTH_COMPONENT32F           = 0x8CAC;\nconst DEPTH32F_STENCIL8            = 0x8CAD;\nconst DEPTH24_STENCIL8             = 0x88F0;\n\n/* DataType */\nconst BYTE$2                         = 0x1400;\nconst UNSIGNED_BYTE$2                = 0x1401;\nconst SHORT$2                        = 0x1402;\nconst UNSIGNED_SHORT$2               = 0x1403;\nconst INT$2                          = 0x1404;\nconst UNSIGNED_INT$2                 = 0x1405;\nconst FLOAT$2                        = 0x1406;\nconst UNSIGNED_SHORT_4_4_4_4$1       = 0x8033;\nconst UNSIGNED_SHORT_5_5_5_1$1       = 0x8034;\nconst UNSIGNED_SHORT_5_6_5$1         = 0x8363;\nconst HALF_FLOAT$1                   = 0x140B;\nconst HALF_FLOAT_OES               = 0x8D61;  // Thanks Khronos for making this different >:(\nconst UNSIGNED_INT_2_10_10_10_REV$1  = 0x8368;\nconst UNSIGNED_INT_10F_11F_11F_REV$1 = 0x8C3B;\nconst UNSIGNED_INT_5_9_9_9_REV$1     = 0x8C3E;\nconst FLOAT_32_UNSIGNED_INT_24_8_REV$1 = 0x8DAD;\nconst UNSIGNED_INT_24_8$1            = 0x84FA;\n\nconst RG                           = 0x8227;\nconst RG_INTEGER                   = 0x8228;\nconst RED                          = 0x1903;\nconst RED_INTEGER                  = 0x8D94;\nconst RGB_INTEGER                  = 0x8D98;\nconst RGBA_INTEGER                 = 0x8D99;\n\nconst formatInfo = {};\n{\n  // NOTE: this is named `numColorComponents` vs `numComponents` so we can let Uglify mangle\n  // the name.\n  const f = formatInfo;\n  f[ALPHA]           = { numColorComponents: 1, };\n  f[LUMINANCE]       = { numColorComponents: 1, };\n  f[LUMINANCE_ALPHA] = { numColorComponents: 2, };\n  f[RGB]             = { numColorComponents: 3, };\n  f[RGBA]            = { numColorComponents: 4, };\n  f[RED]             = { numColorComponents: 1, };\n  f[RED_INTEGER]     = { numColorComponents: 1, };\n  f[RG]              = { numColorComponents: 2, };\n  f[RG_INTEGER]      = { numColorComponents: 2, };\n  f[RGB]             = { numColorComponents: 3, };\n  f[RGB_INTEGER]     = { numColorComponents: 3, };\n  f[RGBA]            = { numColorComponents: 4, };\n  f[RGBA_INTEGER]    = { numColorComponents: 4, };\n  f[DEPTH_COMPONENT] = { numColorComponents: 1, };\n  f[DEPTH_STENCIL]   = { numColorComponents: 2, };\n}\n\n/**\n * @typedef {Object} TextureFormatDetails\n * @property {number} textureFormat format to pass texImage2D and similar functions.\n * @property {boolean} colorRenderable true if you can render to this format of texture.\n * @property {boolean} textureFilterable true if you can filter the texture, false if you can ony use `NEAREST`.\n * @property {number[]} type Array of possible types you can pass to texImage2D and similar function\n * @property {Object.<number,number>} bytesPerElementMap A map of types to bytes per element\n * @private\n */\n\nlet s_textureInternalFormatInfo;\nfunction getTextureInternalFormatInfo(internalFormat) {\n  if (!s_textureInternalFormatInfo) {\n    // NOTE: these properties need unique names so we can let Uglify mangle the name.\n    const t = {};\n    // unsized formats\n    t[ALPHA]              = { textureFormat: ALPHA,           colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1, 2, 2, 4],        type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2], };\n    t[LUMINANCE]          = { textureFormat: LUMINANCE,       colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1, 2, 2, 4],        type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2], };\n    t[LUMINANCE_ALPHA]    = { textureFormat: LUMINANCE_ALPHA, colorRenderable: true,  textureFilterable: true,  bytesPerElement: [2, 4, 4, 8],        type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2], };\n    t[RGB]                = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3, 6, 6, 12, 2],    type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2, UNSIGNED_SHORT_5_6_5$1], };\n    t[RGBA]               = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 8, 8, 16, 2, 2], type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2, UNSIGNED_SHORT_4_4_4_4$1, UNSIGNED_SHORT_5_5_5_1$1], };\n    t[DEPTH_COMPONENT]    = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [2, 4],              type: [UNSIGNED_INT$2, UNSIGNED_SHORT$2], };\n\n    // sized formats\n    t[R8]                 = { textureFormat: RED,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1],        type: [UNSIGNED_BYTE$2], };\n    t[R8_SNORM]           = { textureFormat: RED,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [1],        type: [BYTE$2], };\n    t[R16F]               = { textureFormat: RED,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [4, 2],     type: [FLOAT$2, HALF_FLOAT$1], };\n    t[R32F]               = { textureFormat: RED,             colorRenderable: false, textureFilterable: false, bytesPerElement: [4],        type: [FLOAT$2], };\n    t[R8UI]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [1],        type: [UNSIGNED_BYTE$2], };\n    t[R8I]                = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [1],        type: [BYTE$2], };\n    t[R16UI]              = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [UNSIGNED_SHORT$2], };\n    t[R16I]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [SHORT$2], };\n    t[R32UI]              = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT$2], };\n    t[R32I]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [INT$2], };\n    t[RG8]                = { textureFormat: RG,              colorRenderable: true,  textureFilterable: true,  bytesPerElement: [2],        type: [UNSIGNED_BYTE$2], };\n    t[RG8_SNORM]          = { textureFormat: RG,              colorRenderable: false, textureFilterable: true,  bytesPerElement: [2],        type: [BYTE$2], };\n    t[RG16F]              = { textureFormat: RG,              colorRenderable: false, textureFilterable: true,  bytesPerElement: [8, 4],     type: [FLOAT$2, HALF_FLOAT$1], };\n    t[RG32F]              = { textureFormat: RG,              colorRenderable: false, textureFilterable: false, bytesPerElement: [8],        type: [FLOAT$2], };\n    t[RG8UI]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [UNSIGNED_BYTE$2], };\n    t[RG8I]               = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [BYTE$2], };\n    t[RG16UI]             = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_SHORT$2], };\n    t[RG16I]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [SHORT$2], };\n    t[RG32UI]             = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [UNSIGNED_INT$2], };\n    t[RG32I]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [INT$2], };\n    t[RGB8]               = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3],        type: [UNSIGNED_BYTE$2], };\n    t[SRGB8]              = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [3],        type: [UNSIGNED_BYTE$2], };\n    t[RGB565]             = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3, 2],     type: [UNSIGNED_BYTE$2, UNSIGNED_SHORT_5_6_5$1], };\n    t[RGB8_SNORM]         = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [3],        type: [BYTE$2], };\n    t[R11F_G11F_B10F]     = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6, 4], type: [FLOAT$2, HALF_FLOAT$1, UNSIGNED_INT_10F_11F_11F_REV$1], };\n    t[RGB9_E5]            = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6, 4], type: [FLOAT$2, HALF_FLOAT$1, UNSIGNED_INT_5_9_9_9_REV$1], };\n    t[RGB16F]             = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6],    type: [FLOAT$2, HALF_FLOAT$1], };\n    t[RGB32F]             = { textureFormat: RGB,             colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [FLOAT$2], };\n    t[RGB8UI]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [3],        type: [UNSIGNED_BYTE$2], };\n    t[RGB8I]              = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [3],        type: [BYTE$2], };\n    t[RGB16UI]            = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [6],        type: [UNSIGNED_SHORT$2], };\n    t[RGB16I]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [6],        type: [SHORT$2], };\n    t[RGB32UI]            = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [UNSIGNED_INT$2], };\n    t[RGB32I]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [INT$2], };\n    t[RGBA8]              = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_BYTE$2], };\n    t[SRGB8_ALPHA8]       = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_BYTE$2], };\n    t[RGBA8_SNORM]        = { textureFormat: RGBA,            colorRenderable: false, textureFilterable: true,  bytesPerElement: [4],        type: [BYTE$2], };\n    t[RGB5_A1]            = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 2, 4],  type: [UNSIGNED_BYTE$2, UNSIGNED_SHORT_5_5_5_1$1, UNSIGNED_INT_2_10_10_10_REV$1], };\n    t[RGBA4]              = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 2],     type: [UNSIGNED_BYTE$2, UNSIGNED_SHORT_4_4_4_4$1], };\n    t[RGB10_A2]           = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_INT_2_10_10_10_REV$1], };\n    t[RGBA16F]            = { textureFormat: RGBA,            colorRenderable: false, textureFilterable: true,  bytesPerElement: [16, 8],    type: [FLOAT$2, HALF_FLOAT$1], };\n    t[RGBA32F]            = { textureFormat: RGBA,            colorRenderable: false, textureFilterable: false, bytesPerElement: [16],       type: [FLOAT$2], };\n    t[RGBA8UI]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_BYTE$2], };\n    t[RGBA8I]             = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [BYTE$2], };\n    t[RGB10_A2UI]         = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT_2_10_10_10_REV$1], };\n    t[RGBA16UI]           = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [UNSIGNED_SHORT$2], };\n    t[RGBA16I]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [SHORT$2], };\n    t[RGBA32I]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [16],       type: [INT$2], };\n    t[RGBA32UI]           = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [16],       type: [UNSIGNED_INT$2], };\n    // Sized Internal\n    t[DEPTH_COMPONENT16]  = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [2, 4],     type: [UNSIGNED_SHORT$2, UNSIGNED_INT$2], };\n    t[DEPTH_COMPONENT24]  = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT$2], };\n    t[DEPTH_COMPONENT32F] = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [FLOAT$2], };\n    t[DEPTH24_STENCIL8]   = { textureFormat: DEPTH_STENCIL,   colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT_24_8$1], };\n    t[DEPTH32F_STENCIL8]  = { textureFormat: DEPTH_STENCIL,   colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [FLOAT_32_UNSIGNED_INT_24_8_REV$1], };\n\n    Object.keys(t).forEach(function(internalFormat) {\n      const info = t[internalFormat];\n      info.bytesPerElementMap = {};\n      info.bytesPerElement.forEach(function(bytesPerElement, ndx) {\n        const type = info.type[ndx];\n        info.bytesPerElementMap[type] = bytesPerElement;\n      });\n    });\n    s_textureInternalFormatInfo = t;\n  }\n  return s_textureInternalFormatInfo[internalFormat];\n}\n\n/**\n * Gets the number of bytes per element for a given internalFormat / type\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @param {number} type The type parameter for texImage2D etc..\n * @return {number} the number of bytes per element for the given internalFormat, type combo\n * @memberOf module:twgl/textures\n */\nfunction getBytesPerElementForInternalFormat(internalFormat, type) {\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  const bytesPerElement = info.bytesPerElementMap[type];\n  if (bytesPerElement === undefined) {\n    throw \"unknown internal format\";\n  }\n  return bytesPerElement;\n}\n\n/**\n * Info related to a specific texture internalFormat as returned\n * from {@link module:twgl/textures.getFormatAndTypeForInternalFormat}.\n *\n * @typedef {Object} TextureFormatInfo\n * @property {number} format Format to pass to texImage2D and related functions\n * @property {number} type Type to pass to texImage2D and related functions\n * @memberOf module:twgl/textures\n */\n\n/**\n * Gets the format and type for a given internalFormat\n *\n * @param {number} internalFormat The internal format\n * @return {module:twgl/textures.TextureFormatInfo} the corresponding format and type,\n * @memberOf module:twgl/textures\n */\nfunction getFormatAndTypeForInternalFormat(internalFormat) {\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  return {\n    format: info.textureFormat,\n    type: info.type[0],\n  };\n}\n\n/**\n * Returns true if value is power of 2\n * @param {number} value number to check.\n * @return true if value is power of 2\n * @private\n */\nfunction isPowerOf2(value) {\n  return (value & (value - 1)) === 0;\n}\n\n/**\n * Gets whether or not we can generate mips for the given\n * internal format.\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {number} width The width parameter from texImage2D etc..\n * @param {number} height The height parameter from texImage2D etc..\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @return {boolean} true if we can generate mips\n * @memberOf module:twgl/textures\n */\nfunction canGenerateMipmap(gl, width, height, internalFormat) {\n  if (!isWebGL2(gl)) {\n    return isPowerOf2(width) && isPowerOf2(height);\n  }\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  return info.colorRenderable && info.textureFilterable;\n}\n\n/**\n * Gets whether or not we can generate mips for the given format\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @return {boolean} true if we can generate mips\n * @memberOf module:twgl/textures\n */\nfunction canFilter(internalFormat) {\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  return info.textureFilterable;\n}\n\n/**\n * Gets the number of components for a given image format.\n * @param {number} format the format.\n * @return {number} the number of components for the format.\n * @memberOf module:twgl/textures\n */\nfunction getNumComponentsForFormat(format) {\n  const info = formatInfo[format];\n  if (!info) {\n    throw \"unknown format: \" + format;\n  }\n  return info.numColorComponents;\n}\n\n/**\n * Gets the texture type for a given array type.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @return {number} the gl texture type\n * @private\n */\nfunction getTextureTypeForArrayType(gl, src, defaultType) {\n  if (isArrayBuffer$1(src)) {\n    return getGLTypeForTypedArray(src);\n  }\n  return defaultType || UNSIGNED_BYTE$2;\n}\n\nfunction guessDimensions(gl, target, width, height, numElements) {\n  if (numElements % 1 !== 0) {\n    throw \"can't guess dimensions\";\n  }\n  if (!width && !height) {\n    const size = Math.sqrt(numElements / (target === TEXTURE_CUBE_MAP ? 6 : 1));\n    if (size % 1 === 0) {\n      width = size;\n      height = size;\n    } else {\n      width = numElements;\n      height = 1;\n    }\n  } else if (!height) {\n    height = numElements / width;\n    if (height % 1) {\n      throw \"can't guess dimensions\";\n    }\n  } else if (!width) {\n    width = numElements / height;\n    if (width % 1) {\n      throw \"can't guess dimensions\";\n    }\n  }\n  return {\n    width: width,\n    height: height,\n  };\n}\n\n/**\n * Sets the default texture color.\n *\n * The default texture color is used when loading textures from\n * urls. Because the URL will be loaded async we'd like to be\n * able to use the texture immediately. By putting a 1x1 pixel\n * color in the texture we can start using the texture before\n * the URL has loaded.\n *\n * @param {number[]} color Array of 4 values in the range 0 to 1\n * @deprecated see {@link module:twgl.setDefaults}\n * @memberOf module:twgl/textures\n */\nfunction setDefaultTextureColor(color) {\n  defaults$1.textureColor = new Uint8Array([color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255]);\n}\n\nfunction setDefaults$1(newDefaults) {\n  copyExistingProperties(newDefaults, defaults$1);\n  if (newDefaults.textureColor) {\n    setDefaultTextureColor(newDefaults.textureColor);\n  }\n}\n\n/**\n * A function to generate the source for a texture.\n * @callback TextureFunc\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options the texture options\n * @return {*} Returns any of the things documented for `src` for {@link module:twgl.TextureOptions}.\n * @memberOf module:twgl\n */\n\n/**\n * Texture options passed to most texture functions. Each function will use whatever options\n * are appropriate for its needs. This lets you pass the same options to all functions.\n *\n * Note: A `TexImageSource` is defined in the WebGL spec as a `HTMLImageElement`, `HTMLVideoElement`,\n * `HTMLCanvasElement`, `ImageBitmap`, or `ImageData`.\n *\n * @typedef {Object} TextureOptions\n * @property {number} [target] the type of texture `gl.TEXTURE_2D` or `gl.TEXTURE_CUBE_MAP`. Defaults to `gl.TEXTURE_2D`.\n * @property {number} [level] the mip level to affect. Defaults to 0. Note, if set auto will be considered false unless explicitly set to true.\n * @property {number} [width] the width of the texture. Only used if src is an array or typed array or null.\n * @property {number} [height] the height of a texture. Only used if src is an array or typed array or null.\n * @property {number} [depth] the depth of a texture. Only used if src is an array or type array or null and target is `TEXTURE_3D` .\n * @property {number} [min] the min filter setting (eg. `gl.LINEAR`). Defaults to `gl.NEAREST_MIPMAP_LINEAR`\n *     or if texture is not a power of 2 on both dimensions then defaults to `gl.LINEAR`.\n * @property {number} [mag] the mag filter setting (eg. `gl.LINEAR`). Defaults to `gl.LINEAR`\n * @property {number} [minMag] both the min and mag filter settings.\n * @property {number} [internalFormat] internal format for texture. Defaults to `gl.RGBA`\n * @property {number} [format] format for texture. Defaults to `gl.RGBA`.\n * @property {number} [type] type for texture. Defaults to `gl.UNSIGNED_BYTE` unless `src` is ArrayBufferView. If `src`\n *     is ArrayBufferView defaults to type that matches ArrayBufferView type.\n * @property {number} [wrap] Texture wrapping for both S and T (and R if TEXTURE_3D or WebGLSampler). Defaults to `gl.REPEAT` for 2D unless src is WebGL1 and src not npot and `gl.CLAMP_TO_EDGE` for cube\n * @property {number} [wrapS] Texture wrapping for S. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [wrapT] Texture wrapping for T. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [wrapR] Texture wrapping for R. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [minLod] TEXTURE_MIN_LOD setting\n * @property {number} [maxLod] TEXTURE_MAX_LOD setting\n * @property {number} [baseLevel] TEXTURE_BASE_LEVEL setting\n * @property {number} [maxLevel] TEXTURE_MAX_LEVEL setting\n * @property {number} [unpackAlignment] The `gl.UNPACK_ALIGNMENT` used when uploading an array. Defaults to 1.\n * @property {number[]|ArrayBufferView} [color] Color to initialize this texture with if loading an image asynchronously.\n *     The default use a blue 1x1 pixel texture. You can set another default by calling `twgl.setDefaults`\n *     or you can set an individual texture's initial color by setting this property. Example: `[1, .5, .5, 1]` = pink\n * @property {number} [premultiplyAlpha] Whether or not to premultiply alpha. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {number} [flipY] Whether or not to flip the texture vertically on upload. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {number} [colorspaceConversion] Whether or not to let the browser do colorspace conversion of the texture on upload. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {boolean} [auto] If `undefined` or `true`, in WebGL1, texture filtering is set automatically for non-power of 2 images and\n *    mips are generated for power of 2 images. In WebGL2 mips are generated if they can be. Note: if `level` is set above\n *    then then `auto` is assumed to be `false` unless explicity set to `true`.\n * @property {number[]} [cubeFaceOrder] The order that cube faces are pulled out of an img or set of images. The default is\n *\n *     [gl.TEXTURE_CUBE_MAP_POSITIVE_X,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_X,\n *      gl.TEXTURE_CUBE_MAP_POSITIVE_Y,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,\n *      gl.TEXTURE_CUBE_MAP_POSITIVE_Z,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Z]\n *\n * @property {(number[]|ArrayBufferView|TexImageSource|TexImageSource[]|string|string[]|module:twgl.TextureFunc)} [src] source for texture\n *\n *    If `string` then it's assumed to be a URL to an image. The image will be downloaded async. A usable\n *    1x1 pixel texture will be returned immediately. The texture will be updated once the image has downloaded.\n *    If `target` is `gl.TEXTURE_CUBE_MAP` will attempt to divide image into 6 square pieces. 1x6, 6x1, 3x2, 2x3.\n *    The pieces will be uploaded in `cubeFaceOrder`\n *\n *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_CUBE_MAP` then it must have 6 entries, one for each face of a cube map.\n *\n *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_2D_ARRAY` then each entry is a slice of the a 2d array texture\n *    and will be scaled to the specified width and height OR to the size of the first image that loads.\n *\n *    If `TexImageSource` then it wil be used immediately to create the contents of the texture. Examples `HTMLImageElement`,\n *    `HTMLCanvasElement`, `HTMLVideoElement`.\n *\n *    If `number[]` or `ArrayBufferView` it's assumed to be data for a texture. If `width` or `height` is\n *    not specified it is guessed as follows. First the number of elements is computed by `src.length / numComponents`\n *    where `numComponents` is derived from `format`. If `target` is `gl.TEXTURE_CUBE_MAP` then `numElements` is divided\n *    by 6. Then\n *\n *    *   If neither `width` nor `height` are specified and `sqrt(numElements)` is an integer then width and height\n *        are set to `sqrt(numElements)`. Otherwise `width = numElements` and `height = 1`.\n *\n *    *   If only one of `width` or `height` is specified then the other equals `numElements / specifiedDimension`.\n *\n * If `number[]` will be converted to `type`.\n *\n * If `src` is a function it will be called with a `WebGLRenderingContext` and these options.\n * Whatever it returns is subject to these rules. So it can return a string url, an `HTMLElement`\n * an array etc...\n *\n * If `src` is undefined then an empty texture will be created of size `width` by `height`.\n *\n * @property {string} [crossOrigin] What to set the crossOrigin property of images when they are downloaded.\n *    default: undefined. Also see {@link module:twgl.setDefaults}.\n *\n * @memberOf module:twgl\n */\n\n// NOTE: While querying GL is considered slow it's not remotely as slow\n// as uploading a texture. On top of that you're unlikely to call this in\n// a perf critical loop. Even if upload a texture every frame that's unlikely\n// to be more than 1 or 2 textures a frame. In other words, the benefits of\n// making the API easy to use outweigh any supposed perf benefits\n//\n// Also note I get that having one global of these is bad practice.\n// As long as it's used correctly it means no garbage which probably\n// doesn't matter when dealing with textures but old habits die hard.\nconst lastPackState = {};\n\n/**\n * Saves any packing state that will be set based on the options.\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\nfunction savePackState(gl, options) {\n  if (options.colorspaceConversion !== undefined) {\n    lastPackState.colorspaceConversion = gl.getParameter(UNPACK_COLORSPACE_CONVERSION_WEBGL);\n    gl.pixelStorei(UNPACK_COLORSPACE_CONVERSION_WEBGL, options.colorspaceConversion);\n  }\n  if (options.premultiplyAlpha !== undefined) {\n    lastPackState.premultiplyAlpha = gl.getParameter(UNPACK_PREMULTIPLY_ALPHA_WEBGL);\n    gl.pixelStorei(UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.premultiplyAlpha);\n  }\n  if (options.flipY !== undefined) {\n    lastPackState.flipY = gl.getParameter(UNPACK_FLIP_Y_WEBGL);\n    gl.pixelStorei(UNPACK_FLIP_Y_WEBGL, options.flipY);\n  }\n}\n\n/**\n * Restores any packing state that was set based on the options.\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\nfunction restorePackState(gl, options) {\n  if (options.colorspaceConversion !== undefined) {\n    gl.pixelStorei(UNPACK_COLORSPACE_CONVERSION_WEBGL, lastPackState.colorspaceConversion);\n  }\n  if (options.premultiplyAlpha !== undefined) {\n    gl.pixelStorei(UNPACK_PREMULTIPLY_ALPHA_WEBGL, lastPackState.premultiplyAlpha);\n  }\n  if (options.flipY !== undefined) {\n    gl.pixelStorei(UNPACK_FLIP_Y_WEBGL, lastPackState.flipY);\n  }\n}\n\n/**\n * Saves state related to data size\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\nfunction saveSkipState(gl) {\n  lastPackState.unpackAlignment   = gl.getParameter(UNPACK_ALIGNMENT);\n  if (isWebGL2(gl)) {\n    lastPackState.unpackRowLength   = gl.getParameter(UNPACK_ROW_LENGTH);\n    lastPackState.unpackImageHeight = gl.getParameter(UNPACK_IMAGE_HEIGHT);\n    lastPackState.unpackSkipPixels  = gl.getParameter(UNPACK_SKIP_PIXELS);\n    lastPackState.unpackSkipRows    = gl.getParameter(UNPACK_SKIP_ROWS);\n    lastPackState.unpackSkipImages  = gl.getParameter(UNPACK_SKIP_IMAGES);\n  }\n}\n\n/**\n * Restores state related to data size\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\nfunction restoreSkipState(gl) {\n  gl.pixelStorei(UNPACK_ALIGNMENT,    lastPackState.unpackAlignment);\n  if (isWebGL2(gl)) {\n    gl.pixelStorei(UNPACK_ROW_LENGTH,   lastPackState.unpackRowLength);\n    gl.pixelStorei(UNPACK_IMAGE_HEIGHT, lastPackState.unpackImageHeight);\n    gl.pixelStorei(UNPACK_SKIP_PIXELS,  lastPackState.unpackSkipPixels);\n    gl.pixelStorei(UNPACK_SKIP_ROWS,    lastPackState.unpackSkipRows);\n    gl.pixelStorei(UNPACK_SKIP_IMAGES,  lastPackState.unpackSkipImages);\n  }\n}\n\n\n/**\n * Sets the parameters of a texture or sampler\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {number|WebGLSampler} target texture target or sampler\n * @param {function()} parameteriFn texParameteri or samplerParameteri fn\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @private\n */\nfunction setTextureSamplerParameters(gl, target, parameteriFn, options) {\n  if (options.minMag) {\n    parameteriFn.call(gl, target, TEXTURE_MIN_FILTER, options.minMag);\n    parameteriFn.call(gl, target, TEXTURE_MAG_FILTER, options.minMag);\n  }\n  if (options.min) {\n    parameteriFn.call(gl, target, TEXTURE_MIN_FILTER, options.min);\n  }\n  if (options.mag) {\n    parameteriFn.call(gl, target, TEXTURE_MAG_FILTER, options.mag);\n  }\n  if (options.wrap) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_S, options.wrap);\n    parameteriFn.call(gl, target, TEXTURE_WRAP_T, options.wrap);\n    if (target === TEXTURE_3D || isSampler(gl, target)) {\n      parameteriFn.call(gl, target, TEXTURE_WRAP_R, options.wrap);\n    }\n  }\n  if (options.wrapR) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_R, options.wrapR);\n  }\n  if (options.wrapS) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_S, options.wrapS);\n  }\n  if (options.wrapT) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_T, options.wrapT);\n  }\n  if (options.minLod) {\n    parameteriFn.call(gl, target, TEXTURE_MIN_LOD, options.minLod);\n  }\n  if (options.maxLod) {\n    parameteriFn.call(gl, target, TEXTURE_MAX_LOD, options.maxLod);\n  }\n  if (options.baseLevel) {\n    parameteriFn.call(gl, target, TEXTURE_BASE_LEVEL, options.baseLevel);\n  }\n  if (options.maxLevel) {\n    parameteriFn.call(gl, target, TEXTURE_MAX_LEVEL, options.maxLevel);\n  }\n}\n\n/**\n * Sets the texture parameters of a texture.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\nfunction setTextureParameters(gl, tex, options) {\n  const target = options.target || TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  setTextureSamplerParameters(gl, target, gl.texParameteri, options);\n}\n\n/**\n * Sets the sampler parameters of a sampler.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLSampler} sampler the WebGLSampler to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @memberOf module:twgl/textures\n */\nfunction setSamplerParameters(gl, sampler, options) {\n  setTextureSamplerParameters(gl, sampler, gl.samplerParameteri, options);\n}\n\n/**\n * Creates a new sampler object and sets parameters.\n *\n * Example:\n *\n *      const sampler = twgl.createSampler(gl, {\n *        minMag: gl.NEAREST,         // sets both TEXTURE_MIN_FILTER and TEXTURE_MAG_FILTER\n *        wrap: gl.CLAMP_TO_NEAREST,  // sets both TEXTURE_WRAP_S and TEXTURE_WRAP_T and TEXTURE_WRAP_R\n *      });\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string,module:twgl.TextureOptions>} options A object of TextureOptions one per sampler.\n * @return {Object.<string,WebGLSampler>} the created samplers by name\n * @private\n */\nfunction createSampler(gl, options) {\n  const sampler = gl.createSampler();\n  setSamplerParameters(gl, sampler, options);\n  return sampler;\n}\n\n/**\n * Creates a multiple sampler objects and sets parameters on each.\n *\n * Example:\n *\n *      const samplers = twgl.createSamplers(gl, {\n *        nearest: {\n *          minMag: gl.NEAREST,\n *        },\n *        nearestClampS: {\n *          minMag: gl.NEAREST,\n *          wrapS: gl.CLAMP_TO_NEAREST,\n *        },\n *        linear: {\n *          minMag: gl.LINEAR,\n *        },\n *        nearestClamp: {\n *          minMag: gl.NEAREST,\n *          wrap: gl.CLAMP_TO_EDGE,\n *        },\n *        linearClamp: {\n *          minMag: gl.LINEAR,\n *          wrap: gl.CLAMP_TO_EDGE,\n *        },\n *        linearClampT: {\n *          minMag: gl.LINEAR,\n *          wrapT: gl.CLAMP_TO_EDGE,\n *        },\n *      });\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set on the sampler\n * @private\n */\nfunction createSamplers(gl, samplerOptions) {\n  const samplers = {};\n  Object.keys(samplerOptions).forEach(function(name) {\n    samplers[name] = createSampler(gl, samplerOptions[name]);\n  });\n  return samplers;\n}\n\n/**\n * Makes a 1x1 pixel\n * If no color is passed in uses the default color which can be set by calling `setDefaultTextureColor`.\n * @param {(number[]|ArrayBufferView)} [color] The color using 0-1 values\n * @return {Uint8Array} Unit8Array with color.\n * @private\n */\nfunction make1Pixel(color) {\n  color = color || defaults$1.textureColor;\n  if (isArrayBuffer$1(color)) {\n    return color;\n  }\n  return new Uint8Array([color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255]);\n}\n\n/**\n * Sets filtering or generates mips for texture based on width or height\n * If width or height is not passed in uses `options.width` and//or `options.height`\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @param {number} [width] width of texture\n * @param {number} [height] height of texture\n * @param {number} [internalFormat] The internalFormat parameter from texImage2D etc..\n * @memberOf module:twgl/textures\n */\nfunction setTextureFilteringForSize(gl, tex, options, width, height, internalFormat) {\n  options = options || defaults$1.textureOptions;\n  internalFormat = internalFormat || RGBA;\n  const target = options.target || TEXTURE_2D;\n  width = width || options.width;\n  height = height || options.height;\n  gl.bindTexture(target, tex);\n  if (canGenerateMipmap(gl, width, height, internalFormat)) {\n    gl.generateMipmap(target);\n  } else {\n    const filtering = canFilter(internalFormat) ? LINEAR : NEAREST;\n    gl.texParameteri(target, TEXTURE_MIN_FILTER, filtering);\n    gl.texParameteri(target, TEXTURE_MAG_FILTER, filtering);\n    gl.texParameteri(target, TEXTURE_WRAP_S, CLAMP_TO_EDGE);\n    gl.texParameteri(target, TEXTURE_WRAP_T, CLAMP_TO_EDGE);\n  }\n}\n\nfunction shouldAutomaticallySetTextureFilteringForSize(options) {\n  return options.auto === true || (options.auto === undefined && options.level === undefined);\n}\n\n/**\n * Gets an array of cubemap face enums\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @return {number[]} cubemap face enums\n * @private\n */\nfunction getCubeFaceOrder(gl, options) {\n  options = options || {};\n  return options.cubeFaceOrder || [\n      TEXTURE_CUBE_MAP_POSITIVE_X,\n      TEXTURE_CUBE_MAP_NEGATIVE_X,\n      TEXTURE_CUBE_MAP_POSITIVE_Y,\n      TEXTURE_CUBE_MAP_NEGATIVE_Y,\n      TEXTURE_CUBE_MAP_POSITIVE_Z,\n      TEXTURE_CUBE_MAP_NEGATIVE_Z,\n    ];\n}\n\n/**\n * @typedef {Object} FaceInfo\n * @property {number} face gl enum for texImage2D\n * @property {number} ndx face index (0 - 5) into source data\n * @ignore\n */\n\n/**\n * Gets an array of FaceInfos\n * There's a bug in some NVidia drivers that will crash the driver if\n * `gl.TEXTURE_CUBE_MAP_POSITIVE_X` is not uploaded first. So, we take\n * the user's desired order from his faces to WebGL and make sure we\n * do the faces in WebGL order\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @return {FaceInfo[]} cubemap face infos. Arguably the `face` property of each element is redundant but\n *    it's needed internally to sort the array of `ndx` properties by `face`.\n * @private\n */\nfunction getCubeFacesWithNdx(gl, options) {\n  const faces = getCubeFaceOrder(gl, options);\n  // work around bug in NVidia drivers. We have to upload the first face first else the driver crashes :(\n  const facesWithNdx = faces.map(function(face, ndx) {\n    return { face: face, ndx: ndx };\n  });\n  facesWithNdx.sort(function(a, b) {\n    return a.face - b.face;\n  });\n  return facesWithNdx;\n}\n\n/**\n * Set a texture from the contents of an element. Will also set\n * texture filtering or generate mips based on the dimensions of the element\n * unless `options.auto === false`. If `target === gl.TEXTURE_CUBE_MAP` will\n * attempt to slice image into 1x6, 2x3, 3x2, or 6x1 images, one for each face.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {HTMLElement} element a canvas, img, or video element.\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n * @kind function\n */\nfunction setTextureFromElement(gl, tex, element, options) {\n  options = options || defaults$1.textureOptions;\n  const target = options.target || TEXTURE_2D;\n  const level = options.level || 0;\n  let width = element.width;\n  let height = element.height;\n  const internalFormat = options.internalFormat || options.format || RGBA;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || formatType.type;\n  savePackState(gl, options);\n  gl.bindTexture(target, tex);\n  if (target === TEXTURE_CUBE_MAP) {\n    // guess the parts\n    const imgWidth  = element.width;\n    const imgHeight = element.height;\n    let size;\n    let slices;\n    if (imgWidth / 6 === imgHeight) {\n      // It's 6x1\n      size = imgHeight;\n      slices = [0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0];\n    } else if (imgHeight / 6 === imgWidth) {\n      // It's 1x6\n      size = imgWidth;\n      slices = [0, 0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5];\n    } else if (imgWidth / 3 === imgHeight / 2) {\n      // It's 3x2\n      size = imgWidth / 3;\n      slices = [0, 0, 1, 0, 2, 0, 0, 1, 1, 1, 2, 1];\n    } else if (imgWidth / 2 === imgHeight / 3) {\n      // It's 2x3\n      size = imgWidth / 2;\n      slices = [0, 0, 1, 0, 0, 1, 1, 1, 0, 2, 1, 2];\n    } else {\n      throw \"can't figure out cube map from element: \" + (element.src ? element.src : element.nodeName);\n    }\n    const ctx = getShared2DContext();\n    if (ctx) {\n      ctx.canvas.width = size;\n      ctx.canvas.height = size;\n      width = size;\n      height = size;\n      getCubeFacesWithNdx(gl, options).forEach(function(f) {\n        const xOffset = slices[f.ndx * 2 + 0] * size;\n        const yOffset = slices[f.ndx * 2 + 1] * size;\n        ctx.drawImage(element, xOffset, yOffset, size, size, 0, 0, size, size);\n        gl.texImage2D(f.face, level, internalFormat, format, type, ctx.canvas);\n      });\n      // Free up the canvas memory\n      ctx.canvas.width = 1;\n      ctx.canvas.height = 1;\n    } else if (typeof createImageBitmap !== 'undefined') {\n      // NOTE: It seems like we should prefer ImageBitmap because unlike canvas it's\n      // note lossy? (alpha is not premultiplied? although I'm not sure what\n      width = size;\n      height = size;\n      getCubeFacesWithNdx(gl, options).forEach(function(f) {\n        const xOffset = slices[f.ndx * 2 + 0] * size;\n        const yOffset = slices[f.ndx * 2 + 1] * size;\n        // We can't easily use a default texture color here as it would have to match\n        // the type across all faces where as with a 2D one there's only one face\n        // so we're replacing everything all at once. It also has to be the correct size.\n        // On the other hand we need all faces to be the same size so as one face loads\n        // the rest match else the texture will be un-renderable.\n        gl.texImage2D(f.face, level, internalFormat, size, size, 0, format, type, null);\n        createImageBitmap(element, xOffset, yOffset, size, size, {\n          premultiplyAlpha: 'none',\n          colorSpaceConversion: 'none',\n        })\n        .then(function(imageBitmap) {\n          savePackState(gl, options);\n          gl.bindTexture(target, tex);\n          gl.texImage2D(f.face, level, internalFormat, format, type, imageBitmap);\n          restorePackState(gl, options);\n          if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n            setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);\n          }\n        });\n      });\n    }\n  } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {\n    const smallest = Math.min(element.width, element.height);\n    const largest = Math.max(element.width, element.height);\n    const depth = largest / smallest;\n    if (depth % 1 !== 0) {\n      throw \"can not compute 3D dimensions of element\";\n    }\n    const xMult = element.width  === largest ? 1 : 0;\n    const yMult = element.height === largest ? 1 : 0;\n    saveSkipState(gl);\n    gl.pixelStorei(UNPACK_ALIGNMENT, 1);\n    gl.pixelStorei(UNPACK_ROW_LENGTH, element.width);\n    gl.pixelStorei(UNPACK_IMAGE_HEIGHT, 0);\n    gl.pixelStorei(UNPACK_SKIP_IMAGES, 0);\n    gl.texImage3D(target, level, internalFormat, smallest, smallest, smallest, 0, format, type, null);\n    for (let d = 0; d < depth; ++d) {\n      const srcX = d * smallest * xMult;\n      const srcY = d * smallest * yMult;\n      gl.pixelStorei(UNPACK_SKIP_PIXELS, srcX);\n      gl.pixelStorei(UNPACK_SKIP_ROWS, srcY);\n      gl.texSubImage3D(target, level, 0, 0, d, smallest, smallest, 1, format, type, element);\n    }\n    restoreSkipState(gl);\n  } else {\n    gl.texImage2D(target, level, internalFormat, format, type, element);\n  }\n  restorePackState(gl, options);\n  if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n    setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);\n  }\n  setTextureParameters(gl, tex, options);\n}\n\nfunction noop() {\n}\n\n/**\n * Checks whether the url's origin is the same so that we can set the `crossOrigin`\n * @param {string} url url to image\n * @returns {boolean} true if the window's origin is the same as image's url\n * @private\n */\nfunction urlIsSameOrigin(url) {\n  if (typeof document !== 'undefined') {\n    // for IE really\n    const a = document.createElement('a');\n    a.href = url;\n    return a.hostname === location.hostname &&\n           a.port     === location.port &&\n           a.protocol === location.protocol;\n  } else {\n    const localOrigin = (new URL(location.href)).origin;\n    const urlOrigin = (new URL(url, location.href)).origin;\n    return urlOrigin === localOrigin;\n  }\n}\n\nfunction setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin) {\n  return crossOrigin === undefined && !urlIsSameOrigin(url)\n     ? 'anonymous'\n     : crossOrigin;\n}\n\n/**\n * Loads an image\n * @param {string} url url to image\n * @param {string} crossOrigin\n * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null\n *     if there was an error\n * @return {HTMLImageElement} the image being loaded.\n * @private\n */\nfunction loadImage(url, crossOrigin, callback) {\n  callback = callback || noop;\n  let img;\n  crossOrigin = crossOrigin !== undefined ? crossOrigin : defaults$1.crossOrigin;\n  crossOrigin = setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin);\n  if (typeof Image !== 'undefined') {\n    img = new Image();\n    if (crossOrigin !== undefined) {\n      img.crossOrigin = crossOrigin;\n    }\n\n    const clearEventHandlers = function clearEventHandlers() {\n      img.removeEventListener('error', onError);  // eslint-disable-line\n      img.removeEventListener('load', onLoad);  // eslint-disable-line\n      img = null;\n    };\n\n    const onError = function onError() {\n      const msg = \"couldn't load image: \" + url;\n      error(msg);\n      callback(msg, img);\n      clearEventHandlers();\n    };\n\n    const onLoad = function onLoad() {\n      callback(null, img);\n      clearEventHandlers();\n    };\n\n    img.addEventListener('error', onError);\n    img.addEventListener('load', onLoad);\n    img.src = url;\n    return img;\n  } else if (typeof ImageBitmap !== 'undefined') {\n    let err;\n    let bm;\n    const cb = function cb() {\n      callback(err, bm);\n    };\n\n    const options = {};\n    if (crossOrigin) {\n      options.mode = 'cors'; // TODO: not sure how to translate image.crossOrigin\n    }\n    fetch(url, options).then(function(response) {\n      if (!response.ok) {\n        throw response;\n      }\n      return response.blob();\n    }).then(function(blob) {\n      return createImageBitmap(blob, {\n        premultiplyAlpha: 'none',\n        colorSpaceConversion: 'none',\n      });\n    }).then(function(bitmap) {\n      // not sure if this works. We don't want\n      // to catch the user's error. So, call\n      // the callback in a timeout so we're\n      // not in this scope inside the promise.\n      bm = bitmap;\n      setTimeout(cb);\n    }).catch(function(e) {\n      err = e;\n      setTimeout(cb);\n    });\n    img = null;\n  }\n  return img;\n}\n\n/**\n * check if object is a TexImageSource\n *\n * @param {Object} obj Object to test\n * @return {boolean} true if object is a TexImageSource\n * @private\n */\nfunction isTexImageSource(obj) {\n  return (typeof ImageBitmap !== 'undefined' && obj instanceof ImageBitmap) ||\n         (typeof ImageData !== 'undefined'  && obj instanceof ImageData) ||\n         (typeof HTMLElement !== 'undefined'  && obj instanceof HTMLElement);\n}\n\n/**\n * if obj is an TexImageSource then just\n * uses it otherwise if obj is a string\n * then load it first.\n *\n * @param {string|TexImageSource} obj\n * @param {string} crossOrigin\n * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null\n *     if there was an error\n * @private\n */\nfunction loadAndUseImage(obj, crossOrigin, callback) {\n  if (isTexImageSource(obj)) {\n    setTimeout(function() {\n      callback(null, obj);\n    });\n    return obj;\n  }\n\n  return loadImage(obj, crossOrigin, callback);\n}\n\n/**\n * Sets a texture to a 1x1 pixel color. If `options.color === false` is nothing happens. If it's not set\n * the default texture color is used which can be set by calling `setDefaultTextureColor`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\nfunction setTextureTo1PixelColor(gl, tex, options) {\n  options = options || defaults$1.textureOptions;\n  const target = options.target || TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  if (options.color === false) {\n    return;\n  }\n  // Assume it's a URL\n  // Put 1x1 pixels in texture. That makes it renderable immediately regardless of filtering.\n  const color = make1Pixel(options.color);\n  if (target === TEXTURE_CUBE_MAP) {\n    for (let ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, 0, RGBA, 1, 1, 0, RGBA, UNSIGNED_BYTE$2, color);\n    }\n  } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {\n    gl.texImage3D(target, 0, RGBA, 1, 1, 1, 0, RGBA, UNSIGNED_BYTE$2, color);\n  } else {\n    gl.texImage2D(target, 0, RGBA, 1, 1, 0, RGBA, UNSIGNED_BYTE$2, color);\n  }\n}\n\n/**\n * The src image(s) used to create a texture.\n *\n * When you call {@link module:twgl.createTexture} or {@link module:twgl.createTextures}\n * you can pass in urls for images to load into the textures. If it's a single url\n * then this will be a single HTMLImageElement. If it's an array of urls used for a cubemap\n * this will be a corresponding array of images for the cubemap.\n *\n * @typedef {HTMLImageElement|HTMLImageElement[]} TextureSrc\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback TextureReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} texture the texture.\n * @param {module:twgl.TextureSrc} source image(s) used to as the src for the texture\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when all images have finished downloading and been uploaded into their respective textures\n * @callback TexturesReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {Object.<string, WebGLTexture>} textures the created textures by name. Same as returned by {@link module:twgl.createTextures}.\n * @param {Object.<string, module:twgl.TextureSrc>} sources the image(s) used for the texture by name.\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback CubemapReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} tex the texture.\n * @param {HTMLImageElement[]} imgs the images for each face.\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback ThreeDReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} tex the texture.\n * @param {HTMLImageElement[]} imgs the images for each slice.\n * @memberOf module:twgl\n */\n\n/**\n * Loads a texture from an image from a Url as specified in `options.src`\n * If `options.color !== false` will set the texture to a 1x1 pixel color so that the texture is\n * immediately useable. It will be updated with the contents of the image once the image has finished\n * downloading. Filtering options will be set as appropriate for image unless `options.auto === false`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.TextureReadyCallback} [callback] A function to be called when the image has finished loading. err will\n *    be non null if there was an error.\n * @return {HTMLImageElement} the image being downloaded.\n * @memberOf module:twgl/textures\n */\nfunction loadTextureFromUrl(gl, tex, options, callback) {\n  callback = callback || noop;\n  options = options || defaults$1.textureOptions;\n  setTextureTo1PixelColor(gl, tex, options);\n  // Because it's async we need to copy the options.\n  options = Object.assign({}, options);\n  const img = loadAndUseImage(options.src, options.crossOrigin, function(err, img) {\n    if (err) {\n      callback(err, tex, img);\n    } else {\n      setTextureFromElement(gl, tex, img, options);\n      callback(null, tex, img);\n    }\n  });\n  return img;\n}\n\n/**\n * Loads a cubemap from 6 urls or TexImageSources as specified in `options.src`. Will set the cubemap to a 1x1 pixel color\n * so that it is usable immediately unless `option.color === false`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.CubemapReadyCallback} [callback] A function to be called when all the images have finished loading. err will\n *    be non null if there was an error.\n * @memberOf module:twgl/textures\n */\nfunction loadCubemapFromUrls(gl, tex, options, callback) {\n  callback = callback || noop;\n  const urls = options.src;\n  if (urls.length !== 6) {\n    throw \"there must be 6 urls for a cubemap\";\n  }\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || UNSIGNED_BYTE$2;\n  const target = options.target || TEXTURE_2D;\n  if (target !== TEXTURE_CUBE_MAP) {\n    throw \"target must be TEXTURE_CUBE_MAP\";\n  }\n  setTextureTo1PixelColor(gl, tex, options);\n  // Because it's async we need to copy the options.\n  options = Object.assign({}, options);\n  let numToLoad = 6;\n  const errors = [];\n  const faces = getCubeFaceOrder(gl, options);\n  let imgs;  // eslint-disable-line\n\n  function uploadImg(faceTarget) {\n    return function(err, img) {\n      --numToLoad;\n      if (err) {\n        errors.push(err);\n      } else {\n        if (img.width !== img.height) {\n          errors.push(\"cubemap face img is not a square: \" + img.src);\n        } else {\n          savePackState(gl, options);\n          gl.bindTexture(target, tex);\n\n          // So assuming this is the first image we now have one face that's img sized\n          // and 5 faces that are 1x1 pixel so size the other faces\n          if (numToLoad === 5) {\n            // use the default order\n            getCubeFaceOrder().forEach(function(otherTarget) {\n              // Should we re-use the same face or a color?\n              gl.texImage2D(otherTarget, level, internalFormat, format, type, img);\n            });\n          } else {\n            gl.texImage2D(faceTarget, level, internalFormat, format, type, img);\n          }\n\n          restorePackState(gl, options);\n          if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n            gl.generateMipmap(target);\n          }\n        }\n      }\n\n      if (numToLoad === 0) {\n        callback(errors.length ? errors : undefined, tex, imgs);\n      }\n    };\n  }\n\n  imgs = urls.map(function(url, ndx) {\n    return loadAndUseImage(url, options.crossOrigin, uploadImg(faces[ndx]));\n  });\n}\n\n/**\n * Loads a 2d array or 3d texture from urls OR TexImageSources as specified in `options.src`.\n * Will set the texture to a 1x1 pixel color\n * so that it is usable immediately unless `option.color === false`.\n *\n * If the width and height is not specified the width and height of the first\n * image loaded will be used. Note that since images are loaded async\n * which image downloads first is unknown.\n *\n * If an image is not the same size as the width and height it will be scaled\n * to that width and height.\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.ThreeDReadyCallback} [callback] A function to be called when all the images have finished loading. err will\n *    be non null if there was an error.\n * @memberOf module:twgl/textures\n */\nfunction loadSlicesFromUrls(gl, tex, options, callback) {\n  callback = callback || noop;\n  const urls = options.src;\n  const internalFormat = options.internalFormat || options.format || RGBA;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || UNSIGNED_BYTE$2;\n  const target = options.target || TEXTURE_2D_ARRAY;\n  if (target !== TEXTURE_3D && target !== TEXTURE_2D_ARRAY) {\n    throw \"target must be TEXTURE_3D or TEXTURE_2D_ARRAY\";\n  }\n  setTextureTo1PixelColor(gl, tex, options);\n  // Because it's async we need to copy the options.\n  options = Object.assign({}, options);\n  let numToLoad = urls.length;\n  const errors = [];\n  let imgs;  // eslint-disable-line\n  const level = options.level || 0;\n  let width = options.width;\n  let height = options.height;\n  const depth = urls.length;\n  let firstImage = true;\n\n  function uploadImg(slice) {\n    return function(err, img) {\n      --numToLoad;\n      if (err) {\n        errors.push(err);\n      } else {\n        savePackState(gl, options);\n        gl.bindTexture(target, tex);\n\n        if (firstImage) {\n          firstImage = false;\n          width = options.width || img.width;\n          height = options.height || img.height;\n          gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, null);\n\n          // put it in every slice otherwise some slices will be 0,0,0,0\n          for (let s = 0; s < depth; ++s) {\n            gl.texSubImage3D(target, level, 0, 0, s, width, height, 1, format, type, img);\n          }\n        } else {\n          let src = img;\n          let ctx;\n          if (img.width !== width || img.height !== height) {\n            // Size the image to fix\n            ctx = getShared2DContext();\n            src = ctx.canvas;\n            ctx.canvas.width = width;\n            ctx.canvas.height = height;\n            ctx.drawImage(img, 0, 0, width, height);\n          }\n\n          gl.texSubImage3D(target, level, 0, 0, slice, width, height, 1, format, type, src);\n\n          // free the canvas memory\n          if (ctx && src === ctx.canvas) {\n            ctx.canvas.width = 0;\n            ctx.canvas.height = 0;\n          }\n        }\n\n        restorePackState(gl, options);\n        if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n          gl.generateMipmap(target);\n        }\n      }\n\n      if (numToLoad === 0) {\n        callback(errors.length ? errors : undefined, tex, imgs);\n      }\n    };\n  }\n\n  imgs = urls.map(function(url, ndx) {\n    return loadAndUseImage(url, options.crossOrigin, uploadImg(ndx));\n  });\n}\n\n/**\n * Sets a texture from an array or typed array. If the width or height is not provided will attempt to\n * guess the size. See {@link module:twgl.TextureOptions}.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {(number[]|ArrayBufferView)} src An array or typed arry with texture data.\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\nfunction setTextureFromArray(gl, tex, src, options) {\n  options = options || defaults$1.textureOptions;\n  const target = options.target || TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  let width = options.width;\n  let height = options.height;\n  let depth = options.depth;\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || getTextureTypeForArrayType(gl, src, formatType.type);\n  if (!isArrayBuffer$1(src)) {\n    const Type = getTypedArrayTypeForGLType(type);\n    src = new Type(src);\n  } else if (src instanceof Uint8ClampedArray) {\n    src = new Uint8Array(src.buffer);\n  }\n\n  const bytesPerElement = getBytesPerElementForInternalFormat(internalFormat, type);\n  const numElements = src.byteLength / bytesPerElement;  // TODO: check UNPACK_ALIGNMENT?\n  if (numElements % 1) {\n    throw \"length wrong size for format: \" + glEnumToString(gl, format);\n  }\n  let dimensions;\n  if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {\n    if (!width && !height && !depth) {\n      const size = Math.cbrt(numElements);\n      if (size % 1 !== 0) {\n        throw \"can't guess cube size of array of numElements: \" + numElements;\n      }\n      width = size;\n      height = size;\n      depth = size;\n    } else if (width && (!height || !depth)) {\n      dimensions = guessDimensions(gl, target, height, depth, numElements / width);\n      height = dimensions.width;\n      depth = dimensions.height;\n    } else if (height && (!width || !depth)) {\n      dimensions = guessDimensions(gl, target, width, depth, numElements / height);\n      width = dimensions.width;\n      depth = dimensions.height;\n    } else {\n      dimensions = guessDimensions(gl, target, width, height, numElements / depth);\n      width = dimensions.width;\n      height = dimensions.height;\n    }\n  } else {\n    dimensions = guessDimensions(gl, target, width, height, numElements);\n    width = dimensions.width;\n    height = dimensions.height;\n  }\n  saveSkipState(gl);\n  gl.pixelStorei(UNPACK_ALIGNMENT, options.unpackAlignment || 1);\n  savePackState(gl, options);\n  if (target === TEXTURE_CUBE_MAP) {\n    const elementsPerElement = bytesPerElement / src.BYTES_PER_ELEMENT;\n    const faceSize = numElements / 6 * elementsPerElement;\n\n    getCubeFacesWithNdx(gl, options).forEach(f => {\n      const offset = faceSize * f.ndx;\n      const data = src.subarray(offset, offset + faceSize);\n      gl.texImage2D(f.face, level, internalFormat, width, height, 0, format, type, data);\n    });\n  } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {\n    gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, src);\n  } else {\n    gl.texImage2D(target, level, internalFormat, width, height, 0, format, type, src);\n  }\n  restorePackState(gl, options);\n  restoreSkipState(gl);\n  return {\n    width: width,\n    height: height,\n    depth: depth,\n    type: type,\n  };\n}\n\n/**\n * Sets a texture with no contents of a certain size. In other words calls `gl.texImage2D` with `null`.\n * You must set `options.width` and `options.height`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @memberOf module:twgl/textures\n */\nfunction setEmptyTexture(gl, tex, options) {\n  const target = options.target || TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || formatType.type;\n  savePackState(gl, options);\n  if (target === TEXTURE_CUBE_MAP) {\n    for (let ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, level, internalFormat, options.width, options.height, 0, format, type, null);\n    }\n  } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {\n    gl.texImage3D(target, level, internalFormat, options.width, options.height, options.depth, 0, format, type, null);\n  } else {\n    gl.texImage2D(target, level, internalFormat, options.width, options.height, 0, format, type, null);\n  }\n  restorePackState(gl, options);\n}\n\n/**\n * Creates a texture based on the options passed in.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.TextureReadyCallback} [callback] A callback called when an image has been downloaded and uploaded to the texture.\n * @return {WebGLTexture} the created texture.\n * @memberOf module:twgl/textures\n */\nfunction createTexture(gl, options, callback) {\n  callback = callback || noop;\n  options = options || defaults$1.textureOptions;\n  const tex = gl.createTexture();\n  const target = options.target || TEXTURE_2D;\n  let width  = options.width  || 1;\n  let height = options.height || 1;\n  const internalFormat = options.internalFormat || RGBA;\n  gl.bindTexture(target, tex);\n  if (target === TEXTURE_CUBE_MAP) {\n    // this should have been the default for cubemaps :(\n    gl.texParameteri(target, TEXTURE_WRAP_S, CLAMP_TO_EDGE);\n    gl.texParameteri(target, TEXTURE_WRAP_T, CLAMP_TO_EDGE);\n  }\n  let src = options.src;\n  if (src) {\n    if (typeof src === \"function\") {\n      src = src(gl, options);\n    }\n    if (typeof (src) === \"string\") {\n      loadTextureFromUrl(gl, tex, options, callback);\n    } else if (isArrayBuffer$1(src) ||\n               (Array.isArray(src) && (\n                    typeof src[0] === 'number' ||\n                    Array.isArray(src[0]) ||\n                    isArrayBuffer$1(src[0]))\n               )\n              ) {\n      const dimensions = setTextureFromArray(gl, tex, src, options);\n      width  = dimensions.width;\n      height = dimensions.height;\n    } else if (Array.isArray(src) && (typeof (src[0]) === 'string' || isTexImageSource(src[0]))) {\n      if (target === TEXTURE_CUBE_MAP) {\n        loadCubemapFromUrls(gl, tex, options, callback);\n      } else {\n        loadSlicesFromUrls(gl, tex, options, callback);\n      }\n    } else { // if (isTexImageSource(src))\n      setTextureFromElement(gl, tex, src, options);\n      width  = src.width;\n      height = src.height;\n    }\n  } else {\n    setEmptyTexture(gl, tex, options);\n  }\n  if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n    setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);\n  }\n  setTextureParameters(gl, tex, options);\n  return tex;\n}\n\n/**\n * Resizes a texture based on the options passed in.\n *\n * Note: This is not a generic resize anything function.\n * It's mostly used by {@link module:twgl.resizeFramebufferInfo}\n * It will use `options.src` if it exists to try to determine a `type`\n * otherwise it will assume `gl.UNSIGNED_BYTE`. No data is provided\n * for the texture. Texture parameters will be set accordingly\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the texture to resize\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {number} [width] the new width. If not passed in will use `options.width`\n * @param {number} [height] the new height. If not passed in will use `options.height`\n * @param {number} [depth] the new depth. If not passed in will use `options.depth`\n * @memberOf module:twgl/textures\n */\nfunction resizeTexture(gl, tex, options, width, height, depth) {\n  width = width || options.width;\n  height = height || options.height;\n  depth = depth || options.depth;\n  const target = options.target || TEXTURE_2D;\n  gl.bindTexture(target, tex);\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  let type;\n  const src = options.src;\n  if (!src) {\n    type = options.type || formatType.type;\n  } else if (isArrayBuffer$1(src) || (Array.isArray(src) && typeof (src[0]) === 'number')) {\n    type = options.type || getTextureTypeForArrayType(gl, src, formatType.type);\n  } else {\n    type = options.type || formatType.type;\n  }\n  if (target === TEXTURE_CUBE_MAP) {\n    for (let ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, level, internalFormat, width, height, 0, format, type, null);\n    }\n  } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {\n    gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, null);\n  } else {\n    gl.texImage2D(target, level, internalFormat, width, height, 0, format, type, null);\n  }\n}\n\n/**\n * Check if a src is an async request.\n * if src is a string we're going to download an image\n * if src is an array of strings we're going to download cubemap images\n * @param {*} src The src from a TextureOptions\n * @returns {bool} true if src is async.\n * @private\n */\nfunction isAsyncSrc(src) {\n  return typeof src === 'string' ||\n         (Array.isArray(src) && typeof src[0] === 'string');\n}\n\n/**\n * Creates a bunch of textures based on the passed in options.\n *\n * Example:\n *\n *     const textures = twgl.createTextures(gl, {\n *       // a power of 2 image\n *       hftIcon: { src: \"images/hft-icon-16.png\", mag: gl.NEAREST },\n *       // a non-power of 2 image\n *       clover: { src: \"images/clover.jpg\" },\n *       // From a canvas\n *       fromCanvas: { src: ctx.canvas },\n *       // A cubemap from 6 images\n *       yokohama: {\n *         target: gl.TEXTURE_CUBE_MAP,\n *         src: [\n *           'images/yokohama/posx.jpg',\n *           'images/yokohama/negx.jpg',\n *           'images/yokohama/posy.jpg',\n *           'images/yokohama/negy.jpg',\n *           'images/yokohama/posz.jpg',\n *           'images/yokohama/negz.jpg',\n *         ],\n *       },\n *       // A cubemap from 1 image (can be 1x6, 2x3, 3x2, 6x1)\n *       goldengate: {\n *         target: gl.TEXTURE_CUBE_MAP,\n *         src: 'images/goldengate.jpg',\n *       },\n *       // A 2x2 pixel texture from a JavaScript array\n *       checker: {\n *         mag: gl.NEAREST,\n *         min: gl.LINEAR,\n *         src: [\n *           255,255,255,255,\n *           192,192,192,255,\n *           192,192,192,255,\n *           255,255,255,255,\n *         ],\n *       },\n *       // a 1x2 pixel texture from a typed array.\n *       stripe: {\n *         mag: gl.NEAREST,\n *         min: gl.LINEAR,\n *         format: gl.LUMINANCE,\n *         src: new Uint8Array([\n *           255,\n *           128,\n *           255,\n *           128,\n *           255,\n *           128,\n *           255,\n *           128,\n *         ]),\n *         width: 1,\n *       },\n *     });\n *\n * Now\n *\n * *   `textures.hftIcon` will be a 2d texture\n * *   `textures.clover` will be a 2d texture\n * *   `textures.fromCanvas` will be a 2d texture\n * *   `textures.yohohama` will be a cubemap texture\n * *   `textures.goldengate` will be a cubemap texture\n * *   `textures.checker` will be a 2d texture\n * *   `textures.stripe` will be a 2d texture\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string,module:twgl.TextureOptions>} options A object of TextureOptions one per texture.\n * @param {module:twgl.TexturesReadyCallback} [callback] A callback called when all textures have been downloaded.\n * @return {Object.<string,WebGLTexture>} the created textures by name\n * @memberOf module:twgl/textures\n */\nfunction createTextures(gl, textureOptions, callback) {\n  callback = callback || noop;\n  let numDownloading = 0;\n  const errors = [];\n  const textures = {};\n  const images = {};\n\n  function callCallbackIfReady() {\n    if (numDownloading === 0) {\n      setTimeout(function() {\n        callback(errors.length ? errors : undefined, textures, images);\n      }, 0);\n    }\n  }\n\n  Object.keys(textureOptions).forEach(function(name) {\n    const options = textureOptions[name];\n    let onLoadFn;\n    if (isAsyncSrc(options.src)) {\n      onLoadFn = function(err, tex, img) {\n        images[name] = img;\n        --numDownloading;\n        if (err) {\n          errors.push(err);\n        }\n        callCallbackIfReady();\n      };\n      ++numDownloading;\n    }\n    textures[name] = createTexture(gl, options, onLoadFn);\n  });\n\n  // queue the callback if there are no images to download.\n  // We do this because if your code is structured to wait for\n  // images to download but then you comment out all the async\n  // images your code would break.\n  callCallbackIfReady();\n\n  return textures;\n}\n\nvar textures = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  setTextureDefaults_: setDefaults$1,\n  createSampler: createSampler,\n  createSamplers: createSamplers,\n  setSamplerParameters: setSamplerParameters,\n  createTexture: createTexture,\n  setEmptyTexture: setEmptyTexture,\n  setTextureFromArray: setTextureFromArray,\n  loadTextureFromUrl: loadTextureFromUrl,\n  setTextureFromElement: setTextureFromElement,\n  setTextureFilteringForSize: setTextureFilteringForSize,\n  setTextureParameters: setTextureParameters,\n  setDefaultTextureColor: setDefaultTextureColor,\n  createTextures: createTextures,\n  resizeTexture: resizeTexture,\n  canGenerateMipmap: canGenerateMipmap,\n  canFilter: canFilter,\n  getNumComponentsForFormat: getNumComponentsForFormat,\n  getBytesPerElementForInternalFormat: getBytesPerElementForInternalFormat,\n  getFormatAndTypeForInternalFormat: getFormatAndTypeForInternalFormat\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Low level shader program related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibility they are available at both `twgl.programs` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/programs\n */\n\nconst error$1 = error;\nconst warn$1 = warn;\nfunction getElementById(id) {\n  return (typeof document !== 'undefined' && document.getElementById)\n      ? document.getElementById(id)\n      : null;\n}\n\nconst TEXTURE0                       = 0x84c0;\nconst DYNAMIC_DRAW                   = 0x88e8;\n\nconst ARRAY_BUFFER$1                   = 0x8892;\nconst ELEMENT_ARRAY_BUFFER$1           = 0x8893;\nconst UNIFORM_BUFFER                 = 0x8a11;\nconst TRANSFORM_FEEDBACK_BUFFER      = 0x8c8e;\n\nconst TRANSFORM_FEEDBACK             = 0x8e22;\n\nconst COMPILE_STATUS                 = 0x8b81;\nconst LINK_STATUS                    = 0x8b82;\nconst FRAGMENT_SHADER                = 0x8b30;\nconst VERTEX_SHADER                  = 0x8b31;\nconst SEPARATE_ATTRIBS               = 0x8c8d;\n\nconst ACTIVE_UNIFORMS                = 0x8b86;\nconst ACTIVE_ATTRIBUTES              = 0x8b89;\nconst TRANSFORM_FEEDBACK_VARYINGS    = 0x8c83;\nconst ACTIVE_UNIFORM_BLOCKS          = 0x8a36;\nconst UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER   = 0x8a44;\nconst UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER = 0x8a46;\nconst UNIFORM_BLOCK_DATA_SIZE                     = 0x8a40;\nconst UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES        = 0x8a43;\n\nconst FLOAT$3                         = 0x1406;\nconst FLOAT_VEC2                    = 0x8B50;\nconst FLOAT_VEC3                    = 0x8B51;\nconst FLOAT_VEC4                    = 0x8B52;\nconst INT$3                           = 0x1404;\nconst INT_VEC2                      = 0x8B53;\nconst INT_VEC3                      = 0x8B54;\nconst INT_VEC4                      = 0x8B55;\nconst BOOL                          = 0x8B56;\nconst BOOL_VEC2                     = 0x8B57;\nconst BOOL_VEC3                     = 0x8B58;\nconst BOOL_VEC4                     = 0x8B59;\nconst FLOAT_MAT2                    = 0x8B5A;\nconst FLOAT_MAT3                    = 0x8B5B;\nconst FLOAT_MAT4                    = 0x8B5C;\nconst SAMPLER_2D                    = 0x8B5E;\nconst SAMPLER_CUBE                  = 0x8B60;\nconst SAMPLER_3D                    = 0x8B5F;\nconst SAMPLER_2D_SHADOW             = 0x8B62;\nconst FLOAT_MAT2x3                  = 0x8B65;\nconst FLOAT_MAT2x4                  = 0x8B66;\nconst FLOAT_MAT3x2                  = 0x8B67;\nconst FLOAT_MAT3x4                  = 0x8B68;\nconst FLOAT_MAT4x2                  = 0x8B69;\nconst FLOAT_MAT4x3                  = 0x8B6A;\nconst SAMPLER_2D_ARRAY              = 0x8DC1;\nconst SAMPLER_2D_ARRAY_SHADOW       = 0x8DC4;\nconst SAMPLER_CUBE_SHADOW           = 0x8DC5;\nconst UNSIGNED_INT$3                  = 0x1405;\nconst UNSIGNED_INT_VEC2             = 0x8DC6;\nconst UNSIGNED_INT_VEC3             = 0x8DC7;\nconst UNSIGNED_INT_VEC4             = 0x8DC8;\nconst INT_SAMPLER_2D                = 0x8DCA;\nconst INT_SAMPLER_3D                = 0x8DCB;\nconst INT_SAMPLER_CUBE              = 0x8DCC;\nconst INT_SAMPLER_2D_ARRAY          = 0x8DCF;\nconst UNSIGNED_INT_SAMPLER_2D       = 0x8DD2;\nconst UNSIGNED_INT_SAMPLER_3D       = 0x8DD3;\nconst UNSIGNED_INT_SAMPLER_CUBE     = 0x8DD4;\nconst UNSIGNED_INT_SAMPLER_2D_ARRAY = 0x8DD7;\n\nconst TEXTURE_2D$1                    = 0x0DE1;\nconst TEXTURE_CUBE_MAP$1              = 0x8513;\nconst TEXTURE_3D$1                    = 0x806F;\nconst TEXTURE_2D_ARRAY$1              = 0x8C1A;\n\nconst typeMap = {};\n\n/**\n * Returns the corresponding bind point for a given sampler type\n */\nfunction getBindPointForSamplerType(gl, type) {\n  return typeMap[type].bindPoint;\n}\n\n// This kind of sucks! If you could compose functions as in `var fn = gl[name];`\n// this code could be a lot smaller but that is sadly really slow (T_T)\n\nfunction floatSetter(gl, location) {\n  return function(v) {\n    gl.uniform1f(location, v);\n  };\n}\n\nfunction floatArraySetter(gl, location) {\n  return function(v) {\n    gl.uniform1fv(location, v);\n  };\n}\n\nfunction floatVec2Setter(gl, location) {\n  return function(v) {\n    gl.uniform2fv(location, v);\n  };\n}\n\nfunction floatVec3Setter(gl, location) {\n  return function(v) {\n    gl.uniform3fv(location, v);\n  };\n}\n\nfunction floatVec4Setter(gl, location) {\n  return function(v) {\n    gl.uniform4fv(location, v);\n  };\n}\n\nfunction intSetter(gl, location) {\n  return function(v) {\n    gl.uniform1i(location, v);\n  };\n}\n\nfunction intArraySetter(gl, location) {\n  return function(v) {\n    gl.uniform1iv(location, v);\n  };\n}\n\nfunction intVec2Setter(gl, location) {\n  return function(v) {\n    gl.uniform2iv(location, v);\n  };\n}\n\nfunction intVec3Setter(gl, location) {\n  return function(v) {\n    gl.uniform3iv(location, v);\n  };\n}\n\nfunction intVec4Setter(gl, location) {\n  return function(v) {\n    gl.uniform4iv(location, v);\n  };\n}\n\nfunction uintSetter(gl, location) {\n  return function(v) {\n    gl.uniform1ui(location, v);\n  };\n}\n\nfunction uintArraySetter(gl, location) {\n  return function(v) {\n    gl.uniform1uiv(location, v);\n  };\n}\n\nfunction uintVec2Setter(gl, location) {\n  return function(v) {\n    gl.uniform2uiv(location, v);\n  };\n}\n\nfunction uintVec3Setter(gl, location) {\n  return function(v) {\n    gl.uniform3uiv(location, v);\n  };\n}\n\nfunction uintVec4Setter(gl, location) {\n  return function(v) {\n    gl.uniform4uiv(location, v);\n  };\n}\n\nfunction floatMat2Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix2fv(location, false, v);\n  };\n}\n\nfunction floatMat3Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix3fv(location, false, v);\n  };\n}\n\nfunction floatMat4Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix4fv(location, false, v);\n  };\n}\n\nfunction floatMat23Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix2x3fv(location, false, v);\n  };\n}\n\nfunction floatMat32Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix3x2fv(location, false, v);\n  };\n}\n\nfunction floatMat24Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix2x4fv(location, false, v);\n  };\n}\n\nfunction floatMat42Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix4x2fv(location, false, v);\n  };\n}\n\nfunction floatMat34Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix3x4fv(location, false, v);\n  };\n}\n\nfunction floatMat43Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix4x3fv(location, false, v);\n  };\n}\n\nfunction samplerSetter(gl, type, unit, location) {\n  const bindPoint = getBindPointForSamplerType(gl, type);\n  return isWebGL2(gl) ? function(textureOrPair) {\n    let texture;\n    let sampler;\n    if (isTexture(gl, textureOrPair)) {\n      texture = textureOrPair;\n      sampler = null;\n    } else {\n      texture = textureOrPair.texture;\n      sampler = textureOrPair.sampler;\n    }\n    gl.uniform1i(location, unit);\n    gl.activeTexture(TEXTURE0 + unit);\n    gl.bindTexture(bindPoint, texture);\n    gl.bindSampler(unit, sampler);\n  } : function(texture) {\n    gl.uniform1i(location, unit);\n    gl.activeTexture(TEXTURE0 + unit);\n    gl.bindTexture(bindPoint, texture);\n  };\n}\n\nfunction samplerArraySetter(gl, type, unit, location, size) {\n  const bindPoint = getBindPointForSamplerType(gl, type);\n  const units = new Int32Array(size);\n  for (let ii = 0; ii < size; ++ii) {\n    units[ii] = unit + ii;\n  }\n\n  return isWebGL2(gl) ? function(textures) {\n    gl.uniform1iv(location, units);\n    textures.forEach(function(textureOrPair, index) {\n      gl.activeTexture(TEXTURE0 + units[index]);\n      let texture;\n      let sampler;\n      if (isTexture(gl, textureOrPair)) {\n        texture = textureOrPair;\n        sampler = null;\n      } else {\n        texture = textureOrPair.texture;\n        sampler = textureOrPair.sampler;\n      }\n      gl.bindSampler(unit, sampler);\n      gl.bindTexture(bindPoint, texture);\n    });\n  } : function(textures) {\n    gl.uniform1iv(location, units);\n    textures.forEach(function(texture, index) {\n      gl.activeTexture(TEXTURE0 + units[index]);\n      gl.bindTexture(bindPoint, texture);\n    });\n  };\n}\n\ntypeMap[FLOAT$3]                         = { Type: Float32Array, size:  4, setter: floatSetter,      arraySetter: floatArraySetter, };\ntypeMap[FLOAT_VEC2]                    = { Type: Float32Array, size:  8, setter: floatVec2Setter,  };\ntypeMap[FLOAT_VEC3]                    = { Type: Float32Array, size: 12, setter: floatVec3Setter,  };\ntypeMap[FLOAT_VEC4]                    = { Type: Float32Array, size: 16, setter: floatVec4Setter,  };\ntypeMap[INT$3]                           = { Type: Int32Array,   size:  4, setter: intSetter,        arraySetter: intArraySetter, };\ntypeMap[INT_VEC2]                      = { Type: Int32Array,   size:  8, setter: intVec2Setter,    };\ntypeMap[INT_VEC3]                      = { Type: Int32Array,   size: 12, setter: intVec3Setter,    };\ntypeMap[INT_VEC4]                      = { Type: Int32Array,   size: 16, setter: intVec4Setter,    };\ntypeMap[UNSIGNED_INT$3]                  = { Type: Uint32Array,  size:  4, setter: uintSetter,       arraySetter: uintArraySetter, };\ntypeMap[UNSIGNED_INT_VEC2]             = { Type: Uint32Array,  size:  8, setter: uintVec2Setter,   };\ntypeMap[UNSIGNED_INT_VEC3]             = { Type: Uint32Array,  size: 12, setter: uintVec3Setter,   };\ntypeMap[UNSIGNED_INT_VEC4]             = { Type: Uint32Array,  size: 16, setter: uintVec4Setter,   };\ntypeMap[BOOL]                          = { Type: Uint32Array,  size:  4, setter: intSetter,        arraySetter: intArraySetter, };\ntypeMap[BOOL_VEC2]                     = { Type: Uint32Array,  size:  8, setter: intVec2Setter,    };\ntypeMap[BOOL_VEC3]                     = { Type: Uint32Array,  size: 12, setter: intVec3Setter,    };\ntypeMap[BOOL_VEC4]                     = { Type: Uint32Array,  size: 16, setter: intVec4Setter,    };\ntypeMap[FLOAT_MAT2]                    = { Type: Float32Array, size: 16, setter: floatMat2Setter,  };\ntypeMap[FLOAT_MAT3]                    = { Type: Float32Array, size: 36, setter: floatMat3Setter,  };\ntypeMap[FLOAT_MAT4]                    = { Type: Float32Array, size: 64, setter: floatMat4Setter,  };\ntypeMap[FLOAT_MAT2x3]                  = { Type: Float32Array, size: 24, setter: floatMat23Setter, };\ntypeMap[FLOAT_MAT2x4]                  = { Type: Float32Array, size: 32, setter: floatMat24Setter, };\ntypeMap[FLOAT_MAT3x2]                  = { Type: Float32Array, size: 24, setter: floatMat32Setter, };\ntypeMap[FLOAT_MAT3x4]                  = { Type: Float32Array, size: 48, setter: floatMat34Setter, };\ntypeMap[FLOAT_MAT4x2]                  = { Type: Float32Array, size: 32, setter: floatMat42Setter, };\ntypeMap[FLOAT_MAT4x3]                  = { Type: Float32Array, size: 48, setter: floatMat43Setter, };\ntypeMap[SAMPLER_2D]                    = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[SAMPLER_CUBE]                  = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };\ntypeMap[SAMPLER_3D]                    = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D$1,       };\ntypeMap[SAMPLER_2D_SHADOW]             = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[SAMPLER_2D_ARRAY]              = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };\ntypeMap[SAMPLER_2D_ARRAY_SHADOW]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };\ntypeMap[SAMPLER_CUBE_SHADOW]           = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };\ntypeMap[INT_SAMPLER_2D]                = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[INT_SAMPLER_3D]                = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D$1,       };\ntypeMap[INT_SAMPLER_CUBE]              = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };\ntypeMap[INT_SAMPLER_2D_ARRAY]          = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };\ntypeMap[UNSIGNED_INT_SAMPLER_2D]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[UNSIGNED_INT_SAMPLER_3D]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D$1,       };\ntypeMap[UNSIGNED_INT_SAMPLER_CUBE]     = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };\ntypeMap[UNSIGNED_INT_SAMPLER_2D_ARRAY] = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };\n\nfunction floatAttribSetter(gl, index) {\n  return function(b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n      switch (b.value.length) {\n        case 4:\n          gl.vertexAttrib4fv(index, b.value);\n          break;\n        case 3:\n          gl.vertexAttrib3fv(index, b.value);\n          break;\n        case 2:\n          gl.vertexAttrib2fv(index, b.value);\n          break;\n        case 1:\n          gl.vertexAttrib1fv(index, b.value);\n          break;\n        default:\n          throw new Error('the length of a float constant value must be between 1 and 4!');\n      }\n    } else {\n      gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribPointer(\n          index, b.numComponents || b.size, b.type || FLOAT$3, b.normalize || false, b.stride || 0, b.offset || 0);\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index, b.divisor);\n      }\n    }\n  };\n}\n\nfunction intAttribSetter(gl, index) {\n  return function(b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n      if (b.value.length === 4) {\n        gl.vertexAttrib4iv(index, b.value);\n      } else {\n        throw new Error('The length of an integer constant value must be 4!');\n      }\n    } else {\n      gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribIPointer(\n          index, b.numComponents || b.size, b.type || INT$3, b.stride || 0, b.offset || 0);\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index, b.divisor);\n      }\n    }\n  };\n}\n\nfunction uintAttribSetter(gl, index) {\n  return function(b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n      if (b.value.length === 4) {\n        gl.vertexAttrib4uiv(index, b.value);\n      } else {\n        throw new Error('The length of an unsigned integer constant value must be 4!');\n      }\n    } else {\n      gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribIPointer(\n          index, b.numComponents || b.size, b.type || UNSIGNED_INT$3, b.stride || 0, b.offset || 0);\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index, b.divisor);\n      }\n    }\n  };\n}\n\nfunction matAttribSetter(gl, index, typeInfo) {\n  const defaultSize = typeInfo.size;\n  const count = typeInfo.count;\n\n  return function(b) {\n    gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);\n    const numComponents = b.size || b.numComponents || defaultSize;\n    const size = numComponents / count;\n    const type = b.type || FLOAT$3;\n    const typeInfo = typeMap[type];\n    const stride = typeInfo.size * numComponents;\n    const normalize = b.normalize || false;\n    const offset = b.offset || 0;\n    const rowOffset = stride / count;\n    for (let i = 0; i < count; ++i) {\n      gl.enableVertexAttribArray(index + i);\n      gl.vertexAttribPointer(\n          index + i, size, type, normalize, stride, offset + rowOffset * i);\n      if (b.divisor !== undefined) {\n        gl.vertexAttribDivisor(index + i, b.divisor);\n      }\n    }\n  };\n}\n\n\n\nconst attrTypeMap = {};\nattrTypeMap[FLOAT$3]             = { size:  4, setter: floatAttribSetter, };\nattrTypeMap[FLOAT_VEC2]        = { size:  8, setter: floatAttribSetter, };\nattrTypeMap[FLOAT_VEC3]        = { size: 12, setter: floatAttribSetter, };\nattrTypeMap[FLOAT_VEC4]        = { size: 16, setter: floatAttribSetter, };\nattrTypeMap[INT$3]               = { size:  4, setter: intAttribSetter,   };\nattrTypeMap[INT_VEC2]          = { size:  8, setter: intAttribSetter,   };\nattrTypeMap[INT_VEC3]          = { size: 12, setter: intAttribSetter,   };\nattrTypeMap[INT_VEC4]          = { size: 16, setter: intAttribSetter,   };\nattrTypeMap[UNSIGNED_INT$3]      = { size:  4, setter: uintAttribSetter,  };\nattrTypeMap[UNSIGNED_INT_VEC2] = { size:  8, setter: uintAttribSetter,  };\nattrTypeMap[UNSIGNED_INT_VEC3] = { size: 12, setter: uintAttribSetter,  };\nattrTypeMap[UNSIGNED_INT_VEC4] = { size: 16, setter: uintAttribSetter,  };\nattrTypeMap[BOOL]              = { size:  4, setter: intAttribSetter,   };\nattrTypeMap[BOOL_VEC2]         = { size:  8, setter: intAttribSetter,   };\nattrTypeMap[BOOL_VEC3]         = { size: 12, setter: intAttribSetter,   };\nattrTypeMap[BOOL_VEC4]         = { size: 16, setter: intAttribSetter,   };\nattrTypeMap[FLOAT_MAT2]        = { size:  4, setter: matAttribSetter,   count: 2, };\nattrTypeMap[FLOAT_MAT3]        = { size:  9, setter: matAttribSetter,   count: 3, };\nattrTypeMap[FLOAT_MAT4]        = { size: 16, setter: matAttribSetter,   count: 4, };\n\n/**\n * Error Callback\n * @callback ErrorCallback\n * @param {string} msg error message.\n * @param {number} [lineOffset] amount to add to line number\n * @memberOf module:twgl\n */\n\nfunction addLineNumbers(src, lineOffset) {\n  lineOffset = lineOffset || 0;\n  ++lineOffset;\n\n  return src.split(\"\\n\").map(function(line, ndx) {\n    return (ndx + lineOffset) + \": \" + line;\n  }).join(\"\\n\");\n}\n\nconst spaceRE = /^[ \\t]*\\n/;\n\n/**\n * Loads a shader.\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {string} shaderSource The shader source.\n * @param {number} shaderType The type of shader.\n * @param {module:twgl.ErrorCallback} opt_errorCallback callback for errors.\n * @return {WebGLShader} The created shader.\n * @private\n */\nfunction loadShader(gl, shaderSource, shaderType, opt_errorCallback) {\n  const errFn = opt_errorCallback || error$1;\n  // Create the shader object\n  const shader = gl.createShader(shaderType);\n\n  // Remove the first end of line because WebGL 2.0 requires\n  // #version 300 es\n  // as the first line. No whitespace allowed before that line\n  // so\n  //\n  // <script>\n  // #version 300 es\n  // </script>\n  //\n  // Has one line before it which is invalid according to GLSL ES 3.00\n  //\n  let lineOffset = 0;\n  if (spaceRE.test(shaderSource)) {\n    lineOffset = 1;\n    shaderSource = shaderSource.replace(spaceRE, '');\n  }\n\n  // Load the shader source\n  gl.shaderSource(shader, shaderSource);\n\n  // Compile the shader\n  gl.compileShader(shader);\n\n  // Check the compile status\n  const compiled = gl.getShaderParameter(shader, COMPILE_STATUS);\n  if (!compiled) {\n    // Something went wrong during compilation; get the error\n    const lastError = gl.getShaderInfoLog(shader);\n    errFn(addLineNumbers(shaderSource, lineOffset) + \"\\n*** Error compiling shader: \" + lastError);\n    gl.deleteShader(shader);\n    return null;\n  }\n\n  return shader;\n}\n\n/**\n * @typedef {Object} ProgramOptions\n * @property {function(string)} [errorCallback] callback for errors\n * @property {Object.<string,number>} [attribLocations] a attribute name to location map\n * @property {(module:twgl.BufferInfo|Object.<string,module:twgl.AttribInfo>|string[])} [transformFeedbackVaryings] If passed\n *   a BufferInfo will use the attribs names inside. If passed an object of AttribInfos will use the names from that object. Otherwise\n *   you can pass an array of names.\n * @property {number} [transformFeedbackMode] the mode to pass `gl.transformFeedbackVaryings`. Defaults to `SEPARATE_ATTRIBS`.\n * @memberOf module:twgl\n */\n\n/**\n * Gets the program options based on all these optional arguments\n * @param {module:twgl.ProgramOptions|string[]} [opt_attribs] Options for the program or an array of attribs names. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations] The locations for the. A parallel array to opt_attribs letting you assign locations.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {module:twgl.ProgramOptions} an instance of ProgramOptions based on the arguments passed in\n * @private\n */\nfunction getProgramOptions(opt_attribs, opt_locations, opt_errorCallback) {\n  let transformFeedbackVaryings;\n  let transformFeedbackMode;\n  if (typeof opt_locations === 'function') {\n    opt_errorCallback = opt_locations;\n    opt_locations = undefined;\n  }\n  if (typeof opt_attribs === 'function') {\n    opt_errorCallback = opt_attribs;\n    opt_attribs = undefined;\n  } else if (opt_attribs && !Array.isArray(opt_attribs)) {\n    // If we have an errorCallback we can just return this object\n    // Otherwise we need to construct one with default errorCallback\n    if (opt_attribs.errorCallback) {\n      return opt_attribs;\n    }\n    const opt = opt_attribs;\n    opt_errorCallback = opt.errorCallback;\n    opt_attribs = opt.attribLocations;\n    transformFeedbackVaryings = opt.transformFeedbackVaryings;\n    transformFeedbackMode = opt.transformFeedbackMode;\n  }\n\n  const options = {\n    errorCallback: opt_errorCallback || error$1,\n    transformFeedbackVaryings: transformFeedbackVaryings,\n    transformFeedbackMode: transformFeedbackMode,\n  };\n\n  if (opt_attribs) {\n    let attribLocations = {};\n    if (Array.isArray(opt_attribs)) {\n      opt_attribs.forEach(function(attrib,  ndx) {\n        attribLocations[attrib] = opt_locations ? opt_locations[ndx] : ndx;\n      });\n    } else {\n      attribLocations = opt_attribs;\n    }\n    options.attribLocations = attribLocations;\n  }\n\n  return options;\n}\n\nconst defaultShaderType = [\n  \"VERTEX_SHADER\",\n  \"FRAGMENT_SHADER\",\n];\n\nfunction getShaderTypeFromScriptType(gl, scriptType) {\n  if (scriptType.indexOf(\"frag\") >= 0) {\n    return FRAGMENT_SHADER;\n  } else if (scriptType.indexOf(\"vert\") >= 0) {\n    return VERTEX_SHADER;\n  }\n  return undefined;\n}\n\nfunction deleteShaders(gl, shaders) {\n  shaders.forEach(function(shader) {\n    gl.deleteShader(shader);\n  });\n}\n\n/**\n * Creates a program, attaches (and/or compiles) shaders, binds attrib locations, links the\n * program and calls useProgram.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgram(gl, [vs, fs], options);\n *     twgl.createProgram(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLShader[]|string[]} shaders The shaders to attach, or element ids for their source, or strings that contain their source\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error.\n * @memberOf module:twgl/programs\n */\nfunction createProgram(\n    gl, shaders, opt_attribs, opt_locations, opt_errorCallback) {\n  const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  const realShaders = [];\n  const newShaders = [];\n  for (let ndx = 0; ndx < shaders.length; ++ndx) {\n    let shader = shaders[ndx];\n    if (typeof (shader) === 'string') {\n      const elem = getElementById(shader);\n      const src = elem ? elem.text : shader;\n      let type = gl[defaultShaderType[ndx]];\n      if (elem && elem.type) {\n        type = getShaderTypeFromScriptType(gl, elem.type) || type;\n      }\n      shader = loadShader(gl, src, type, progOptions.errorCallback);\n      newShaders.push(shader);\n    }\n    if (isShader(gl, shader)) {\n      realShaders.push(shader);\n    }\n  }\n\n  if (realShaders.length !== shaders.length) {\n    progOptions.errorCallback(\"not enough shaders for program\");\n    deleteShaders(gl, newShaders);\n    return null;\n  }\n\n  const program = gl.createProgram();\n  realShaders.forEach(function(shader) {\n    gl.attachShader(program, shader);\n  });\n  if (progOptions.attribLocations) {\n    Object.keys(progOptions.attribLocations).forEach(function(attrib) {\n      gl.bindAttribLocation(program, progOptions.attribLocations[attrib], attrib);\n    });\n  }\n  let varyings = progOptions.transformFeedbackVaryings;\n  if (varyings) {\n    if (varyings.attribs) {\n      varyings = varyings.attribs;\n    }\n    if (!Array.isArray(varyings)) {\n      varyings = Object.keys(varyings);\n    }\n    gl.transformFeedbackVaryings(program, varyings, progOptions.transformFeedbackMode || SEPARATE_ATTRIBS);\n  }\n  gl.linkProgram(program);\n\n  // Check the link status\n  const linked = gl.getProgramParameter(program, LINK_STATUS);\n  if (!linked) {\n    // something went wrong with the link\n    const lastError = gl.getProgramInfoLog(program);\n    progOptions.errorCallback(\"Error in program linking:\" + lastError);\n\n    gl.deleteProgram(program);\n    deleteShaders(gl, newShaders);\n    return null;\n  }\n  return program;\n}\n\n/**\n * Loads a shader from a script tag.\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {string} scriptId The id of the script tag.\n * @param {number} [opt_shaderType] The type of shader. If not passed in it will\n *     be derived from the type of the script tag.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors.\n * @return {WebGLShader?} The created shader or null if error.\n * @private\n */\nfunction createShaderFromScript(\n    gl, scriptId, opt_shaderType, opt_errorCallback) {\n  let shaderSource = \"\";\n  const shaderScript = getElementById(scriptId);\n  if (!shaderScript) {\n    throw new Error(`unknown script element: ${scriptId}`);\n  }\n  shaderSource = shaderScript.text;\n\n  const shaderType = opt_shaderType || getShaderTypeFromScriptType(gl, shaderScript.type);\n  if (!shaderType) {\n    throw new Error('unknown shader type');\n  }\n\n  return loadShader(gl, shaderSource, shaderType, opt_errorCallback);\n}\n\n/**\n * Creates a program from 2 script tags.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_options);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderScriptIds Array of ids of the script\n *        tags for the shaders. The first is assumed to be the\n *        vertex shader, the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error.\n * @memberOf module:twgl/programs\n */\nfunction createProgramFromScripts(\n    gl, shaderScriptIds, opt_attribs, opt_locations, opt_errorCallback) {\n  const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  const shaders = [];\n  for (let ii = 0; ii < shaderScriptIds.length; ++ii) {\n    const shader = createShaderFromScript(\n        gl, shaderScriptIds[ii], gl[defaultShaderType[ii]], progOptions.errorCallback);\n    if (!shader) {\n      return null;\n    }\n    shaders.push(shader);\n  }\n  return createProgram(gl, shaders, progOptions);\n}\n\n/**\n * Creates a program from 2 sources.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_options);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderSources Array of sources for the\n *        shaders. The first is assumed to be the vertex shader,\n *        the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error.\n * @memberOf module:twgl/programs\n */\nfunction createProgramFromSources(\n    gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {\n  const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  const shaders = [];\n  for (let ii = 0; ii < shaderSources.length; ++ii) {\n    const shader = loadShader(\n        gl, shaderSources[ii], gl[defaultShaderType[ii]], progOptions.errorCallback);\n    if (!shader) {\n      return null;\n    }\n    shaders.push(shader);\n  }\n  return createProgram(gl, shaders, progOptions);\n}\n\n/**\n * Returns true if attribute/uniform is a reserved/built in\n *\n * It makes no sense to me why GL returns these because it's\n * illegal to call `gl.getUniformLocation` and `gl.getAttribLocation`\n * with names that start with `gl_` (and `webgl_` in WebGL)\n *\n * I can only assume they are there because they might count\n * when computing the number of uniforms/attributes used when you want to\n * know if you are near the limit. That doesn't really make sense\n * to me but the fact that these get returned are in the spec.\n *\n * @param {WebGLActiveInfo} info As returned from `gl.getActiveUniform` or\n *    `gl.getActiveAttrib`.\n * @return {bool} true if it's reserved\n * @private\n */\nfunction isBuiltIn(info) {\n  const name = info.name;\n  return name.startsWith(\"gl_\") || name.startsWith(\"webgl_\");\n}\n\n/**\n * Creates setter functions for all uniforms of a shader\n * program.\n *\n * @see {@link module:twgl.setUniforms}\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program the program to create setters for.\n * @returns {Object.<string, function>} an object with a setter by name for each uniform\n * @memberOf module:twgl/programs\n */\nfunction createUniformSetters(gl, program) {\n  let textureUnit = 0;\n\n  /**\n   * Creates a setter for a uniform of the given program with it's\n   * location embedded in the setter.\n   * @param {WebGLProgram} program\n   * @param {WebGLUniformInfo} uniformInfo\n   * @returns {function} the created setter.\n   */\n  function createUniformSetter(program, uniformInfo, location) {\n    const isArray = uniformInfo.name.endsWith(\"[0]\");\n    const type = uniformInfo.type;\n    const typeInfo = typeMap[type];\n    if (!typeInfo) {\n      throw new Error(`unknown type: 0x${type.toString(16)}`); // we should never get here.\n    }\n    let setter;\n    if (typeInfo.bindPoint) {\n      // it's a sampler\n      const unit = textureUnit;\n      textureUnit += uniformInfo.size;\n      if (isArray) {\n        setter = typeInfo.arraySetter(gl, type, unit, location, uniformInfo.size);\n      } else {\n        setter = typeInfo.setter(gl, type, unit, location, uniformInfo.size);\n      }\n    } else {\n      if (typeInfo.arraySetter && isArray) {\n        setter = typeInfo.arraySetter(gl, location);\n      } else {\n        setter = typeInfo.setter(gl, location);\n      }\n    }\n    setter.location = location;\n    return setter;\n  }\n\n  const uniformSetters = { };\n  const numUniforms = gl.getProgramParameter(program, ACTIVE_UNIFORMS);\n\n  for (let ii = 0; ii < numUniforms; ++ii) {\n    const uniformInfo = gl.getActiveUniform(program, ii);\n    if (isBuiltIn(uniformInfo)) {\n        continue;\n    }\n    let name = uniformInfo.name;\n    // remove the array suffix.\n    if (name.endsWith(\"[0]\")) {\n      name = name.substr(0, name.length - 3);\n    }\n    const location = gl.getUniformLocation(program, uniformInfo.name);\n    // the uniform will have no location if it's in a uniform block\n    if (location) {\n      uniformSetters[name] = createUniformSetter(program, uniformInfo, location);\n    }\n  }\n  return uniformSetters;\n}\n\n/**\n * @typedef {Object} TransformFeedbackInfo\n * @property {number} index index of transform feedback\n * @property {number} type GL type\n * @property {number} size 1 - 4\n * @memberOf module:twgl\n */\n\n/**\n * Create TransformFeedbackInfo for passing to bindTransformFeedbackInfo.\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program an existing WebGLProgram.\n * @return {Object<string, module:twgl.TransformFeedbackInfo>}\n * @memberOf module:twgl\n */\nfunction createTransformFeedbackInfo(gl, program) {\n  const info = {};\n  const numVaryings = gl.getProgramParameter(program, TRANSFORM_FEEDBACK_VARYINGS);\n  for (let ii = 0; ii < numVaryings; ++ii) {\n    const varying = gl.getTransformFeedbackVarying(program, ii);\n    info[varying.name] = {\n      index: ii,\n      type: varying.type,\n      size: varying.size,\n    };\n  }\n  return info;\n}\n\n/**\n * Binds buffers for transform feedback.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {(module:twgl.ProgramInfo|Object<string, module:twgl.TransformFeedbackInfo>)} transformFeedbackInfo A ProgramInfo or TransformFeedbackInfo.\n * @param {(module:twgl.BufferInfo|Object<string, module:twgl.AttribInfo>)} [bufferInfo] A BufferInfo or set of AttribInfos.\n * @memberOf module:twgl\n */\nfunction bindTransformFeedbackInfo(gl, transformFeedbackInfo, bufferInfo) {\n  if (transformFeedbackInfo.transformFeedbackInfo) {\n    transformFeedbackInfo = transformFeedbackInfo.transformFeedbackInfo;\n  }\n  if (bufferInfo.attribs) {\n    bufferInfo = bufferInfo.attribs;\n  }\n  for (const name in bufferInfo) {\n    const varying = transformFeedbackInfo[name];\n    if (varying) {\n      const buf = bufferInfo[name];\n      if (buf.offset) {\n        gl.bindBufferRange(TRANSFORM_FEEDBACK_BUFFER, varying.index, buf.buffer, buf.offset, buf.size);\n      } else {\n        gl.bindBufferBase(TRANSFORM_FEEDBACK_BUFFER, varying.index, buf.buffer);\n      }\n    }\n  }\n}\n\n/**\n * Creates a transform feedback and sets the buffers\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {module:twgl.ProgramInfo} programInfo A ProgramInfo as returned from {@link module:twgl.createProgramInfo}\n * @param {(module:twgl.BufferInfo|Object<string, module:twgl.AttribInfo>)} [bufferInfo] A BufferInfo or set of AttribInfos.\n * @return {WebGLTransformFeedback} the created transform feedback\n * @memberOf module:twgl\n */\nfunction createTransformFeedback(gl, programInfo, bufferInfo) {\n  const tf = gl.createTransformFeedback();\n  gl.bindTransformFeedback(TRANSFORM_FEEDBACK, tf);\n  gl.useProgram(programInfo.program);\n  bindTransformFeedbackInfo(gl, programInfo, bufferInfo);\n  gl.bindTransformFeedback(TRANSFORM_FEEDBACK, null);\n  return tf;\n}\n\n/**\n * @typedef {Object} UniformData\n * @property {number} type The WebGL type enum for this uniform\n * @property {number} size The number of elements for this uniform\n * @property {number} blockNdx The block index this uniform appears in\n * @property {number} offset The byte offset in the block for this uniform's value\n * @memberOf module:twgl\n */\n\n/**\n * The specification for one UniformBlockObject\n *\n * @typedef {Object} BlockSpec\n * @property {number} index The index of the block.\n * @property {number} size The size in bytes needed for the block\n * @property {number[]} uniformIndices The indices of the uniforms used by the block. These indices\n *    correspond to entries in a UniformData array in the {@link module:twgl.UniformBlockSpec}.\n * @property {bool} usedByVertexShader Self explanatory\n * @property {bool} usedByFragmentShader Self explanatory\n * @property {bool} used Self explanatory\n * @memberOf module:twgl\n */\n\n/**\n * A `UniformBlockSpec` represents the data needed to create and bind\n * UniformBlockObjects for a given program\n *\n * @typedef {Object} UniformBlockSpec\n * @property {Object.<string, module:twgl.BlockSpec> blockSpecs The BlockSpec for each block by block name\n * @property {UniformData[]} uniformData An array of data for each uniform by uniform index.\n * @memberOf module:twgl\n */\n\n/**\n * Creates a UniformBlockSpec for the given program.\n *\n * A UniformBlockSpec represents the data needed to create and bind\n * UniformBlockObjects\n *\n * @param {WebGL2RenderingContext} gl A WebGL2 Rendering Context\n * @param {WebGLProgram} program A WebGLProgram for a successfully linked program\n * @return {module:twgl.UniformBlockSpec} The created UniformBlockSpec\n * @memberOf module:twgl/programs\n */\nfunction createUniformBlockSpecFromProgram(gl, program) {\n  const numUniforms = gl.getProgramParameter(program, ACTIVE_UNIFORMS);\n  const uniformData = [];\n  const uniformIndices = [];\n\n  for (let ii = 0; ii < numUniforms; ++ii) {\n    uniformIndices.push(ii);\n    uniformData.push({});\n    const uniformInfo = gl.getActiveUniform(program, ii);\n    if (isBuiltIn(uniformInfo)) {\n      break;\n    }\n    // REMOVE [0]?\n    uniformData[ii].name = uniformInfo.name;\n  }\n\n  [\n    [ \"UNIFORM_TYPE\", \"type\" ],\n    [ \"UNIFORM_SIZE\", \"size\" ],  // num elements\n    [ \"UNIFORM_BLOCK_INDEX\", \"blockNdx\" ],\n    [ \"UNIFORM_OFFSET\", \"offset\", ],\n  ].forEach(function(pair) {\n    const pname = pair[0];\n    const key = pair[1];\n    gl.getActiveUniforms(program, uniformIndices, gl[pname]).forEach(function(value, ndx) {\n      uniformData[ndx][key] = value;\n    });\n  });\n\n  const blockSpecs = {};\n\n  const numUniformBlocks = gl.getProgramParameter(program, ACTIVE_UNIFORM_BLOCKS);\n  for (let ii = 0; ii < numUniformBlocks; ++ii) {\n    const name = gl.getActiveUniformBlockName(program, ii);\n    const blockSpec = {\n      index: gl.getUniformBlockIndex(program, name),\n      usedByVertexShader: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),\n      usedByFragmentShader: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),\n      size: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_DATA_SIZE),\n      uniformIndices: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES),\n    };\n    blockSpec.used = blockSpec.usedByVertexShader || blockSpec.usedByFragmentShader;\n    blockSpecs[name] = blockSpec;\n  }\n\n  return {\n    blockSpecs: blockSpecs,\n    uniformData: uniformData,\n  };\n}\n\nconst arraySuffixRE = /\\[\\d+\\]\\.$/;  // better way to check?\n\n/**\n * Represents a UniformBlockObject including an ArrayBuffer with all the uniform values\n * and a corresponding WebGLBuffer to hold those values on the GPU\n *\n * @typedef {Object} UniformBlockInfo\n * @property {string} name The name of the block\n * @property {ArrayBuffer} array The array buffer that contains the uniform values\n * @property {Float32Array} asFloat A float view on the array buffer. This is useful\n *    inspecting the contents of the buffer in the debugger.\n * @property {WebGLBuffer} buffer A WebGL buffer that will hold a copy of the uniform values for rendering.\n * @property {number} [offset] offset into buffer\n * @property {Object.<string, ArrayBufferView>} uniforms A uniform name to ArrayBufferView map.\n *   each Uniform has a correctly typed `ArrayBufferView` into array at the correct offset\n *   and length of that uniform. So for example a float uniform would have a 1 float `Float32Array`\n *   view. A single mat4 would have a 16 element `Float32Array` view. An ivec2 would have an\n *   `Int32Array` view, etc.\n * @memberOf module:twgl\n */\n\n/**\n * Creates a `UniformBlockInfo` for the specified block\n *\n * Note: **If the blockName matches no existing blocks a warning is printed to the console and a dummy\n * `UniformBlockInfo` is returned**. This is because when debugging GLSL\n * it is common to comment out large portions of a shader or for example set\n * the final output to a constant. When that happens blocks get optimized out.\n * If this function did not create dummy blocks your code would crash when debugging.\n *\n * @param {WebGL2RenderingContext} gl A WebGL2RenderingContext\n * @param {WebGLProgram} program A WebGLProgram\n * @param {module:twgl.UniformBlockSpec} uniformBlockSpec. A UniformBlockSpec as returned\n *     from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {string} blockName The name of the block.\n * @return {module:twgl.UniformBlockInfo} The created UniformBlockInfo\n * @memberOf module:twgl/programs\n */\nfunction createUniformBlockInfoFromProgram(gl, program, uniformBlockSpec, blockName) {\n  const blockSpecs = uniformBlockSpec.blockSpecs;\n  const uniformData = uniformBlockSpec.uniformData;\n  const blockSpec = blockSpecs[blockName];\n  if (!blockSpec) {\n    warn$1(\"no uniform block object named:\", blockName);\n    return {\n      name: blockName,\n      uniforms: {},\n    };\n  }\n  const array = new ArrayBuffer(blockSpec.size);\n  const buffer = gl.createBuffer();\n  const uniformBufferIndex = blockSpec.index;\n  gl.bindBuffer(UNIFORM_BUFFER, buffer);\n  gl.uniformBlockBinding(program, blockSpec.index, uniformBufferIndex);\n\n  let prefix = blockName + \".\";\n  if (arraySuffixRE.test(prefix)) {\n    prefix = prefix.replace(arraySuffixRE, \".\");\n  }\n  const uniforms = {};\n  blockSpec.uniformIndices.forEach(function(uniformNdx) {\n    const data = uniformData[uniformNdx];\n    const typeInfo = typeMap[data.type];\n    const Type = typeInfo.Type;\n    const length = data.size * typeInfo.size;\n    let name = data.name;\n    if (name.substr(0, prefix.length) === prefix) {\n      name = name.substr(prefix.length);\n    }\n    uniforms[name] = new Type(array, data.offset, length / Type.BYTES_PER_ELEMENT);\n  });\n  return {\n    name: blockName,\n    array: array,\n    asFloat: new Float32Array(array),  // for debugging\n    buffer: buffer,\n    uniforms: uniforms,\n  };\n}\n\n/**\n * Creates a `UniformBlockInfo` for the specified block\n *\n * Note: **If the blockName matches no existing blocks a warning is printed to the console and a dummy\n * `UniformBlockInfo` is returned**. This is because when debugging GLSL\n * it is common to comment out large portions of a shader or for example set\n * the final output to a constant. When that happens blocks get optimized out.\n * If this function did not create dummy blocks your code would crash when debugging.\n *\n * @param {WebGL2RenderingContext} gl A WebGL2RenderingContext\n * @param {module:twgl.ProgramInfo} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo}\n * @param {string} blockName The name of the block.\n * @return {module:twgl.UniformBlockInfo} The created UniformBlockInfo\n * @memberOf module:twgl/programs\n */\nfunction createUniformBlockInfo(gl, programInfo, blockName) {\n  return createUniformBlockInfoFromProgram(gl, programInfo.program, programInfo.uniformBlockSpec, blockName);\n}\n\n/**\n * Binds a uniform block to the matching uniform block point.\n * Matches by blocks by name so blocks must have the same name not just the same\n * structure.\n *\n * If you have changed any values and you upload the values into the corresponding WebGLBuffer\n * call {@link module:twgl.setUniformBlock} instead.\n *\n * @param {WebGL2RenderingContext} gl A WebGL 2 rendering context.\n * @param {(module:twgl.ProgramInfo|module:twgl.UniformBlockSpec)} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo} or or `UniformBlockSpec` as\n *     returned from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo a `UniformBlockInfo` as returned from\n *     {@link module:twgl.createUniformBlockInfo}.\n * @return {bool} true if buffer was bound. If the programInfo has no block with the same block name\n *     no buffer is bound.\n * @memberOf module:twgl/programs\n */\nfunction bindUniformBlock(gl, programInfo, uniformBlockInfo) {\n  const uniformBlockSpec = programInfo.uniformBlockSpec || programInfo;\n  const blockSpec = uniformBlockSpec.blockSpecs[uniformBlockInfo.name];\n  if (blockSpec) {\n    const bufferBindIndex = blockSpec.index;\n    gl.bindBufferRange(UNIFORM_BUFFER, bufferBindIndex, uniformBlockInfo.buffer, uniformBlockInfo.offset || 0, uniformBlockInfo.array.byteLength);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Uploads the current uniform values to the corresponding WebGLBuffer\n * and binds that buffer to the program's corresponding bind point for the uniform block object.\n *\n * If you haven't changed any values and you only need to bind the uniform block object\n * call {@link module:twgl.bindUniformBlock} instead.\n *\n * @param {WebGL2RenderingContext} gl A WebGL 2 rendering context.\n * @param {(module:twgl.ProgramInfo|module:twgl.UniformBlockSpec)} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo} or or `UniformBlockSpec` as\n *     returned from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo a `UniformBlockInfo` as returned from\n *     {@link module:twgl.createUniformBlockInfo}.\n * @memberOf module:twgl/programs\n */\nfunction setUniformBlock(gl, programInfo, uniformBlockInfo) {\n  if (bindUniformBlock(gl, programInfo, uniformBlockInfo)) {\n    gl.bufferData(UNIFORM_BUFFER, uniformBlockInfo.array, DYNAMIC_DRAW);\n  }\n}\n\n/**\n * Sets values of a uniform block object\n *\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo A UniformBlockInfo as returned by {@link module:twgl.createUniformBlockInfo}.\n * @param {Object.<string, ?>} values A uniform name to value map where the value is correct for the given\n *    type of uniform. So for example given a block like\n *\n *       uniform SomeBlock {\n *         float someFloat;\n *         vec2 someVec2;\n *         vec3 someVec3Array[2];\n *         int someInt;\n *       }\n *\n *  You can set the values of the uniform block with\n *\n *       twgl.setBlockUniforms(someBlockInfo, {\n *          someFloat: 12.3,\n *          someVec2: [1, 2],\n *          someVec3Array: [1, 2, 3, 4, 5, 6],\n *          someInt: 5,\n *       }\n *\n *  Arrays can be JavaScript arrays or typed arrays\n *\n *  Any name that doesn't match will be ignored\n * @memberOf module:twgl/programs\n */\nfunction setBlockUniforms(uniformBlockInfo, values) {\n  const uniforms = uniformBlockInfo.uniforms;\n  for (const name in values) {\n    const array = uniforms[name];\n    if (array) {\n      const value = values[name];\n      if (value.length) {\n        array.set(value);\n      } else {\n        array[0] = value;\n      }\n    }\n  }\n}\n\n/**\n * Set uniforms and binds related textures.\n *\n * example:\n *\n *     const programInfo = createProgramInfo(\n *         gl, [\"some-vs\", \"some-fs\"]);\n *\n *     const tex1 = gl.createTexture();\n *     const tex2 = gl.createTexture();\n *\n *     ... assume we setup the textures with data ...\n *\n *     const uniforms = {\n *       u_someSampler: tex1,\n *       u_someOtherSampler: tex2,\n *       u_someColor: [1,0,0,1],\n *       u_somePosition: [0,1,1],\n *       u_someMatrix: [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ],\n *     };\n *\n *     gl.useProgram(program);\n *\n * This will automatically bind the textures AND set the\n * uniforms.\n *\n *     twgl.setUniforms(programInfo, uniforms);\n *\n * For the example above it is equivalent to\n *\n *     var texUnit = 0;\n *     gl.activeTexture(gl.TEXTURE0 + texUnit);\n *     gl.bindTexture(gl.TEXTURE_2D, tex1);\n *     gl.uniform1i(u_someSamplerLocation, texUnit++);\n *     gl.activeTexture(gl.TEXTURE0 + texUnit);\n *     gl.bindTexture(gl.TEXTURE_2D, tex2);\n *     gl.uniform1i(u_someSamplerLocation, texUnit++);\n *     gl.uniform4fv(u_someColorLocation, [1, 0, 0, 1]);\n *     gl.uniform3fv(u_somePositionLocation, [0, 1, 1]);\n *     gl.uniformMatrix4fv(u_someMatrix, false, [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ]);\n *\n * Note it is perfectly reasonable to call `setUniforms` multiple times. For example\n *\n *     const uniforms = {\n *       u_someSampler: tex1,\n *       u_someOtherSampler: tex2,\n *     };\n *\n *     const moreUniforms {\n *       u_someColor: [1,0,0,1],\n *       u_somePosition: [0,1,1],\n *       u_someMatrix: [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ],\n *     };\n *\n *     twgl.setUniforms(programInfo, uniforms);\n *     twgl.setUniforms(programInfo, moreUniforms);\n *\n * You can also add WebGLSamplers to uniform samplers as in\n *\n *     const uniforms = {\n *       u_someSampler: {\n *         texture: someWebGLTexture,\n *         sampler: someWebGLSampler,\n *       },\n *     };\n *\n * In which case both the sampler and texture will be bound to the\n * same unit.\n *\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters a `ProgramInfo` as returned from `createProgramInfo` or the setters returned from\n *        `createUniformSetters`.\n * @param {Object.<string, ?>} values an object with values for the\n *        uniforms.\n *   You can pass multiple objects by putting them in an array or by calling with more arguments.For example\n *\n *     const sharedUniforms = {\n *       u_fogNear: 10,\n *       u_projection: ...\n *       ...\n *     };\n *\n *     const localUniforms = {\n *       u_world: ...\n *       u_diffuseColor: ...\n *     };\n *\n *     twgl.setUniforms(programInfo, sharedUniforms, localUniforms);\n *\n *     // is the same as\n *\n *     twgl.setUniforms(programInfo, [sharedUniforms, localUniforms]);\n *\n *     // is the same as\n *\n *     twgl.setUniforms(programInfo, sharedUniforms);\n *     twgl.setUniforms(programInfo, localUniforms};\n *\n * @memberOf module:twgl/programs\n */\nfunction setUniforms(setters, values) {  // eslint-disable-line\n  const actualSetters = setters.uniformSetters || setters;\n  const numArgs = arguments.length;\n  for (let aNdx = 1; aNdx < numArgs; ++aNdx) {\n    const values = arguments[aNdx];\n    if (Array.isArray(values)) {\n      const numValues = values.length;\n      for (let ii = 0; ii < numValues; ++ii) {\n        setUniforms(actualSetters, values[ii]);\n      }\n    } else {\n      for (const name in values) {\n        const setter = actualSetters[name];\n        if (setter) {\n          setter(values[name]);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Alias for `setUniforms`\n * @function\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters a `ProgramInfo` as returned from `createProgramInfo` or the setters returned from\n *        `createUniformSetters`.\n * @param {Object.<string, ?>} values an object with values for the\n * @memberOf module:twgl/programs\n */\nconst setUniformsAndBindTextures = setUniforms;\n\n/**\n * Creates setter functions for all attributes of a shader\n * program. You can pass this to {@link module:twgl.setBuffersAndAttributes} to set all your buffers and attributes.\n *\n * @see {@link module:twgl.setAttributes} for example\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program the program to create setters for.\n * @return {Object.<string, function>} an object with a setter for each attribute by name.\n * @memberOf module:twgl/programs\n */\nfunction createAttributeSetters(gl, program) {\n  const attribSetters = {\n  };\n\n  const numAttribs = gl.getProgramParameter(program, ACTIVE_ATTRIBUTES);\n  for (let ii = 0; ii < numAttribs; ++ii) {\n    const attribInfo = gl.getActiveAttrib(program, ii);\n    if (isBuiltIn(attribInfo)) {\n        continue;\n    }\n    const index = gl.getAttribLocation(program, attribInfo.name);\n    const typeInfo = attrTypeMap[attribInfo.type];\n    const setter = typeInfo.setter(gl, index, typeInfo);\n    setter.location = index;\n    attribSetters[attribInfo.name] = setter;\n  }\n\n  return attribSetters;\n}\n\n/**\n * Sets attributes and binds buffers (deprecated... use {@link module:twgl.setBuffersAndAttributes})\n *\n * Example:\n *\n *     const program = createProgramFromScripts(\n *         gl, [\"some-vs\", \"some-fs\");\n *\n *     const attribSetters = createAttributeSetters(program);\n *\n *     const positionBuffer = gl.createBuffer();\n *     const texcoordBuffer = gl.createBuffer();\n *\n *     const attribs = {\n *       a_position: {buffer: positionBuffer, numComponents: 3},\n *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},\n *     };\n *\n *     gl.useProgram(program);\n *\n * This will automatically bind the buffers AND set the\n * attributes.\n *\n *     setAttributes(attribSetters, attribs);\n *\n * Properties of attribs. For each attrib you can add\n * properties:\n *\n * *   type: the type of data in the buffer. Default = gl.FLOAT\n * *   normalize: whether or not to normalize the data. Default = false\n * *   stride: the stride. Default = 0\n * *   offset: offset into the buffer. Default = 0\n * *   divisor: the divisor for instances. Default = undefined\n *\n * For example if you had 3 value float positions, 2 value\n * float texcoord and 4 value uint8 colors you'd setup your\n * attribs like this\n *\n *     const attribs = {\n *       a_position: {buffer: positionBuffer, numComponents: 3},\n *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},\n *       a_color: {\n *         buffer: colorBuffer,\n *         numComponents: 4,\n *         type: gl.UNSIGNED_BYTE,\n *         normalize: true,\n *       },\n *     };\n *\n * @param {Object.<string, function>} setters Attribute setters as returned from createAttributeSetters\n * @param {Object.<string, module:twgl.AttribInfo>} buffers AttribInfos mapped by attribute name.\n * @memberOf module:twgl/programs\n * @deprecated use {@link module:twgl.setBuffersAndAttributes}\n */\nfunction setAttributes(setters, buffers) {\n  for (const name in buffers) {\n    const setter = setters[name];\n    if (setter) {\n      setter(buffers[name]);\n    }\n  }\n}\n\n/**\n * Sets attributes and buffers including the `ELEMENT_ARRAY_BUFFER` if appropriate\n *\n * Example:\n *\n *     const programInfo = createProgramInfo(\n *         gl, [\"some-vs\", \"some-fs\");\n *\n *     const arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *     };\n *\n *     const bufferInfo = createBufferInfoFromArrays(gl, arrays);\n *\n *     gl.useProgram(programInfo.program);\n *\n * This will automatically bind the buffers AND set the\n * attributes.\n *\n *     setBuffersAndAttributes(gl, programInfo, bufferInfo);\n *\n * For the example above it is equivalent to\n *\n *     gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n *     gl.enableVertexAttribArray(a_positionLocation);\n *     gl.vertexAttribPointer(a_positionLocation, 3, gl.FLOAT, false, 0, 0);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n *     gl.enableVertexAttribArray(a_texcoordLocation);\n *     gl.vertexAttribPointer(a_texcoordLocation, 4, gl.FLOAT, false, 0, 0);\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters A `ProgramInfo` as returned from {@link module:twgl.createProgramInfo} or Attribute setters as returned from {@link module:twgl.createAttributeSetters}\n * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} buffers a `BufferInfo` as returned from {@link module:twgl.createBufferInfoFromArrays}.\n *   or a `VertexArrayInfo` as returned from {@link module:twgl.createVertexArrayInfo}\n * @memberOf module:twgl/programs\n */\nfunction setBuffersAndAttributes(gl, programInfo, buffers) {\n  if (buffers.vertexArrayObject) {\n    gl.bindVertexArray(buffers.vertexArrayObject);\n  } else {\n    setAttributes(programInfo.attribSetters || programInfo, buffers.attribs);\n    if (buffers.indices) {\n      gl.bindBuffer(ELEMENT_ARRAY_BUFFER$1, buffers.indices);\n    }\n  }\n}\n\n/**\n * @typedef {Object} ProgramInfo\n * @property {WebGLProgram} program A shader program\n * @property {Object<string, function>} uniformSetters object of setters as returned from createUniformSetters,\n * @property {Object<string, function>} attribSetters object of setters as returned from createAttribSetters,\n * @property {module:twgl.UniformBlockSpec} [uniformBlockSpace] a uniform block spec for making UniformBlockInfos with createUniformBlockInfo etc..\n * @property {Object<string, module:twgl.TransformFeedbackInfo>} [transformFeedbackInfo] info for transform feedbacks\n * @memberOf module:twgl\n */\n\n/**\n * Creates a ProgramInfo from an existing program.\n *\n * A ProgramInfo contains\n *\n *     programInfo = {\n *        program: WebGLProgram,\n *        uniformSetters: object of setters as returned from createUniformSetters,\n *        attribSetters: object of setters as returned from createAttribSetters,\n *     }\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {WebGLProgram} program an existing WebGLProgram.\n * @return {module:twgl.ProgramInfo} The created ProgramInfo.\n * @memberOf module:twgl/programs\n */\nfunction createProgramInfoFromProgram(gl, program) {\n  const uniformSetters = createUniformSetters(gl, program);\n  const attribSetters = createAttributeSetters(gl, program);\n  const programInfo = {\n    program: program,\n    uniformSetters: uniformSetters,\n    attribSetters: attribSetters,\n  };\n\n  if (isWebGL2(gl)) {\n    programInfo.uniformBlockSpec = createUniformBlockSpecFromProgram(gl, program);\n    programInfo.transformFeedbackInfo = createTransformFeedbackInfo(gl, program);\n  }\n\n  return programInfo;\n}\n\n/**\n * Creates a ProgramInfo from 2 sources.\n *\n * A ProgramInfo contains\n *\n *     programInfo = {\n *        program: WebGLProgram,\n *        uniformSetters: object of setters as returned from createUniformSetters,\n *        attribSetters: object of setters as returned from createAttribSetters,\n *     }\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramInfo(gl, [vs, fs], options);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderSources Array of sources for the\n *        shaders or ids. The first is assumed to be the vertex shader,\n *        the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {module:twgl.ProgramInfo?} The created ProgramInfo or null if it failed to link or compile\n * @memberOf module:twgl/programs\n */\nfunction createProgramInfo(\n    gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {\n  const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  let good = true;\n  shaderSources = shaderSources.map(function(source) {\n    // Lets assume if there is no \\n it's an id\n    if (source.indexOf(\"\\n\") < 0) {\n      const script = getElementById(source);\n      if (!script) {\n        progOptions.errorCallback(\"no element with id: \" + source);\n        good = false;\n      } else {\n        source = script.text;\n      }\n    }\n    return source;\n  });\n  if (!good) {\n    return null;\n  }\n  const program = createProgramFromSources(gl, shaderSources, progOptions);\n  if (!program) {\n    return null;\n  }\n  return createProgramInfoFromProgram(gl, program);\n}\n\nvar programs = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createAttributeSetters: createAttributeSetters,\n  createProgram: createProgram,\n  createProgramFromScripts: createProgramFromScripts,\n  createProgramFromSources: createProgramFromSources,\n  createProgramInfo: createProgramInfo,\n  createProgramInfoFromProgram: createProgramInfoFromProgram,\n  createUniformSetters: createUniformSetters,\n  createUniformBlockSpecFromProgram: createUniformBlockSpecFromProgram,\n  createUniformBlockInfoFromProgram: createUniformBlockInfoFromProgram,\n  createUniformBlockInfo: createUniformBlockInfo,\n  createTransformFeedback: createTransformFeedback,\n  createTransformFeedbackInfo: createTransformFeedbackInfo,\n  bindTransformFeedbackInfo: bindTransformFeedbackInfo,\n  setAttributes: setAttributes,\n  setBuffersAndAttributes: setBuffersAndAttributes,\n  setUniforms: setUniforms,\n  setUniformsAndBindTextures: setUniformsAndBindTextures,\n  setUniformBlock: setUniformBlock,\n  setBlockUniforms: setBlockUniforms,\n  bindUniformBlock: bindUniformBlock\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst TRIANGLES                      = 0x0004;\nconst UNSIGNED_SHORT$3                 = 0x1403;\n\n/**\n * Drawing related functions\n *\n * For backward compatibility they are available at both `twgl.draw` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/draw\n */\n\n/**\n * Calls `gl.drawElements` or `gl.drawArrays`, whichever is appropriate\n *\n * normally you'd call `gl.drawElements` or `gl.drawArrays` yourself\n * but calling this means if you switch from indexed data to non-indexed\n * data you don't have to remember to update your draw call.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} bufferInfo A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays} or\n *   a VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}\n * @param {number} [type] eg (gl.TRIANGLES, gl.LINES, gl.POINTS, gl.TRIANGLE_STRIP, ...). Defaults to `gl.TRIANGLES`\n * @param {number} [count] An optional count. Defaults to bufferInfo.numElements\n * @param {number} [offset] An optional offset. Defaults to 0.\n * @param {number} [instanceCount] An optional instanceCount. if set then `drawArraysInstanced` or `drawElementsInstanced` will be called\n * @memberOf module:twgl/draw\n */\nfunction drawBufferInfo(gl, bufferInfo, type, count, offset, instanceCount) {\n  type = type === undefined ? TRIANGLES : type;\n  const indices = bufferInfo.indices;\n  const elementType = bufferInfo.elementType;\n  const numElements = count === undefined ? bufferInfo.numElements : count;\n  offset = offset === undefined ? 0 : offset;\n  if (elementType || indices) {\n    if (instanceCount !== undefined) {\n      gl.drawElementsInstanced(type, numElements, elementType === undefined ? UNSIGNED_SHORT$3 : bufferInfo.elementType, offset, instanceCount);\n    } else {\n      gl.drawElements(type, numElements, elementType === undefined ? UNSIGNED_SHORT$3 : bufferInfo.elementType, offset);\n    }\n  } else {\n    if (instanceCount !== undefined) {\n      gl.drawArraysInstanced(type, offset, numElements, instanceCount);\n    } else {\n      gl.drawArrays(type, offset, numElements);\n    }\n  }\n}\n\n/**\n * A DrawObject is useful for putting objects in to an array and passing them to {@link module:twgl.drawObjectList}.\n *\n * You need either a `BufferInfo` or a `VertexArrayInfo`.\n *\n * @typedef {Object} DrawObject\n * @property {boolean} [active] whether or not to draw. Default = `true` (must be `false` to be not true). In other words `undefined` = `true`\n * @property {number} [type] type to draw eg. `gl.TRIANGLES`, `gl.LINES`, etc...\n * @property {module:twgl.ProgramInfo} programInfo A ProgramInfo as returned from {@link module:twgl.createProgramInfo}\n * @property {module:twgl.BufferInfo} [bufferInfo] A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays}\n * @property {module:twgl.VertexArrayInfo} [vertexArrayInfo] A VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}\n * @property {Object<string, ?>} uniforms The values for the uniforms.\n *   You can pass multiple objects by putting them in an array. For example\n *\n *     var sharedUniforms = {\n *       u_fogNear: 10,\n *       u_projection: ...\n *       ...\n *     };\n *\n *     var localUniforms = {\n *       u_world: ...\n *       u_diffuseColor: ...\n *     };\n *\n *     var drawObj = {\n *       ...\n *       uniforms: [sharedUniforms, localUniforms],\n *     };\n *\n * @property {number} [offset] the offset to pass to `gl.drawArrays` or `gl.drawElements`. Defaults to 0.\n * @property {number} [count] the count to pass to `gl.drawArrays` or `gl.drawElements`. Defaults to bufferInfo.numElements.\n * @property {number} [instanceCount] the number of instances. Defaults to undefined.\n * @memberOf module:twgl\n */\n\n/**\n * Draws a list of objects\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {DrawObject[]} objectsToDraw an array of objects to draw.\n * @memberOf module:twgl/draw\n */\nfunction drawObjectList(gl, objectsToDraw) {\n  let lastUsedProgramInfo = null;\n  let lastUsedBufferInfo = null;\n\n  objectsToDraw.forEach(function(object) {\n    if (object.active === false) {\n      return;\n    }\n\n    const programInfo = object.programInfo;\n    const bufferInfo = object.vertexArrayInfo || object.bufferInfo;\n    let bindBuffers = false;\n    const type = object.type === undefined ? TRIANGLES : object.type;\n\n    if (programInfo !== lastUsedProgramInfo) {\n      lastUsedProgramInfo = programInfo;\n      gl.useProgram(programInfo.program);\n\n      // We have to rebind buffers when changing programs because we\n      // only bind buffers the program uses. So if 2 programs use the same\n      // bufferInfo but the 1st one uses only positions the when the\n      // we switch to the 2nd one some of the attributes will not be on.\n      bindBuffers = true;\n    }\n\n    // Setup all the needed attributes.\n    if (bindBuffers || bufferInfo !== lastUsedBufferInfo) {\n      if (lastUsedBufferInfo && lastUsedBufferInfo.vertexArrayObject && !bufferInfo.vertexArrayObject) {\n        gl.bindVertexArray(null);\n      }\n      lastUsedBufferInfo = bufferInfo;\n      setBuffersAndAttributes(gl, programInfo, bufferInfo);\n    }\n\n    // Set the uniforms.\n    setUniforms(programInfo, object.uniforms);\n\n    // Draw\n    drawBufferInfo(gl, bufferInfo, type, object.count, object.offset, object.instanceCount);\n  });\n\n  if (lastUsedBufferInfo && lastUsedBufferInfo.vertexArrayObject) {\n    gl.bindVertexArray(null);\n  }\n}\n\nvar draw = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  drawBufferInfo: drawBufferInfo,\n  drawObjectList: drawObjectList\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst FRAMEBUFFER                    = 0x8d40;\nconst RENDERBUFFER                   = 0x8d41;\nconst TEXTURE_2D$2                     = 0x0de1;\n\nconst UNSIGNED_BYTE$3                  = 0x1401;\n\n/* PixelFormat */\nconst DEPTH_COMPONENT$1                = 0x1902;\nconst RGBA$1                           = 0x1908;\n\n/* Framebuffer Object. */\nconst RGBA4$1                          = 0x8056;\nconst RGB5_A1$1                        = 0x8057;\nconst RGB565$1                         = 0x8D62;\nconst DEPTH_COMPONENT16$1              = 0x81A5;\nconst STENCIL_INDEX                  = 0x1901;\nconst STENCIL_INDEX8                 = 0x8D48;\nconst DEPTH_STENCIL$1                  = 0x84F9;\nconst COLOR_ATTACHMENT0              = 0x8CE0;\nconst DEPTH_ATTACHMENT               = 0x8D00;\nconst STENCIL_ATTACHMENT             = 0x8D20;\nconst DEPTH_STENCIL_ATTACHMENT       = 0x821A;\nconst CLAMP_TO_EDGE$1                  = 0x812F;\nconst LINEAR$1                         = 0x2601;\n\n/**\n * The options for a framebuffer attachment.\n *\n * Note: For a `format` that is a texture include all the texture\n * options from {@link module:twgl.TextureOptions} for example\n * `min`, `mag`, `clamp`, etc... Note that unlike {@link module:twgl.TextureOptions}\n * `auto` defaults to `false` for attachment textures but `min` and `mag` default\n * to `gl.LINEAR` and `wrap` defaults to `CLAMP_TO_EDGE`\n *\n * @typedef {Object} AttachmentOptions\n * @property {number} [attach] The attachment point. Defaults\n *   to `gl.COLOR_ATTACHMENT0 + ndx` unless type is a depth or stencil type\n *   then it's gl.DEPTH_ATTACHMENT or `gl.DEPTH_STENCIL_ATTACHMENT` depending\n *   on the format or attachment type.\n * @property {number} [format] The format. If one of `gl.RGBA4`,\n *   `gl.RGB565`, `gl.RGB5_A1`, `gl.DEPTH_COMPONENT16`,\n *   `gl.STENCIL_INDEX8` or `gl.DEPTH_STENCIL` then will create a\n *   renderbuffer. Otherwise will create a texture. Default = `gl.RGBA`\n * @property {number} [type] The type. Used for texture. Default = `gl.UNSIGNED_BYTE`.\n * @property {number} [target] The texture target for `gl.framebufferTexture2D`.\n *   Defaults to `gl.TEXTURE_2D`. Set to appropriate face for cube maps.\n * @property {number} [level] level for `gl.framebufferTexture2D`. Defaults to 0.\n * @property {number} [layer] layer for `gl.framebufferTextureLayer`. Defaults to undefined.\n *   If set then `gl.framebufferTextureLayer` is called, if not then `gl.framebufferTexture2D`\n * @property {WebGLObject} [attachment] An existing renderbuffer or texture.\n *    If provided will attach this Object. This allows you to share\n *    attachments across framebuffers.\n * @memberOf module:twgl\n * @mixes module:twgl.TextureOptions\n */\n\nconst defaultAttachments = [\n  { format: RGBA$1, type: UNSIGNED_BYTE$3, min: LINEAR$1, wrap: CLAMP_TO_EDGE$1, },\n  { format: DEPTH_STENCIL$1, },\n];\n\nconst attachmentsByFormat = {};\nattachmentsByFormat[DEPTH_STENCIL$1] = DEPTH_STENCIL_ATTACHMENT;\nattachmentsByFormat[STENCIL_INDEX] = STENCIL_ATTACHMENT;\nattachmentsByFormat[STENCIL_INDEX8] = STENCIL_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT$1] = DEPTH_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT16$1] = DEPTH_ATTACHMENT;\n\nfunction getAttachmentPointForFormat(format) {\n  return attachmentsByFormat[format];\n}\n\nconst renderbufferFormats = {};\nrenderbufferFormats[RGBA4$1] = true;\nrenderbufferFormats[RGB5_A1$1] = true;\nrenderbufferFormats[RGB565$1] = true;\nrenderbufferFormats[DEPTH_STENCIL$1] = true;\nrenderbufferFormats[DEPTH_COMPONENT16$1] = true;\nrenderbufferFormats[STENCIL_INDEX] = true;\nrenderbufferFormats[STENCIL_INDEX8] = true;\n\nfunction isRenderbufferFormat(format) {\n  return renderbufferFormats[format];\n}\n\n/**\n * @typedef {Object} FramebufferInfo\n * @property {WebGLFramebuffer} framebuffer The WebGLFramebuffer for this framebufferInfo\n * @property {WebGLObject[]} attachments The created attachments in the same order as passed in to {@link module:twgl.createFramebufferInfo}.\n * @property {number} width The width of the framebuffer and its attachments\n * @property {number} height The width of the framebuffer and its attachments\n * @memberOf module:twgl\n */\n\n/**\n * Creates a framebuffer and attachments.\n *\n * This returns a {@link module:twgl.FramebufferInfo} because it needs to return the attachments as well as the framebuffer.\n *\n * The simplest usage\n *\n *     // create an RGBA/UNSIGNED_BYTE texture and DEPTH_STENCIL renderbuffer\n *     const fbi = twgl.createFramebufferInfo(gl);\n *\n * More complex usage\n *\n *     // create an RGB565 renderbuffer and a STENCIL_INDEX8 renderbuffer\n *     const attachments = [\n *       { format: RGB565, mag: NEAREST },\n *       { format: STENCIL_INDEX8 },\n *     ]\n *     const fbi = twgl.createFramebufferInfo(gl, attachments);\n *\n * Passing in a specific size\n *\n *     const width = 256;\n *     const height = 256;\n *     const fbi = twgl.createFramebufferInfo(gl, attachments, width, height);\n *\n * **Note!!** It is up to you to check if the framebuffer is renderable by calling `gl.checkFramebufferStatus`.\n * [WebGL1 only guarantees 3 combinations of attachments work](https://www.khronos.org/registry/webgl/specs/latest/1.0/#6.6).\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.AttachmentOptions[]} [attachments] which attachments to create. If not provided the default is a framebuffer with an\n *    `RGBA`, `UNSIGNED_BYTE` texture `COLOR_ATTACHMENT0` and a `DEPTH_STENCIL` renderbuffer `DEPTH_STENCIL_ATTACHMENT`.\n * @param {number} [width] the width for the attachments. Default = size of drawingBuffer\n * @param {number} [height] the height for the attachments. Default = size of drawingBuffer\n * @return {module:twgl.FramebufferInfo} the framebuffer and attachments.\n * @memberOf module:twgl/framebuffers\n */\nfunction createFramebufferInfo(gl, attachments, width, height) {\n  const target = FRAMEBUFFER;\n  const fb = gl.createFramebuffer();\n  gl.bindFramebuffer(target, fb);\n  width  = width  || gl.drawingBufferWidth;\n  height = height || gl.drawingBufferHeight;\n  attachments = attachments || defaultAttachments;\n  let colorAttachmentCount = 0;\n  const framebufferInfo = {\n    framebuffer: fb,\n    attachments: [],\n    width: width,\n    height: height,\n  };\n  attachments.forEach(function(attachmentOptions) {\n    let attachment = attachmentOptions.attachment;\n    const format = attachmentOptions.format;\n    let attachmentPoint = getAttachmentPointForFormat(format);\n    if (!attachmentPoint) {\n      attachmentPoint = COLOR_ATTACHMENT0 + colorAttachmentCount++;\n    }\n    if (!attachment) {\n      if (isRenderbufferFormat(format)) {\n        attachment = gl.createRenderbuffer();\n        gl.bindRenderbuffer(RENDERBUFFER, attachment);\n        gl.renderbufferStorage(RENDERBUFFER, format, width, height);\n      } else {\n        const textureOptions = Object.assign({}, attachmentOptions);\n        textureOptions.width = width;\n        textureOptions.height = height;\n        if (textureOptions.auto === undefined) {\n          textureOptions.auto = false;\n          textureOptions.min = textureOptions.min || textureOptions.minMag || LINEAR$1;\n          textureOptions.mag = textureOptions.mag || textureOptions.minMag || LINEAR$1;\n          textureOptions.wrapS = textureOptions.wrapS || textureOptions.wrap || CLAMP_TO_EDGE$1;\n          textureOptions.wrapT = textureOptions.wrapT || textureOptions.wrap || CLAMP_TO_EDGE$1;\n        }\n        attachment = createTexture(gl, textureOptions);\n      }\n    }\n    if (isRenderbuffer(gl, attachment)) {\n      gl.framebufferRenderbuffer(target, attachmentPoint, RENDERBUFFER, attachment);\n    } else if (isTexture(gl, attachment)) {\n      if (attachmentOptions.layer !== undefined) {\n        gl.framebufferTextureLayer(\n          target,\n          attachmentPoint,\n          attachment,\n          attachmentOptions.level || 0,\n          attachmentOptions.layer);\n      } else {\n        gl.framebufferTexture2D(\n            target,\n            attachmentPoint,\n            attachmentOptions.target || TEXTURE_2D$2,\n            attachment,\n            attachmentOptions.level || 0);\n      }\n    } else {\n      throw new Error('unknown attachment type');\n    }\n    framebufferInfo.attachments.push(attachment);\n  });\n  return framebufferInfo;\n}\n\n/**\n * Resizes the attachments of a framebuffer.\n *\n * You need to pass in the same `attachments` as you passed in {@link module:twgl.createFramebufferInfo}\n * because TWGL has no idea the format/type of each attachment.\n *\n * The simplest usage\n *\n *     // create an RGBA/UNSIGNED_BYTE texture and DEPTH_STENCIL renderbuffer\n *     const fbi = twgl.createFramebufferInfo(gl);\n *\n *     ...\n *\n *     function render() {\n *       if (twgl.resizeCanvasToDisplaySize(gl.canvas)) {\n *         // resize the attachments\n *         twgl.resizeFramebufferInfo(gl, fbi);\n *       }\n *\n * More complex usage\n *\n *     // create an RGB565 renderbuffer and a STENCIL_INDEX8 renderbuffer\n *     const attachments = [\n *       { format: RGB565, mag: NEAREST },\n *       { format: STENCIL_INDEX8 },\n *     ]\n *     const fbi = twgl.createFramebufferInfo(gl, attachments);\n *\n *     ...\n *\n *     function render() {\n *       if (twgl.resizeCanvasToDisplaySize(gl.canvas)) {\n *         // resize the attachments to match\n *         twgl.resizeFramebufferInfo(gl, fbi, attachments);\n *       }\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.FramebufferInfo} framebufferInfo a framebufferInfo as returned from {@link module:twgl.createFramebufferInfo}.\n * @param {module:twgl.AttachmentOptions[]} [attachments] the same attachments options as passed to {@link module:twgl.createFramebufferInfo}.\n * @param {number} [width] the width for the attachments. Default = size of drawingBuffer\n * @param {number} [height] the height for the attachments. Default = size of drawingBuffer\n * @memberOf module:twgl/framebuffers\n */\nfunction resizeFramebufferInfo(gl, framebufferInfo, attachments, width, height) {\n  width  = width  || gl.drawingBufferWidth;\n  height = height || gl.drawingBufferHeight;\n  framebufferInfo.width = width;\n  framebufferInfo.height = height;\n  attachments = attachments || defaultAttachments;\n  attachments.forEach(function(attachmentOptions, ndx) {\n    const attachment = framebufferInfo.attachments[ndx];\n    const format = attachmentOptions.format;\n    if (isRenderbuffer(gl, attachment)) {\n      gl.bindRenderbuffer(RENDERBUFFER, attachment);\n      gl.renderbufferStorage(RENDERBUFFER, format, width, height);\n    } else if (isTexture(gl, attachment)) {\n      resizeTexture(gl, attachment, attachmentOptions, width, height);\n    } else {\n      throw new Error('unknown attachment type');\n    }\n  });\n}\n\n/**\n * Binds a framebuffer\n *\n * This function pretty much solely exists because I spent hours\n * trying to figure out why something I wrote wasn't working only\n * to realize I forget to set the viewport dimensions.\n * My hope is this function will fix that.\n *\n * It is effectively the same as\n *\n *     gl.bindFramebuffer(gl.FRAMEBUFFER, someFramebufferInfo.framebuffer);\n *     gl.viewport(0, 0, someFramebufferInfo.width, someFramebufferInfo.height);\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.FramebufferInfo|null} [framebufferInfo] a framebufferInfo as returned from {@link module:twgl.createFramebufferInfo}.\n *   If falsy will bind the canvas.\n * @param {number} [target] The target. If not passed `gl.FRAMEBUFFER` will be used.\n * @memberOf module:twgl/framebuffers\n */\n\nfunction bindFramebufferInfo(gl, framebufferInfo, target) {\n  target = target || FRAMEBUFFER;\n  if (framebufferInfo) {\n    gl.bindFramebuffer(target, framebufferInfo.framebuffer);\n    gl.viewport(0, 0, framebufferInfo.width, framebufferInfo.height);\n  } else {\n    gl.bindFramebuffer(target, null);\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n  }\n}\n\nvar framebuffers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  bindFramebufferInfo: bindFramebufferInfo,\n  createFramebufferInfo: createFramebufferInfo,\n  resizeFramebufferInfo: resizeFramebufferInfo\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * vertex array object related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibility they are available at both `twgl.attributes` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/vertexArrays\n */\n\nconst ELEMENT_ARRAY_BUFFER$2           = 0x8893;\n\n/**\n * @typedef {Object} VertexArrayInfo\n * @property {number} numElements The number of elements to pass to `gl.drawArrays` or `gl.drawElements`.\n * @property {number} [elementType] The type of indices `UNSIGNED_BYTE`, `UNSIGNED_SHORT` etc..\n * @property {WebGLVertexArrayObject} [vertexArrayObject] a vertex array object\n * @memberOf module:twgl\n */\n\n/**\n * Creates a VertexArrayInfo from a BufferInfo and one or more ProgramInfos\n *\n * This can be passed to {@link module:twgl.setBuffersAndAttributes} and to\n * {@link module:twgl:drawBufferInfo}.\n *\n * > **IMPORTANT:** Vertex Array Objects are **not** a direct analog for a BufferInfo. Vertex Array Objects\n *   assign buffers to specific attributes at creation time. That means they can only be used with programs\n *   who's attributes use the same attribute locations for the same purposes.\n *\n * > Bind your attribute locations by passing an array of attribute names to {@link module:twgl.createProgramInfo}\n *   or use WebGL 2's GLSL ES 3's `layout(location = <num>)` to make sure locations match.\n *\n * also\n *\n * > **IMPORTANT:** After calling twgl.setBuffersAndAttribute with a BufferInfo that uses a Vertex Array Object\n *   that Vertex Array Object will be bound. That means **ANY MANIPULATION OF ELEMENT_ARRAY_BUFFER or ATTRIBUTES**\n *   will affect the Vertex Array Object state.\n *\n * > Call `gl.bindVertexArray(null)` to get back manipulating the global attributes and ELEMENT_ARRAY_BUFFER.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.ProgramInfo|module:twgl.ProgramInfo[]} programInfo a programInfo or array of programInfos\n * @param {module:twgl.BufferInfo} bufferInfo BufferInfo as returned from createBufferInfoFromArrays etc...\n *\n *    You need to make sure every attribute that will be used is bound. So for example assume shader 1\n *    uses attributes A, B, C and shader 2 uses attributes A, B, D. If you only pass in the programInfo\n *    for shader 1 then only attributes A, B, and C will have their attributes set because TWGL doesn't\n *    now attribute D's location.\n *\n *    So, you can pass in both shader 1 and shader 2's programInfo\n *\n * @return {module:twgl.VertexArrayInfo} The created VertexArrayInfo\n *\n * @memberOf module:twgl/vertexArrays\n */\nfunction createVertexArrayInfo(gl, programInfos, bufferInfo) {\n  const vao = gl.createVertexArray();\n  gl.bindVertexArray(vao);\n  if (!programInfos.length) {\n    programInfos = [programInfos];\n  }\n  programInfos.forEach(function(programInfo) {\n    setBuffersAndAttributes(gl, programInfo, bufferInfo);\n  });\n  gl.bindVertexArray(null);\n  return {\n    numElements: bufferInfo.numElements,\n    elementType: bufferInfo.elementType,\n    vertexArrayObject: vao,\n  };\n}\n\n/**\n * Creates a vertex array object and then sets the attributes on it\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {Object.<string, function>} setters Attribute setters as returned from createAttributeSetters\n * @param {Object.<string, module:twgl.AttribInfo>} attribs AttribInfos mapped by attribute name.\n * @param {WebGLBuffer} [indices] an optional ELEMENT_ARRAY_BUFFER of indices\n * @memberOf module:twgl/vertexArrays\n */\nfunction createVAOAndSetAttributes(gl, setters, attribs, indices) {\n  const vao = gl.createVertexArray();\n  gl.bindVertexArray(vao);\n  setAttributes(setters, attribs);\n  if (indices) {\n    gl.bindBuffer(ELEMENT_ARRAY_BUFFER$2, indices);\n  }\n  // We unbind this because otherwise any change to ELEMENT_ARRAY_BUFFER\n  // like when creating buffers for other stuff will mess up this VAO's binding\n  gl.bindVertexArray(null);\n  return vao;\n}\n\n/**\n * Creates a vertex array object and then sets the attributes\n * on it\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {Object.<string, function>| module:twgl.ProgramInfo} programInfo as returned from createProgramInfo or Attribute setters as returned from createAttributeSetters\n * @param {module:twgl.BufferInfo} bufferInfo BufferInfo as returned from createBufferInfoFromArrays etc...\n * @param {WebGLBuffer} [indices] an optional ELEMENT_ARRAY_BUFFER of indices\n * @memberOf module:twgl/vertexArrays\n */\nfunction createVAOFromBufferInfo(gl, programInfo, bufferInfo) {\n  return createVAOAndSetAttributes(gl, programInfo.attribSetters || programInfo, bufferInfo.attribs, bufferInfo.indices);\n}\n\nvar vertexArrays = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createVertexArrayInfo: createVertexArrayInfo,\n  createVAOAndSetAttributes: createVAOAndSetAttributes,\n  createVAOFromBufferInfo: createVAOFromBufferInfo\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nconst defaults$2 = {\n  addExtensionsToContext: true,\n};\n\n/**\n * Various default settings for twgl.\n *\n * Note: You can call this any number of times. Example:\n *\n *     twgl.setDefaults({ textureColor: [1, 0, 0, 1] });\n *     twgl.setDefaults({ attribPrefix: 'a_' });\n *\n * is equivalent to\n *\n *     twgl.setDefaults({\n *       textureColor: [1, 0, 0, 1],\n *       attribPrefix: 'a_',\n *     });\n *\n * @typedef {Object} Defaults\n * @property {string} [attribPrefix] The prefix to stick on attributes\n *\n *   When writing shaders I prefer to name attributes with `a_`, uniforms with `u_` and varyings with `v_`\n *   as it makes it clear where they came from. But, when building geometry I prefer using un-prefixed names.\n *\n *   In other words I'll create arrays of geometry like this\n *\n *       const arrays = {\n *         position: ...\n *         normal: ...\n *         texcoord: ...\n *       };\n *\n *   But need those mapped to attributes and my attributes start with `a_`.\n *\n *   Default: `\"\"`\n *\n * @property {number[]} [textureColor] Array of 4 values in the range 0 to 1\n *\n *   The default texture color is used when loading textures from\n *   urls. Because the URL will be loaded async we'd like to be\n *   able to use the texture immediately. By putting a 1x1 pixel\n *   color in the texture we can start using the texture before\n *   the URL has loaded.\n *\n *   Default: `[0.5, 0.75, 1, 1]`\n *\n * @property {string} [crossOrigin]\n *\n *   If not undefined sets the crossOrigin attribute on images\n *   that twgl creates when downloading images for textures.\n *\n *   Also see {@link module:twgl.TextureOptions}.\n *\n * @property {bool} [addExtensionsToContext]\n *\n *   If true, then, when twgl will try to add any supported WebGL extensions\n *   directly to the context under their normal GL names. For example\n *   if ANGLE_instances_arrays exists then twgl would enable it,\n *   add the functions `vertexAttribDivisor`, `drawArraysInstanced`,\n *   `drawElementsInstanced`, and the constant `VERTEX_ATTRIB_ARRAY_DIVISOR`\n *   to the `WebGLRenderingContext`.\n *\n * @memberOf module:twgl\n */\n\n/**\n * Sets various defaults for twgl.\n *\n * In the interest of terseness which is kind of the point\n * of twgl I've integrated a few of the older functions here\n *\n * @param {module:twgl.Defaults} newDefaults The default settings.\n * @memberOf module:twgl\n */\nfunction setDefaults$2(newDefaults) {\n  copyExistingProperties(newDefaults, defaults$2);\n  setDefaults(newDefaults);  // eslint-disable-line\n  setDefaults$1(newDefaults);  // eslint-disable-line\n}\n\nconst prefixRE = /^(.*?)_/;\nfunction addExtensionToContext(gl, extensionName) {\n  glEnumToString(gl, 0);\n  const ext = gl.getExtension(extensionName);\n  if (ext) {\n    const enums = {};\n    const fnSuffix = prefixRE.exec(extensionName)[1];\n    const enumSuffix = '_' + fnSuffix;\n    for (const key in ext) {\n      const value = ext[key];\n      const isFunc = typeof (value) === 'function';\n      const suffix = isFunc ? fnSuffix : enumSuffix;\n      let name = key;\n      // examples of where this is not true are WEBGL_compressed_texture_s3tc\n      // and WEBGL_compressed_texture_pvrtc\n      if (key.endsWith(suffix)) {\n        name = key.substring(0, key.length - suffix.length);\n      }\n      if (gl[name] !== undefined) {\n        if (!isFunc && gl[name] !== value) {\n          warn(name, gl[name], value, key);\n        }\n      } else {\n        if (isFunc) {\n          gl[name] = function(origFn) {\n            return function() {\n              return origFn.apply(ext, arguments);\n            };\n          }(value);\n        } else {\n          gl[name] = value;\n          enums[name] = value;\n        }\n      }\n    }\n    // pass the modified enums to glEnumToString\n    enums.constructor = {\n      name: ext.constructor.name,\n    };\n    glEnumToString(enums, 0);\n  }\n  return ext;\n}\n\n/*\n * If you're wondering why the code doesn't just iterate\n * over all extensions using `gl.getExtensions` is that it's possible\n * some future extension is incompatible with this code. Rather than\n * have thing suddenly break it seems better to manually add to this\n * list.\n *\n */\nconst supportedExtensions = [\n  'ANGLE_instanced_arrays',\n  'EXT_blend_minmax',\n  'EXT_color_buffer_float',\n  'EXT_color_buffer_half_float',\n  'EXT_disjoint_timer_query',\n  'EXT_disjoint_timer_query_webgl2',\n  'EXT_frag_depth',\n  'EXT_sRGB',\n  'EXT_shader_texture_lod',\n  'EXT_texture_filter_anisotropic',\n  'OES_element_index_uint',\n  'OES_standard_derivatives',\n  'OES_texture_float',\n  'OES_texture_float_linear',\n  'OES_texture_half_float',\n  'OES_texture_half_float_linear',\n  'OES_vertex_array_object',\n  'WEBGL_color_buffer_float',\n  'WEBGL_compressed_texture_atc',\n  'WEBGL_compressed_texture_etc1',\n  'WEBGL_compressed_texture_pvrtc',\n  'WEBGL_compressed_texture_s3tc',\n  'WEBGL_compressed_texture_s3tc_srgb',\n  'WEBGL_depth_texture',\n  'WEBGL_draw_buffers',\n];\n\n/**\n * Attempts to enable all of the following extensions\n * and add their functions and constants to the\n * `WebGLRenderingContext` using their normal non-extension like names.\n *\n *      ANGLE_instanced_arrays\n *      EXT_blend_minmax\n *      EXT_color_buffer_float\n *      EXT_color_buffer_half_float\n *      EXT_disjoint_timer_query\n *      EXT_disjoint_timer_query_webgl2\n *      EXT_frag_depth\n *      EXT_sRGB\n *      EXT_shader_texture_lod\n *      EXT_texture_filter_anisotropic\n *      OES_element_index_uint\n *      OES_standard_derivatives\n *      OES_texture_float\n *      OES_texture_float_linear\n *      OES_texture_half_float\n *      OES_texture_half_float_linear\n *      OES_vertex_array_object\n *      WEBGL_color_buffer_float\n *      WEBGL_compressed_texture_atc\n *      WEBGL_compressed_texture_etc1\n *      WEBGL_compressed_texture_pvrtc\n *      WEBGL_compressed_texture_s3tc\n *      WEBGL_compressed_texture_s3tc_srgb\n *      WEBGL_depth_texture\n *      WEBGL_draw_buffers\n *\n * For example if `ANGLE_instanced_arrays` exists then the functions\n * `drawArraysInstanced`, `drawElementsInstanced`, `vertexAttribDivisor`\n * and the constant `VERTEX_ATTRIB_ARRAY_DIVISOR` are added to the\n * `WebGLRenderingContext`.\n *\n * Note that if you want to know if the extension exists you should\n * probably call `gl.getExtension` for each extension. Alternatively\n * you can check for the existence of the functions or constants that\n * are expected to be added. For example\n *\n *    if (gl.drawBuffers) {\n *      // Either WEBGL_draw_buffers was enabled OR you're running in WebGL2\n *      ....\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @memberOf module:twgl\n */\nfunction addExtensionsToContext(gl) {\n  for (let ii = 0; ii < supportedExtensions.length; ++ii) {\n    addExtensionToContext(gl, supportedExtensions[ii]);\n  }\n}\n\n/**\n * Creates a webgl context.\n * @param {HTMLCanvasElement} canvas The canvas tag to get\n *     context from. If one is not passed in one will be\n *     created.\n * @return {WebGLRenderingContext} The created context.\n * @private\n */\nfunction create3DContext(canvas, opt_attribs) {\n  const names = [\"webgl\", \"experimental-webgl\"];\n  let context = null;\n  for (let ii = 0; ii < names.length; ++ii) {\n    context = canvas.getContext(names[ii], opt_attribs);\n    if (context) {\n      if (defaults$2.addExtensionsToContext) {\n        addExtensionsToContext(context);\n      }\n      break;\n    }\n  }\n  return context;\n}\n\n/**\n * Gets a WebGL1 context.\n *\n * Note: Will attempt to enable Vertex Array Objects\n * and add WebGL2 entry points. (unless you first set defaults with\n * `twgl.setDefaults({enableVertexArrayObjects: false})`;\n *\n * @param {HTMLCanvasElement} canvas a canvas element.\n * @param {WebGLContextAttributes} [opt_attribs] optional webgl context creation attributes\n * @return {WebGLRenderingContext} The created context.\n * @memberOf module:twgl\n */\nfunction getWebGLContext(canvas, opt_attribs) {\n  const gl = create3DContext(canvas, opt_attribs);\n  return gl;\n}\n\n/**\n * Creates a webgl context.\n *\n * Will return a WebGL2 context if possible.\n *\n * You can check if it's WebGL2 with\n *\n *     twgl.isWebGL2(gl);\n *\n * @param {HTMLCanvasElement} canvas The canvas tag to get\n *     context from. If one is not passed in one will be\n *     created.\n * @return {WebGLRenderingContext} The created context.\n */\nfunction createContext(canvas, opt_attribs) {\n  const names = [\"webgl2\", \"webgl\", \"experimental-webgl\"];\n  let context = null;\n  for (let ii = 0; ii < names.length; ++ii) {\n    context = canvas.getContext(names[ii], opt_attribs);\n    if (context) {\n      if (defaults$2.addExtensionsToContext) {\n        addExtensionsToContext(context);\n      }\n      break;\n    }\n  }\n  return context;\n}\n\n/**\n * Gets a WebGL context.  Will create a WebGL2 context if possible.\n *\n * You can check if it's WebGL2 with\n *\n *    function isWebGL2(gl) {\n *      return gl.getParameter(gl.VERSION).indexOf(\"WebGL 2.0 \") == 0;\n *    }\n *\n * Note: For a WebGL1 context will attempt to enable Vertex Array Objects\n * and add WebGL2 entry points. (unless you first set defaults with\n * `twgl.setDefaults({enableVertexArrayObjects: false})`;\n *\n * @param {HTMLCanvasElement} canvas a canvas element.\n * @param {WebGLContextAttributes} [opt_attribs] optional webgl context creation attributes\n * @return {WebGLRenderingContext} The created context.\n * @memberOf module:twgl\n */\nfunction getContext(canvas, opt_attribs) {\n  const gl = createContext(canvas, opt_attribs);\n  return gl;\n}\n\n/**\n * Resize a canvas to match the size it's displayed.\n * @param {HTMLCanvasElement} canvas The canvas to resize.\n * @param {number} [multiplier] So you can pass in `window.devicePixelRatio` or other scale value if you want to.\n * @return {boolean} true if the canvas was resized.\n * @memberOf module:twgl\n */\nfunction resizeCanvasToDisplaySize(canvas, multiplier) {\n  multiplier = multiplier || 1;\n  multiplier = Math.max(0, multiplier);\n  const width  = canvas.clientWidth  * multiplier | 0;\n  const height = canvas.clientHeight * multiplier | 0;\n  if (canvas.width !== width || canvas.height !== height) {\n    canvas.width = width;\n    canvas.height = height;\n    return true;\n  }\n  return false;\n}\n\nexport { addExtensionsToContext, attributes, bindFramebufferInfo, bindTransformFeedbackInfo, bindUniformBlock, canFilter, canGenerateMipmap, createAttribsFromArrays, createAttributeSetters, createBufferFromArray, createBufferFromTypedArray, createBufferInfoFromArrays, createBuffersFromArrays, createFramebufferInfo, createProgram, createProgramFromScripts, createProgramFromSources, createProgramInfo, createProgramInfoFromProgram, createSampler, createSamplers, createTexture, createTextures, createTransformFeedback, createTransformFeedbackInfo, createUniformBlockInfo, createUniformBlockInfoFromProgram, createUniformBlockSpecFromProgram, createUniformSetters, createVAOAndSetAttributes, createVAOFromBufferInfo, createVertexArrayInfo, draw, drawBufferInfo, drawObjectList, framebuffers, getArray as getArray_, getBytesPerElementForInternalFormat, getContext, getFormatAndTypeForInternalFormat, getGLTypeForTypedArray, getGLTypeForTypedArrayType, getNumComponentsForFormat, getNumComponents as getNumComponents_, getTypedArrayTypeForGLType, getWebGLContext, glEnumToString, isArrayBuffer, isWebGL1, isWebGL2, loadTextureFromUrl, m4, primitives, programs, resizeCanvasToDisplaySize, resizeFramebufferInfo, resizeTexture, setAttribInfoBufferFromArray, setDefaults as setAttributeDefaults_, setAttributePrefix, setAttributes, setBlockUniforms, setBuffersAndAttributes, setDefaultTextureColor, setDefaults$2 as setDefaults, setEmptyTexture, setSamplerParameters, setDefaults$1 as setTextureDefaults_, setTextureFilteringForSize, setTextureFromArray, setTextureFromElement, setTextureParameters, setUniformBlock, setUniforms, setUniformsAndBindTextures, textures, typedarrays, utils, v3, vertexArrays };\n","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform int maxSteps;\\nuniform float minDist;\\nuniform float maxDist;\\nuniform float epsilon;\\nuniform vec2 resolution;\\nuniform int subSamples;\\nuniform float FOV;\\nuniform mat4 rotationMatrix;\\nuniform vec3 lightPos;\\nuniform vec3 objectPos;\\nuniform vec3 objectColour;\\nuniform bool dynamicBg;\\nuniform float bgColourFactor;\\nuniform vec3 bgLightColour;\\nuniform vec3 bgDarkColour;\\nuniform float diffuseFactor;\\nuniform float specularFactor;\\nuniform float ambientMin;\\nuniform float specularPower;\\nuniform bool renderFractal;\\nuniform int maxIterations;\\nuniform float fractalPower;\\nuniform float sphereRadius;\\nuniform bool fogEnable;\\nuniform int maxBounces;\\nuniform bool aoEnable;\\nuniform float aoStepSize;\\nuniform float aoFactor;\\nuniform int aoIterations;\\nuniform bool enableShadows;\\nuniform float shadowFactor;\\n\\nfloat planeSDF(vec3 samplePoint, float height) {\\n  return dot(samplePoint + vec3(0.0, -height, 0.0), vec3(0.0, 1.0, 0.0));\\n}\\n\\nfloat sphereSDF(vec3 samplePoint) {\\n  return length(samplePoint) - sphereRadius;\\n}\\n\\nfloat mandelbulbSDF(vec3 samplePoint) {\\n  vec3 c = samplePoint;\\n  vec3 z = c;\\n  float dr = 1.0;\\n  float r = 0.0;\\n  for (int i = 0; i < 10000; i++) {\\n    if (i == maxIterations) break;\\n    r = length(z);\\n    if (r > 2.0) break;\\n    float theta = acos(z.z / r);\\n    float phi = atan(z.y, z.x);\\n    dr = pow(r, fractalPower - 1.0) * fractalPower * dr + 1.0;\\n    float zr = pow(r, fractalPower);\\n    theta = theta * fractalPower;\\n    phi = phi * fractalPower;\\n    z = zr * vec3(sin(theta) * cos(phi), sin(phi) * sin(theta), cos(theta));\\n    z += c;\\n  }\\n  return 0.5 * log(r) * r / dr;\\n}\\n\\nfloat sceneSDF(vec3 samplePoint) {\\n  samplePoint -= objectPos;\\n  if (renderFractal) {\\n    return mandelbulbSDF(samplePoint);\\n  } else {\\n    float plane = planeSDF(samplePoint, -sphereRadius);\\n    float sphere = sphereSDF(samplePoint);\\n    return min(plane, sphere);\\n  }\\n}\\n\\nvec3 calcDir(vec2 pixelPos) {\\n  vec2 point = 2.0 * (pixelPos / resolution) - 1.0;\\n  point *= tan(radians(FOV / 2.0)) * vec2(resolution.x / resolution.y, 1);\\n  return normalize((rotationMatrix * vec4(point, -1.0, 1)).xyz);\\n}\\n\\nvec3 estimateNormal(vec3 p) {\\n  return normalize(vec3(\\n    sceneSDF(p + vec3(epsilon, 0, 0)) - sceneSDF(p - vec3(epsilon, 0, 0)),\\n    sceneSDF(p + vec3(0, epsilon, 0)) - sceneSDF(p - vec3(0, epsilon, 0)),\\n    sceneSDF(p + vec3(0, 0, epsilon)) - sceneSDF(p - vec3(0, 0, epsilon))\\n  ));\\n}\\n\\nbool rayMarch(vec3 origin, vec3 dir, inout float depth, inout vec3 hitPoint) {\\n  depth = minDist;\\n  for (int i = 0; i < 10000; i++) {\\n    if (depth >= maxDist || i == maxSteps) return false;\\n    float dist = sceneSDF(origin + depth * dir);\\n    if (dist < epsilon) return true;\\n    depth += dist;\\n    hitPoint = origin + depth * dir;\\n  }\\n}\\n\\nvec3 phong(vec3 hitPoint) {\\n  vec3 normal = estimateNormal(hitPoint);\\n  vec3 toLight = normalize(lightPos - hitPoint);\\n  vec3 toCamera = normalize(-hitPoint);\\n  vec3 toHitPoint = normalize(hitPoint - lightPos);\\n  vec3 reflected = reflect(toHitPoint, normal);\\n  float diffuse = diffuseFactor * clamp(dot(normal, toLight), ambientMin, 1.0);\\n  float specular = specularFactor * pow(clamp(dot(toCamera, reflected), 0.0, 1.0), specularPower);\\n  return (objectColour / vec3(255)) * diffuse + vec3(specular);\\n}\\n\\nvec3 backgroundColour(vec3 dir) {\\n  vec3 colour = (bgLightColour + bgDarkColour) / vec3(2.0);\\n  if (dynamicBg) {\\n    float factor = dot(normalize(vec3(dir.x, 0.0, dir.z)), dir);\\n    vec3 baseColour = bgLightColour * factor;\\n    colour = (dir.y >= 0.0 ? baseColour + bgDarkColour * (1.0 - factor) : baseColour);\\n  }\\n  return bgColourFactor * colour / vec3(255);\\n}\\n\\nfloat ambientOcclusion(vec3 origin, vec3 normal) {\\n  if (!aoEnable) return 1.0;\\n  float ao;\\n  for (int i = 1; i < 10000; i++) {\\n    if (i == aoIterations + 1) return 1.0 - ao * aoFactor;\\n    float dist = aoStepSize * float(i);\\n    ao += max(0.0, (dist - sceneSDF(origin + normal * dist)) / dist);\\n  }\\n}\\n\\nfloat hardShadow(vec3 origin, vec3 normal) {\\n  if (!enableShadows) return 1.0;\\n  float depth;\\n  vec3 hitPoint;\\n  vec3 dir = normalize(lightPos - origin);\\n  bool hit = rayMarch(origin + epsilon * normal, dir, depth, hitPoint);\\n  return (hit ? 1.0 - shadowFactor : 1.0);\\n}\\n\\nvec3 fog(vec3 colour, vec3 bgColour, bool hit, float depth) {\\n  if (!fogEnable) return (hit ? colour : bgColour);\\n  float fogFactor = clamp(depth / maxDist, 0.0, 1.0);\\n  return colour * (1.0 - fogFactor) + bgColour * fogFactor;\\n}\\n\\nvec3 shade(vec3 dir, bool hit, vec3 hitPoint, vec3 normal, float depth) {\\n  float ao = ambientOcclusion(hitPoint, normal);\\n  float shadow = hardShadow(hitPoint, normal);\\n  vec3 colour = phong(hitPoint) * ao * shadow;\\n  return fog(colour, backgroundColour(dir), hit, depth);\\n}\\n\\nvec3 lightBounces(vec3 dir) {\\n  bool hit = true;\\n  vec3 origin;\\n  float depth;\\n  vec3 hitPoint;\\n  vec3 colour;\\n  int bounces;\\n  for (int i = 0; i < 10000; i++) {\\n    if (i == maxBounces || !hit) return colour / vec3(i);\\n    hit = rayMarch(origin, dir, depth, hitPoint);\\n    vec3 normal = estimateNormal(hitPoint);\\n    colour += shade(dir, hit, hitPoint, normal, depth);\\n    dir = reflect(dir, normal);\\n    origin = hitPoint + epsilon * normal;\\n  }\\n}\\n\\nvec3 antiAliasing(vec2 pixelPos) {\\n  vec3 colour;\\n  vec2 pixelSize = vec2(1, resolution.x / resolution.y);\\n  for (int i = 0; i < 10000; i++) {\\n    if (i == subSamples) break;\\n    vec3 dir = calcDir(pixelPos + vec2(i) * (pixelSize / vec2(subSamples + 1)));\\n    colour += lightBounces(dir);\\n  }\\n  return colour / vec3(subSamples);\\n}\\n\\nvoid main() {\\n  vec3 colour = antiAliasing(gl_FragCoord.xy);\\n  gl_FragColor = vec4(colour, 1.0);\\n}\";","module.exports=\"#define GLSLIFY 1\\nattribute vec4 position;\\n\\nvoid main() {\\n  gl_Position = position;\\n}\\n\";","import * as dat from 'dat.gui';\nimport { mat4, vec2, vec3 } from 'gl-matrix';\nimport * as twgl from 'twgl.js';\n\n// @ts-ignore\nimport fragmentSource from './shader/fragment.glsl';\n// @ts-ignore\nimport vertexSource from './shader/vertex.glsl';\n\nconst cnv = document.createElement('canvas');\nconst gl = cnv.getContext('webgl');\ndocument.body.appendChild(cnv);\n\nconst programInfo = twgl.createProgramInfo(gl, [vertexSource, fragmentSource]);\nconst vertices = [-1, -1, 0, 1, -1, 0, -1, 1, 0, -1, 1, 0, 1, -1, 0, 1, 1, 0];\nconst arrays = { position: vertices };\nconst bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);\n\nconst uniforms = {\n  maxSteps: 500,\n  minDist: 0.001,\n  maxDist: 50,\n  epsilon: 0.0001,\n  resolution: vec2.create(),\n  subSamples: 4,\n  FOV: 45,\n  rotationMatrix: mat4.create(),\n  lightPos: vec3.fromValues(5, 5, 5),\n  objectPos: vec3.fromValues(0, 0, -3),\n  objectColour: [246, 189, 120],\n  dynamicBg: true,\n  bgColourFactor: 0.8,\n  bgLightColour: [192, 219, 236],\n  bgDarkColour: [63, 113, 184],\n  diffuseFactor: 1,\n  specularFactor: 0.2,\n  ambientMin: 0.2,\n  specularPower: 10,\n  renderFractal: true,\n  maxIterations: 10,\n  fractalPower: 8,\n  sphereRadius: 0.6,\n  fogEnable: true,\n  maxBounces: 1,\n  aoEnable: true,\n  aoStepSize: 0.025,\n  aoFactor: 0.15,\n  aoIterations: 2,\n  enableShadows: true,\n  shadowFactor: 0.3,\n};\n\nconst state = {\n  isMoving: false,\n  isRotating: false,\n  highRes: false,\n  movingScale: 10,\n  xRotMax: 90,\n  mouseSens: 0.0015,\n  movementFactor: 0.05,\n  keyStates: {\n    KeyW: false,\n    KeyA: false,\n    KeyS: false,\n    KeyD: false,\n    Space: false,\n    ShiftLeft: false,\n  },\n  rotation: vec2.create(),\n  controllers: [],\n  resizingTimeoutId: 0,\n  slowDown: true,\n  slowDownThreshold: 2.5,\n  slowDownStrength: 0.85,\n  animatePower: false,\n  animateSpeed: 0.001,\n  fractalPowerOriginal: uniforms.fractalPower,\n  touchDevice: 'ontouchstart' in window,\n  pTouch: null,\n};\n\nfunction updateRotation() {\n  const xRotMatrix = mat4.create();\n  const yRotMatrix = mat4.create();\n  mat4.fromXRotation(xRotMatrix, state.rotation[0]);\n  mat4.fromYRotation(yRotMatrix, state.rotation[1]);\n  mat4.multiply(uniforms.rotationMatrix, yRotMatrix, xRotMatrix);\n}\n\nfunction updatePosition() {\n  const forward = vec3.fromValues(0, 0, -1);\n  const right = vec3.create();\n  const up = vec3.fromValues(0, 1, 0);\n  vec3.transformMat4(forward, forward, uniforms.rotationMatrix);\n  vec3.cross(right, forward, up);\n  vec3.cross(up, right, forward);\n  vec3.multiply(up, up, [0, 1, 0]);\n  vec3.normalize(forward, forward);\n  vec3.normalize(right, right);\n  vec3.normalize(up, up);\n  const diff = vec3.length(uniforms.objectPos) - state.slowDownThreshold;\n  const distFactor = diff < 0 ? (1 - state.slowDownStrength) ** -diff : 1;\n  const factor = state.movementFactor * (state.slowDown ? distFactor : 1);\n  vec3.scale(forward, forward, factor);\n  vec3.scale(right, right, factor);\n  vec3.scale(up, up, factor);\n  const ks = state.keyStates;\n  if (ks.KeyW) vec3.subtract(uniforms.objectPos, uniforms.objectPos, forward);\n  if (ks.KeyA) vec3.add(uniforms.objectPos, uniforms.objectPos, right);\n  if (ks.KeyS) vec3.add(uniforms.objectPos, uniforms.objectPos, forward);\n  if (ks.KeyD) vec3.subtract(uniforms.objectPos, uniforms.objectPos, right);\n  if (ks.Space) vec3.sub(uniforms.objectPos, uniforms.objectPos, up);\n  if (ks.ShiftLeft) vec3.add(uniforms.objectPos, uniforms.objectPos, up);\n}\n\nfunction updatePower(t: DOMHighResTimeStamp) {\n  const pow = state.fractalPowerOriginal;\n  uniforms.fractalPower = pow * Math.sin(t * state.animateSpeed) + 2 * pow;\n}\n\nfunction update(t: DOMHighResTimeStamp) {\n  renderLogic();\n  if (state.animatePower) updatePower(t);\n  requestAnimationFrame(update);\n}\n\nfunction calcRotation(movement: vec2) {\n  if (!state.touchDevice) state.isRotating = vec2.length(movement) > 1;\n  const factor = -state.mouseSens * uniforms.FOV * (Math.PI / 180);\n  vec2.scale(movement, movement, factor);\n  vec2.add(state.rotation, state.rotation, movement);\n  const lim = state.xRotMax * (Math.PI / 180);\n  state.rotation[0] = Math.min(Math.max(-lim, state.rotation[0]), lim);\n}\n\nfunction renderLogic() {\n  if (state.isMoving || state.isRotating || state.animatePower) {\n    updateRotation();\n    updatePosition();\n    render(false);\n  } else if (!state.highRes) {\n    render(true);\n  }\n}\n\nfunction render(highRes: boolean) {\n  state.highRes = highRes;\n  highRes ? setCanvasSize(1) : setCanvasSize(state.movingScale);\n  gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n  gl.useProgram(programInfo.program);\n  twgl.setBuffersAndAttributes(gl, programInfo, bufferInfo);\n  twgl.setUniforms(programInfo, uniforms);\n  twgl.drawBufferInfo(gl, bufferInfo);\n}\n\nfunction setCanvasSize(scl: number) {\n  const width = window.innerWidth / scl;\n  const height = window.innerHeight / scl;\n  cnv.width = width;\n  cnv.height = height;\n  cnv.style.width = String(window.innerWidth);\n  cnv.style.height = String(window.innerHeight);\n  uniforms.resolution = vec2.fromValues(width, height);\n}\n\nfunction configureGui() {\n  const gui = new dat.GUI();\n  const control = gui.addFolder('Control');\n  control.add(state, 'xRotMax', 1, 90);\n  control.add(state, 'mouseSens', 0, 0.005);\n  control.add(state, 'movementFactor', 0, 0.5);\n  control.add(state, 'slowDown');\n  control.add(state, 'slowDownThreshold', 0, 3);\n  control.add(state, 'slowDownStrength', 0, 1);\n  const rendering = gui.addFolder('Rendering');\n  state.controllers.push(rendering.add(state, 'movingScale', 1, 10, 1));\n  state.controllers.push(rendering.add(uniforms, 'maxSteps', 1, 1000, 1));\n  state.controllers.push(rendering.add(uniforms, 'minDist', 0, 1));\n  state.controllers.push(rendering.add(uniforms, 'maxDist', 1, 200, 1));\n  state.controllers.push(rendering.add(uniforms, 'epsilon', 0, 0.001));\n  state.controllers.push(rendering.add(uniforms, 'subSamples', 1, 10, 1));\n  state.controllers.push(rendering.add(uniforms, 'FOV', 1, 179));\n  const shading = gui.addFolder('Shading');\n  state.controllers.push(shading.addColor(uniforms, 'objectColour'));\n  state.controllers.push(shading.add(uniforms, 'dynamicBg'));\n  state.controllers.push(shading.add(uniforms, 'bgColourFactor', 0, 1));\n  state.controllers.push(shading.addColor(uniforms, 'bgLightColour'));\n  state.controllers.push(shading.addColor(uniforms, 'bgDarkColour'));\n  state.controllers.push(shading.add(uniforms, 'diffuseFactor', 0, 1));\n  state.controllers.push(shading.add(uniforms, 'specularFactor', 0, 1));\n  state.controllers.push(shading.add(uniforms, 'ambientMin', 0, 1));\n  state.controllers.push(shading.add(uniforms, 'specularPower', 1, 50));\n  state.controllers.push(shading.add(uniforms, 'fogEnable'));\n  state.controllers.push(shading.add(uniforms, 'maxBounces', 1, 5, 1));\n  state.controllers.push(shading.add(uniforms, 'aoEnable'));\n  state.controllers.push(shading.add(uniforms, 'aoStepSize', 0, 10));\n  state.controllers.push(shading.add(uniforms, 'aoFactor', 0, 1));\n  state.controllers.push(shading.add(uniforms, 'aoIterations', 1, 5, 1));\n  state.controllers.push(shading.add(uniforms, 'enableShadows'));\n  state.controllers.push(shading.add(uniforms, 'shadowFactor', 0, 1));\n  const sdf = gui.addFolder('SDF');\n  state.controllers.push(sdf.add(uniforms, 'renderFractal'));\n  state.controllers.push(sdf.add(uniforms, 'maxIterations', 1, 100, 1));\n  state.controllers.push(sdf.add(uniforms, 'fractalPower', 1, 20).listen());\n  state.controllers.push(sdf.add(state, 'animatePower'));\n  state.controllers.push(sdf.add(state, 'animateSpeed', 0.0001, 0.001));\n  state.controllers.push(sdf.add(uniforms, 'sphereRadius', 0, 5));\n  for (const controller of state.controllers) {\n    controller.onFinishChange(render);\n  }\n}\n\nfunction handleKey(e: KeyboardEvent) {\n  if (document.pointerLockElement !== cnv) return;\n  if (e.repeat) return;\n  state.isMoving = false;\n  for (const [key, value] of Object.entries(state.keyStates)) {\n    if (e.code === key) state.keyStates[key] = !value;\n    state.isMoving = state.isMoving || state.keyStates[key];\n  }\n}\n\nfunction handleClick() {\n  if (state.touchDevice) return;\n  cnv.requestPointerLock();\n}\n\nfunction handleMouseMove(e: MouseEvent) {\n  if (state.touchDevice) return;\n  if (document.pointerLockElement === cnv) {\n    const movement = vec2.fromValues(e.movementY, e.movementX);\n    calcRotation(movement);\n  }\n}\n\nfunction handleTouchMove(e: TouchEvent) {\n  const mainTouch = e.targetTouches[0];\n  const touch = vec2.fromValues(mainTouch.pageY, mainTouch.pageX);\n  if (state.pTouch === null) {\n    state.pTouch = touch;\n    state.isRotating = true;\n  } else {\n    const movement = vec2.create();\n    vec2.subtract(movement, touch, state.pTouch);\n    state.pTouch = touch;\n    calcRotation(movement);\n  }\n}\n\nfunction handleTouchEnd() {\n  state.pTouch = null;\n  state.isRotating = false;\n}\n\nfunction handleResize() {\n  clearTimeout(state.resizingTimeoutId);\n  state.resizingTimeoutId = setTimeout(() => {\n    render(true);\n  }, 25);\n}\n\ndocument.addEventListener('keydown', handleKey);\ndocument.addEventListener('keyup', handleKey);\ndocument.addEventListener('mousemove', handleMouseMove);\ncnv.addEventListener('touchmove', handleTouchMove);\ncnv.addEventListener('touchend', handleTouchEnd);\nwindow.addEventListener('resize', handleResize);\ncnv.addEventListener('click', handleClick);\n\nconfigureGui();\nrequestAnimationFrame(update);\n"]}